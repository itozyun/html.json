var z, aa = {xml:!0, svg:!0, math:!0}, A = {checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, ismap:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, nowrap:!0, readonly:!0, selected:!0}, ba = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, WBR:!0, area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, 
isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, D = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, 
WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, 
UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, 
FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, 
svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, 
OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLETE:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
D.LI = D.TD = D.DD;
D.TH = D.DT;
D.RB = D.RP = D.RT = D.P;
D.TFOOT = D.THEAD = D.TBODY;
D.RTC = D.RBC;
var ca = {HTML:!0, HEAD:!0, BODY:!0, P:!0, DT:!0, DD:!0, LI:!0, OPTION:!0, TBODY:!0, THEAD:!0, TFOOT:!0, TD:!0, TH:!0, TR:!0, RB:!0, RBC:!0, RP:!0, RT:!0, RTC:!0, OPTGROUP:!0, CAPTION:!0, COLGROUP:!0}, E = {A:!0, AUDIO:!0, DEL:!0, INS:!0, MAP:!0, NOSCRIPT:!0, VIDEO:!0}, da = {H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, ADDRESS:!0, BLOCKQUOTE:!0, DIV:!0, DL:!0, FIELDSET:!0, FORM:!0, HR:!0, LEGEND:!0, MENU:!0, NOSCRIPT:!0, OL:!0, P:!0, PRE:!0, UL:!0, CENTER:!0, DIR:!0, NOFRAMES:!0, MARQUEE:!0}, I = {SCRIPT:!0, 
STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, J = !1, K = !1, L = !1;
function N(a) {
  return !(!a || a.pop !== [].pop);
}
function ea(a) {
  return !(!a || "object" !== typeof a);
}
function O(a) {
  return "" + a === a;
}
function P(a) {
  return O(a) || a === +a;
}
function fa(a) {
  if (P(a)) {
    a = 3;
  } else if (N(a)) {
    if (O(a[0])) {
      a = 1;
    } else {
      var b = a[0];
      a = b === +b ? a[0] : -1;
    }
  } else {
    a = -1;
  }
  return a;
}
function ha(a, b, c, f) {
  var d = b[1], h = b.slice(2), l;
  "function" === typeof a ? l = h.length ? a(d, h) : a(d) : l = h.length ? a[d](h) : a[d]();
  void 0 !== l && null !== l && "" !== l && (P(l) ? c ? c.splice(f, 1, l) : (b.length = 0, b.push(3, b)) : N(l) && (11 === l[0] ? c ? (l.shift(), l.unshift(f, 1), c.splice.apply(c, l)) : (b.length = 0, b.push.apply(b, l)) : N(l[0]) ? c ? (l.unshift(f, 1), c.splice.apply(c, l)) : (b.length = 0, b.push(11), b.push.apply(b, l)) : c ? c.splice(f, 1, l) : (b.length = 0, b.push(11, l))));
  return l;
}
function ia(a, b, c, f) {
  var d;
  if (N(c) && O(c[0])) {
    var h = c[0];
    c = c.slice(1);
    "function" === typeof a ? d = c.length ? a(h, c) : a(h) : d = c.length ? a[h](c) : a[h]();
  } else {
    O(c) && ("function" === typeof a ? d = a(c) : d = a[c]());
  }
  return N(d) ? ia(a, b, d, f) : d;
}
function ja(a, b, c) {
  a = ka(a);
  var f;
  la = a;
  b && (b.h ? b.h.push(a) : b.h = [a]);
  if (N(c)) {
    var d = 1 === a.m || 17 === a.m;
    b = 0;
    for (f = c.length; b < f; b += 2) {
      var h = c[b], l = c[b + 1];
      if (h === +h) {
        if (h === a.m && !0 === l(a)) {
          break;
        }
      } else if (d && O(h) && h === a.G && !0 === l(a)) {
        break;
      }
    }
  } else {
    c(a);
  }
  return a;
}
function Q(a) {
  return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
}
function R(a, b, c) {
  a = Q("" + a);
  var f = a.match('"'), d = a.match("'"), h = b ? "'" : '"';
  if (f && d) {
    a = b ? h + a.split("'").join("\\'") + h : h + a.split('"').join('\\"') + h;
  } else if (f) {
    a = "'" + a + "'";
  } else if (d) {
    a = b ? h + a.split("'").join("\\'") + h : h + a + h;
  } else if (c || a.match(/[^0-9a-z\.\-]/g) || 72 < a.length) {
    a = h + a + h;
  }
  return a;
}
function ma(a) {
  var b = [];
  a = a.split("");
  for (var c = a.length, f; c;) {
    f = a[--c], "A" <= f && "Z" >= f && (f = "-" + f.toLowerCase()), b[c] = f;
  }
  return b.join("");
}
function na(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), f = "", d = "";
  b < c ? (f = a.split(".")[1], a = a.split(".")[0], 0 < b && (d = a.split("#")[1], a = a.split("#")[0])) : c < b && (d = a.split("#")[1], a = a.split("#")[0], 0 < c && (f = a.split(".")[1], a = a.split(".")[0]));
  return [a, d, f];
}
function ka(a) {
  return function(b, c) {
    function f(e, w, g) {
      if (d) {
        var k = d;
        sa <= ta(k) ? (k.v = k.v || [], k.v.push([e, w, g]), e = null) : e = new S(k, k.h && k.h.length, e, w, g);
      } else {
        e = new S(!0, 0, e, w, g);
      }
      return e;
    }
    var d = c === !!c ? null : c;
    c = b[0];
    var h = b[1], l = 1, C = c;
    switch(c) {
      case 3:
      case 4:
      case 8:
      case 14:
      case 18:
        return f(c, h);
      case 15:
        return f(c);
      case 7:
        var n = [];
        l = 2;
        for (C = b.length; l < C; ++l) {
          n[l - 2] = b[l];
        }
        return f(c, h, C ? n : null);
      case 9:
      case 13:
      case 16:
        n = f(c, h);
        break;
      case 11:
        n = f(c);
        break;
      case 1:
      case 17:
        C = h, l = 2;
      default:
        O(C) && (n = f(1 === l ? 1 : c, C, b[l]));
    }
    return n;
  }(a, !0);
}
function S(a, b, c, f, d) {
  if (a === !!a) {
    var h = null;
    this.l = a;
  } else {
    h = a, this.l = h.l;
  }
  this.j = h;
  this.m = c;
  h && (h.h || (h.h = []), a = h.h, 0 <= b && b < a.length ? a.splice(b, 0, this) : a.push(this));
  switch(c) {
    case 1:
    case 17:
    case 18:
      this.G = f;
      break;
    case 7:
      this.C = d || null;
  }
}
var la = null;
function ta(a) {
  return a.l ? la === a ? a.F ? ua : a.H ? sa : va : la.j === a ? wa : xa : ya;
}
S.prototype.remove = function() {
  if (sa <= ta(this)) {
    return this.F = !0, null;
  }
  var a = this.j ? this.j.h.indexOf(this) : -1;
  0 <= a && (this.j.h.splice(a, 1), this.j = null);
};
S.prototype.wrap = function(a, b, c) {
  if (this.l) {
    this.D = this.D || [], this.D.push([a, b, c]), a = null;
  } else if (this.j) {
    var f = this.j, d = this.j ? this.j.h.indexOf(this) : -1;
    a = new S(f, d, a, b, c);
  } else {
    a = null;
  }
  za(a, 0, [this]);
  return a;
};
function za(a, b, c) {
  var f = a.h = a.h || [], d = f.length, h = c.length;
  for (b = b < d ? b : d; h;) {
    d = c[--h], 11 === d.m ? d.h && d.h.length && za(a, b, d.h) : (d.remove(), f.splice(b, 0, d), d.j = a);
  }
}
var ya = 0, xa = 1, va = 2, sa = 3, ua = 4, wa = 5;
function Aa(a, b, c, f, d) {
  function h(q, G, m, F, p, t) {
    function v() {
      var oa = "";
      u && (oa = "</" + u + ">", u = "");
      return oa;
    }
    var B = e ? ja(q, m, e) : null;
    m = "";
    var pa = q[0], H = q[1], M = 1, x = pa, qa;
    switch(pa) {
      case 9:
        m = H + l(q, B, !1, t);
        break;
      case 11:
        m = l(q, B, p, t);
        break;
      case 3:
        m = v() + (t ? H : Q("" + H));
        break;
      case 4:
        m = "<![CDATA[" + H + "]]\x3e";
        break;
      case 8:
        m = "\x3c!--" + H + "--\x3e";
        break;
      case 13:
        m = v() + "\x3c!--[" + H + "]>" + l(q, B, !0, t) + "<![endif]--\x3e";
        break;
      case 16:
        m = v() + "\x3c!--{" + H + "};" + l(q, B, !0, t) + "--\x3e";
        break;
      case 14:
        m = "\x3c!--[" + H + "]>\x3c!--\x3e";
        break;
      case 15:
        m = "\x3c!--<![endif]--\x3e";
        break;
      case 7:
        if (n) {
          if (p = ha(n, q, G, F), void 0 !== p && null !== p && "" !== p && (P(p) || N(p))) {
            return -1;
          }
        } else {
          w("onInstruction is void!");
        }
        break;
      case 18:
        m = "</" + H + ">";
        break;
      case 17:
        var ra = !0;
      case 1:
        x = q[1], M = 2;
      default:
        x = na(x), G = x[1], F = x[2], x = x[0], M = q[M], "P" !== u || da[x] ? u = "" : m = v(), m += "<" + x, G && (m += " id=" + R(G, k, y || g)), F && (m += " class=" + R(F, k, y || g)), y || (qa = y = y || aa[x] ? !0 : 0 < x.indexOf(":")), !N(M) && ea(M) && (m += C(M)), m = (q = l(q, B, E[x], t || I[x])) ? m + (">" + q) : ra ? m + ">" : m + (y ? " />" : ">"), ra ? u = "" : y && !q || ca[x] && (!p || "P" !== x) ? u = ba[x] ? "" : x : (m += "</" + x + ">", u = ""), qa && (y = !1);
    }
    return m;
  }
  function l(q, G, m, F) {
    var p = [], t = q[0], v = t === +t ? 2 : 1;
    1 === fa(q) || 17 === t ? (t = q[v], v = !N(t) && ea(t) ? v + 1 : v) : v = 11 === t ? 1 : 9 === t || 13 === t || 16 === t ? 2 : Infinity;
    t = -1;
    for (var B; v < q.length; ++v) {
      B = q[v], P(B) ? p[++t] = h([3, B], q, G, v, !1, F) : N(B) && (B = h(B, q, G, v, m, F), -1 === B ? --v : p[++t] = B);
    }
    return p.join("");
  }
  function C(q) {
    var G = "", m, F;
    for (m in q) {
      var p = q[m];
      (F = 0 === m.indexOf(r)) && (m = m.substr(r.length));
      "className" === m && (m = "class");
      F && (n ? p = ia(n, m, p, w) : w("onInstruction is void!"));
      if (!(null == p || A[m] && !1 === p || (G += " " + m, A[m]))) {
        if ("style" === m && ea(p)) {
          F = void 0;
          var t = p, v = [], B = -1;
          for (F in t) {
            p = t[F], "0px" === p && (p = 0), v[++B] = ma(F) + ":" + Q("" + p);
          }
          p = v.join(";").substr(1);
          if (!p) {
            continue;
          }
        }
        G += "=" + R(p, k, y || g);
      }
    }
    return G;
  }
  var n = b || null, e = c || null, w = "function" === typeof f ? f : function() {
  };
  b = d || {};
  var g = !0 === b.quotAlways, k = !0 === b.useSingleQuot, r = b.instructionAttrPrefix || ":", u, y = L;
  if (N(a)) {
    return 7 === fa(a) && (a = [11, a]), h(a, null, null, 0, J || !1, K || !1);
  }
}
var Ba = {ua:1, Da:2, va:3, Ea:4, ma:5, na:6, Oa:7, oa:8, wa:9, Ha:10, Aa:11, Fa:17, Ga:18, Pa:33, Qa:34, Ra:35, pa:49, qa:50, ra:51, sa:52, xa:65, ya:66, za:67, Ba:81, Ca:83, Ia:97, Ja:98, Ka:99, La:100, Ma:101, Na:102, Sa:113, ta:114, OBJECT:129, la:130};
const T = Buffer.from ? Buffer.from : (...a) => new Buffer(...a), U = Buffer.alloc ? Buffer.alloc : (...a) => new Buffer(...a);
function Ca() {
  this.h = 17;
  this.string = this.value = void 0;
  this.W = U(65536);
  this.l = 0;
  this.mode = this.key = this.v = this.R = void 0;
  this.stack = [];
  this.m = 113;
  this.j = this.N = 0;
  this.aa = {2:U(2), 3:U(3), 4:U(4)};
  this.offset = -1;
}
function V(a) {
  for (var b = Object.keys(Ba), c = 0, f = b.length; c < f; c++) {
    var d = b[c];
    if (Ba[d] === a) {
      return d;
    }
  }
  return a && "0x" + a.toString(16);
}
z = Ca.prototype;
z.O = function(a) {
  throw a;
};
function W(a, b, c) {
  a.h = 18;
  a.O(Error("Unexpected " + JSON.stringify(String.fromCharCode(b[c])) + " at position " + c + " in state " + V(a.h)));
}
function X(a, b) {
  65536 <= a.l && (a.string += a.W.toString("utf8"), a.l = 0);
  a.W[a.l++] = b;
}
function Y(a, b, c, f) {
  var d = b.length;
  "number" === typeof c && (d = "number" === typeof f ? 0 > f ? b.length - c + f : f - c : b.length - c);
  0 > d && (d = 0);
  65536 < a.l + d && (a.string += a.W.toString("utf8", 0, a.l), a.l = 0);
  b.copy(a.W, a.l, c, f);
  a.l += d;
}
z.write = function(a) {
  "string" === typeof a && (a = T(a));
  for (var b, c = 0, f = a.length; c < f; c++) {
    switch(this.h) {
      case 17:
        b = a[c];
        this.offset++;
        if (123 === b) {
          this.o(1, "{");
        } else if (125 === b) {
          this.o(2, "}");
        } else if (91 === b) {
          this.o(3, "[");
        } else if (93 === b) {
          this.o(4, "]");
        } else if (58 === b) {
          this.o(5, ":");
        } else if (44 === b) {
          this.o(6, ",");
        } else if (116 === b) {
          this.h = 33;
        } else if (102 === b) {
          this.h = 49;
        } else if (110 === b) {
          this.h = 65;
        } else if (34 === b) {
          this.string = "", this.l = 0, this.h = 97;
        } else if (45 === b) {
          this.string = "-", this.h = 81;
        } else if (48 <= b && 64 > b) {
          this.string = String.fromCharCode(b), this.h = 83;
        } else if (32 !== b && 9 !== b && 10 !== b && 13 !== b) {
          return W(this, a, c);
        }
        break;
      case 97:
        b = a[c];
        if (0 < this.N) {
          for (b = 0; b < this.N; b++) {
            this.aa[this.j][this.j - this.N + b] = a[b];
          }
          Y(this, this.aa[this.j]);
          this.j = this.N = 0;
          c = c + b - 1;
        } else if (0 === this.N && 128 <= b) {
          if (193 >= b || 244 < b) {
            return this.O(Error("Invalid UTF-8 character at position " + c + " in state " + V(this.h)));
          }
          194 <= b && 223 >= b && (this.j = 2);
          224 <= b && 239 >= b && (this.j = 3);
          240 <= b && 244 >= b && (this.j = 4);
          if (this.j + c > a.length) {
            for (b = 0; b <= a.length - 1 - c; b++) {
              this.aa[this.j][b] = a[c + b];
            }
            this.N = c + this.j - a.length;
            c = a.length - 1;
          } else {
            Y(this, a, c, c + this.j), c = c + this.j - 1;
          }
        } else if (34 === b) {
          this.h = 17, this.string += this.W.toString("utf8", 0, this.l), this.l = 0, this.o(10, this.string), this.offset += Buffer.byteLength(this.string, "utf8") + 1, this.string = void 0;
        } else if (92 === b) {
          this.h = 98;
        } else if (32 <= b) {
          X(this, b);
        } else {
          return W(this, a, c);
        }
        break;
      case 98:
        b = a[c];
        if (34 === b) {
          X(this, b), this.h = 97;
        } else if (92 === b) {
          X(this, 92), this.h = 97;
        } else if (47 === b) {
          X(this, 47), this.h = 97;
        } else if (98 === b) {
          X(this, 8), this.h = 97;
        } else if (102 === b) {
          X(this, 12), this.h = 97;
        } else if (110 === b) {
          X(this, 10), this.h = 97;
        } else if (114 === b) {
          X(this, 13), this.h = 97;
        } else if (116 === b) {
          X(this, 9), this.h = 97;
        } else if (117 === b) {
          this.R = "", this.h = 99;
        } else {
          return W(this, a, c);
        }
        break;
      case 99:
      case 100:
      case 101:
      case 102:
        b = a[c];
        if (48 <= b && 64 > b || 64 < b && 70 >= b || 96 < b && 102 >= b) {
          this.R += String.fromCharCode(b), 102 === this.h++ && (b = parseInt(this.R, 16), this.R = void 0, void 0 !== this.v && 56320 <= b && 57344 > b ? (Y(this, T(String.fromCharCode(this.v, b))), this.v = void 0) : void 0 === this.v && 55296 <= b && 56320 > b ? this.v = b : (void 0 !== this.v && (Y(this, T(String.fromCharCode(this.v))), this.v = void 0), Y(this, T(String.fromCharCode(b)))), this.h = 97);
        } else {
          return W(this, a, c);
        }
        break;
      case 81:
      case 83:
        b = a[c];
        switch(b) {
          case 48:
          case 49:
          case 50:
          case 51:
          case 52:
          case 53:
          case 54:
          case 55:
          case 56:
          case 57:
          case 46:
          case 101:
          case 69:
          case 43:
          case 45:
            this.string += String.fromCharCode(b);
            this.h = 83;
            break;
          default:
            this.h = 17;
            b = Number(this.string);
            if (isNaN(b)) {
              return W(this, a, c);
            }
            this.string.match(/[0-9]+/) == this.string && b.toString() != this.string ? this.o(10, this.string) : this.o(11, b);
            this.offset += this.string.length - 1;
            this.string = void 0;
            c--;
        }break;
      case 33:
        if (114 === a[c]) {
          this.h = 34;
        } else {
          return W(this, a, c);
        }
        break;
      case 34:
        if (117 === a[c]) {
          this.h = 35;
        } else {
          return W(this, a, c);
        }
        break;
      case 35:
        if (101 === a[c]) {
          this.h = 17, this.o(7, !0), this.offset += 3;
        } else {
          return W(this, a, c);
        }
        break;
      case 49:
        if (97 === a[c]) {
          this.h = 50;
        } else {
          return W(this, a, c);
        }
        break;
      case 50:
        if (108 === a[c]) {
          this.h = 51;
        } else {
          return W(this, a, c);
        }
        break;
      case 51:
        if (115 === a[c]) {
          this.h = 52;
        } else {
          return W(this, a, c);
        }
        break;
      case 52:
        if (101 === a[c]) {
          this.h = 17, this.o(8, !1), this.offset += 4;
        } else {
          return W(this, a, c);
        }
        break;
      case 65:
        if (117 === a[c]) {
          this.h = 66;
        } else {
          return W(this, a, c);
        }
        break;
      case 66:
        if (108 === a[c]) {
          this.h = 67;
        } else {
          return W(this, a, c);
        }
        break;
      case 67:
        if (108 === a[c]) {
          this.h = 17, this.o(9, null), this.offset += 3;
        } else {
          return W(this, a, c);
        }
    }
  }
};
z.o = function() {
};
function Z(a, b, c) {
  a.h = 18;
  a.O(Error("Unexpected " + V(b) + (c ? "(" + JSON.stringify(c) + ")" : "") + " in state " + V(a.m)));
}
z.push = function() {
  this.stack.push({value:this.value, key:this.key, mode:this.mode});
};
z.pop = function() {
  var a = this.value, b = this.stack.pop();
  this.value = b.value;
  this.key = b.key;
  this.mode = b.mode;
  this.emit(a);
  this.mode || (this.m = 113);
};
z.emit = function() {
  this.mode && (this.m = 6);
};
z.o = function(a, b) {
  switch(this.m) {
    case 113:
      switch(a) {
        case 10:
        case 11:
        case 7:
        case 8:
        case 9:
          this.value && (this.value[this.key] = b);
          this.emit(b);
          break;
        case 1:
          this.push();
          this.value = this.value ? this.value[this.key] = {} : {};
          this.key = void 0;
          this.m = 114;
          this.mode = 129;
          break;
        case 3:
          this.push();
          this.value = this.value ? this.value[this.key] = [] : [];
          this.key = 0;
          this.mode = 130;
          this.m = 113;
          break;
        case 2:
          if (129 === this.mode) {
            this.pop();
          } else {
            return Z(this, a, b);
          }
          break;
        case 4:
          if (130 === this.mode) {
            this.pop();
          } else {
            return Z(this, a, b);
          }
          break;
        default:
          return Z(this, a, b);
      }break;
    case 114:
      if (10 === a) {
        this.key = b, this.m = 5;
      } else if (2 === a) {
        this.pop();
      } else {
        return Z(this, a, b);
      }
      break;
    case 5:
      if (5 === a) {
        this.m = 113;
      } else {
        return Z(this, a, b);
      }
      break;
    case 6:
      if (6 === a) {
        130 === this.mode ? (this.key++, this.m = 113) : 129 === this.mode && (this.m = 114);
      } else if (4 === a && 130 === this.mode || 2 === a && 129 === this.mode) {
        this.pop();
      } else {
        return Z(this, a, b);
      }
      break;
    default:
      return Z(this, a, b);
  }
};
var Da = require("node:stream");
function Ea(a) {
  for (var b = a.ba; b.length && !a.paused;) {
    var c = b.shift();
    null === c ? a.emit("end") : a.emit("data", c);
  }
}
function Fa(a) {
  if (a.paused) {
    a.on("resume", () => Fa(a));
  } else {
    a.writable && (a.writable = !1, a.ha.call(a), !a.readable && a.autoDestroy && a.destroy());
  }
}
var Ia = class extends Da {
  constructor() {
    var a = Ga, b = Ha;
    super();
    this.ia = a;
    this.ha = b;
    this.fa = this.paused = this.ea = this.ended = !1;
    this.autoDestroy = this.readable = this.writable = !0;
    this.ba = [];
    this.on("end", () => {
      this.readable = !1;
      !this.writable && this.autoDestroy && process.nextTick(() => this.destroy());
    });
  }
  write(a) {
    this.ia.call(this, a);
    return !this.paused;
  }
  queue(a) {
    this.ea || (null === a && (this.ea = !0), this.ba.push(a), Ea(this));
  }
  end(a) {
    this.ended || (this.ended = !0, arguments.length && this.write(a), Fa(this));
  }
  destroy() {
    this.fa || (this.ended = this.fa = !0, this.ba.length = 0, this.writable = this.readable = !1, this.emit("close"));
  }
  pause() {
    this.paused || (this.paused = !0);
  }
  resume() {
    this.paused && (this.paused = !1, this.emit("resume"));
    Ea(this);
    this.paused || this.emit("drain");
  }
};
module.exports = function(a, b, c, f) {
  const d = new Ca(), h = new Ia();
  f = f || {};
  h._parser = d;
  d.K = h;
  d.F = d.o;
  d.o = Ja;
  d.O = Ka;
  d.ca = 0;
  d.ka = [];
  d.C = [];
  d.M = a || null;
  d.ja = b || null;
  d.X = "function" === typeof c ? c : function() {
  };
  d.Y = !!f.quotAlways;
  d.Z = !!f.useSingleQuot;
  d.$ = f.instructionAttrPrefix || ":";
  d.V = "";
  return h;
};
module.exports.DOCUMENT_NODE = 9;
module.exports.DOCUMENT_FRAGMENT_NODE = 11;
module.exports.ELEMENT_NODE = 1;
module.exports.TEXT_NODE = 3;
module.exports.CDATA_SECTION = 4;
module.exports.PROCESSING_INSTRUCTION = 7;
module.exports.COMMENT_NODE = 8;
module.exports.COND_CMT_HIDE_LOWER = 13;
module.exports.COND_CMT_SHOW_LOWER_START = 14;
module.exports.COND_CMT_SHOW_LOWER_END = 15;
module.exports.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
module.exports.ELEMENT_START_TAG = 17;
module.exports.ELEMENT_END_TAG = 18;
function Ga(a) {
  "string" === typeof a && (a = T(a));
  this._parser.write(a);
}
function Ha(a) {
  a && this.write(a);
  43 !== this._parser.ca && this.emit("error", "Invalid html.json");
  this.queue(null);
  this._parser = this._parser.K = null;
}
function Ka(a) {
  -1 < a.message.indexOf("at position") && (a.message = "Invalid JSON (" + a.message + ")");
  this.X(a.message);
  this.K.emit("error", a);
}
function Ja(a, b) {
  function c() {
    if (g.M) {
      const r = g.C.length ? g.M.call(g.K, g.D, g.C) : g.M.call(g.K, g.D);
      g.D = null;
      g.C.length = 0;
      return r;
    }
    g.O("onInstruction is void!");
    return "";
  }
  function f() {
    if (g.M) {
      g.C.unshift(g.D);
      const r = ia(g.M.bind(g.K), g.T, g.C, g.X);
      g.D = null;
      g.C.length = 0;
      return r;
    }
    g.O("onInstruction is void!");
    return "";
  }
  function d(r) {
    if (null != r) {
      if (A[g.T]) {
        if (!1 !== r) {
          return " " + g.T;
        }
      } else {
        return " " + g.T + "=" + R(r, g.Z, g.G || g.Y);
      }
    }
    return "";
  }
  function h(r) {
    const u = n.pop();
    e = n.length ? 42 : 43;
    switch(u) {
      case 13:
        k = "<![endif]--\x3e";
        break;
      case 4:
        k = "]]\x3e";
        break;
      case 16:
      case 8:
        k = "--\x3e";
        break;
      default:
        "" === u ? (k = r ? "" : ">", g.H = "", l()) : O(u) && (k = r ? "" : g.da || g.G ? " />" : ">", (g.da || g.G) && !r || ca[u] && (!g.J || "P" !== u) ? g.H = ba[u] ? "" : u : (k += "</" + u + ">", g.H = ""), l());
    }
  }
  function l() {
    g.J = g.L = g.G = !1;
    for (let r = 0, u = n.length; r < u; ++r) {
      const y = n[r];
      13 === y || 16 === y ? g.J = !0 : O(y) && (r === u - 1 && (g.J = g.J || E[y]), I[y] && (g.L = !0), aa[y] || 0 < y.indexOf(":")) && (g.G = !0);
    }
  }
  function C() {
    let r = "";
    g.H && (r = "</" + g.H + ">", g.H = "");
    return r;
  }
  if (5 === a || 6 === a) {
    this.stack.length && this.F(a, b);
  } else {
    var n = this.ka, e = this.ca, w = !1, g = this;
    switch(e) {
      case 39:
        switch(a) {
          case 3:
          case 1:
            this.F(a, b);
            return;
          case 4:
            if (0 === this.stack.length) {
              a = c();
              if (N(a)) {
                J = this.J;
                K = this.L;
                L = this.da || this.G;
                var k = Aa(a, this.M, this.ja, this.X, {quotAlways:this.Y, useSingleQuot:this.Z, instructionAttrPrefix:this.$});
                J = K = L = !1;
              } else {
                k = P(a) ? "" + a : "";
              }
              h(!!k);
              break;
            }
          case 2:
            1 === this.stack.length && (this.C.push(this.value), this.value = null);
            this.F(a, b);
            return;
          case 10:
          case 11:
          case 7:
          case 8:
          case 9:
            this.stack.length ? this.F(a, b) : this.C.push(b);
            return;
          default:
            e = -1;
        }break;
      case 36:
        switch(a) {
          case 3:
          case 1:
            this.F(a, b);
            return;
          case 4:
            if (0 === this.stack.length) {
              k = d(f());
              e = 31;
              break;
            }
          case 2:
            1 === this.stack.length && (this.C.push(this.value), this.value = null);
            this.F(a, b);
            return;
          case 10:
            if (0 === this.stack.length && !this.D) {
              this.D = b;
              return;
            }
          case 11:
          case 7:
          case 8:
          case 9:
            this.stack.length ? this.F(a, b) : this.C.push(b);
            return;
          default:
            e = -1;
        }break;
      default:
        switch(a) {
          case 3:
            switch(e) {
              case 30:
              case 41:
                w = O(n[n.length - 1]);
              case 0:
              case 42:
                a = 0;
                break;
              case 40:
                a = 36;
                break;
              default:
                a = -1;
            }break;
          case 4:
            a = 30 === e || 41 === e ? 38 : 42 === e || 37 === e ? 37 : -1;
            break;
          case 1:
            a = 30 === e ? 30 : 33 === e ? 33 : -1;
            break;
          case 2:
            a = 31 === e ? 39 : 34 === e ? 40 : -1;
            break;
          case 10:
            switch(e) {
              case 38:
              case 27:
                a = 27;
                break;
              case 28:
                a = 28;
                break;
              case 29:
                a = 29;
                break;
              case 19:
                a = 19;
                break;
              case 20:
                a = 20;
                break;
              case 21:
                a = 21;
                break;
              case 22:
                a = 22;
                break;
              case 23:
                a = 23;
                break;
              case 25:
                a = 25;
                break;
              case 24:
                a = 24;
                break;
              case 31:
                a = 31;
                break;
              case 32:
                a = 32;
                break;
              case 33:
                a = 33;
                break;
              case 34:
                a = 34;
                break;
              case 35:
                a = 35;
                break;
              case 30:
              case 41:
                w = O(n[n.length - 1]);
              case 42:
                a = 41;
                break;
              case 26:
                a = 26;
                break;
              case 40:
                a = 42;
                break;
              default:
                a = -1;
            }break;
          case 11:
            switch(e) {
              case 38:
                a = b;
                break;
              case 32:
                a = 32;
                break;
              case 35:
                a = 35;
                break;
              case 20:
                a = 20;
                break;
              case 30:
              case 41:
                w = O(n[n.length - 1]);
              case 42:
                a = 41;
                break;
              case 21:
                a = 21;
                break;
              case 22:
                a = 22;
                break;
              default:
                a = -1;
            }break;
          case 7:
          case 8:
          case 9:
            a = 32 === e ? 32 : -1;
            break;
          default:
            a = -1;
        }switch(a) {
          case 0:
            k = w ? (w = !1, ">") : "";
            e = 38;
            break;
          case 9:
            e = 19;
            n.push(9);
            break;
          case 19:
            k = b;
            e = 41;
            break;
          case 11:
            e = 41;
            n.push(11);
            break;
          case 1:
            e = 27;
            break;
          case 17:
            e = 28;
            break;
          case 27:
          case 28:
            b = na(b);
            w = b[1];
            const r = b[2];
            b = b[0];
            "P" !== this.H || da[b] ? this.H = k = "" : k = C();
            k += "<" + b;
            w && (k += " id=" + R(w, this.Z, this.G || this.Y));
            r && (k += " class=" + R(r, this.Z, this.G || this.Y));
            this.J || (this.J = !!E[b]);
            this.L || (this.L = !!I[b]);
            28 === a ? n.push("") : n.push(b);
            l();
            e = 30;
            break;
          case 30:
            e = 31;
            break;
          case 31:
            0 === b.indexOf(this.$) ? (this.T = b.substr(this.$.length), e = 40) : (this.T = b, e = "style" === b ? 33 : 32);
            break;
          case 36:
            e = 36;
            break;
          case 42:
            this.D = b, b = f();
          case 32:
            k = d(b);
            e = 31;
            break;
          case 39:
            e = 41;
            break;
          case 33:
            e = 34;
            break;
          case 34:
            this.ga = b;
            e = 35;
            break;
          case 35:
            "" !== b && null !== b && (this.V += ";" + ma(this.ga) + ":" + b);
            e = 34;
            break;
          case 40:
            this.V && (k = d(this.V.substr(1)), this.V = "");
            e = 31;
            break;
          case 37:
            h(!0);
            break;
          case 38:
            h(!1);
            break;
          case 18:
            e = 29;
            n.push(18);
            break;
          case 29:
            k = "</" + b + ">";
            e = 37;
            break;
          case 3:
            e = 20;
            n.push(3);
            break;
          case 20:
            k = C() + (g.L ? "" + b : Q("" + b));
            e = 37;
            break;
          case 41:
            k = (w ? (w = !1, ">") : "") + C() + (g.L ? "" + b : Q("" + b));
            e = 42;
            break;
          case 4:
            k = "<![CDATA[";
            e = 21;
            n.push(4);
            break;
          case 21:
            k = b;
            e = 37;
            break;
          case 8:
            k = "\x3c!--";
            e = 22;
            n.push(8);
            break;
          case 22:
            k = b;
            e = 37;
            break;
          case 13:
            k = C() + "\x3c!--[";
            e = 23;
            n.push(13);
            break;
          case 23:
            k = b + "]>";
            e = 41;
            break;
          case 16:
            k = C() + "\x3c!--{";
            e = 25;
            n.push(16);
            break;
          case 25:
            k = b + "};";
            e = 41;
            break;
          case 14:
            k = "\x3c!--[";
            e = 24;
            n.push(14);
            break;
          case 24:
            k = b + "]>\x3c!--\x3e";
            e = 37;
            break;
          case 15:
            k = "\x3c!--<![endif]--\x3e";
            e = 37;
            n.push(15);
            break;
          case 7:
            e = 26;
            n.push(7);
            break;
          case 26:
            this.D = b;
            e = 39;
            break;
          default:
            e = -1;
        }
    }
    -1 === e ? (this.X("Not html.json format!"), this.K.emit("error", "Not html.json format!")) : (this.ca = e, k && this.K.queue(k));
  }
}
;
