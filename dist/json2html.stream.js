var aa = {xml:!0, svg:!0, math:!0}, ba = {async:!0, autofocus:!0, checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, draggable:!0, hidden:!0, ismap:!0, loop:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, novalidate:!0, nowrap:!0, readonly:!0, required:!0, reversed:!0, scoped:!0, selected:!0}, ca = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, 
WBR:!0, area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, C = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, 
CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, 
H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, 
LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, 
INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, 
RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, 
OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
C.LI = C.TD = C.DD;
C.TH = C.DT;
C.RB = C.RP = C.RT = C.P;
C.TFOOT = C.THEAD = C.TBODY;
C.RTC = C.RBC;
function da(a, b, c) {
  var h = a, d = E(h), f = 0, l = b(a, null, -1, f / 3), t = [-1, a, d], u = !1;
  if (Infinity === l || -Infinity === l) {
    return !1;
  }
  if (0 < h.length - d) {
    do {
      var n = ++t[f], g = h[n + d];
      if (void 0 === g) {
        if (t.length = f, f -= 3, h = t[f + 1], d = t[f + 2], c && h) {
          n = t[f] + d;
          l = c(h[n], h, n, f / 3 + 1);
          if (Infinity === l) {
            return u;
          }
          -Infinity !== l && (-1 >= l || 1 <= l) && (t[f] += l, u = !0);
        }
      } else {
        l = b(g, h, n + d, f / 3 + 1);
        if (Infinity === l) {
          return u;
        }
        if (-Infinity !== l) {
          if (-1 >= l) {
            t[f] += l, u = !0;
          } else if (1 <= l && (t[f] += l, u = !0), l = E(g), 0 < g.length - l) {
            f += 3, t[f] = -1, t[f + 1] = h = g, t[f + 2] = d = l;
          } else if (c && h) {
            l = c(g, h, n + d, f / 3 + 1);
            if (Infinity === l) {
              return u;
            }
            -Infinity !== l && (-1 >= l || 1 <= l) && (t[f] += l, u = !0);
          }
        }
      }
    } while (0 <= f);
  }
  c && c(a, null, -1, 0);
  return u;
}
var ea = {HTML:!0, HEAD:!0, BODY:!0, P:!0, DT:!0, DD:!0, LI:!0, OPTION:!0, TBODY:!0, THEAD:!0, TFOOT:!0, TD:!0, TH:!0, TR:!0, RB:!0, RBC:!0, RP:!0, RT:!0, RTC:!0, OPTGROUP:!0, CAPTION:!0, COLGROUP:!0}, fa = {A:!0, AUDIO:!0, DEL:!0, INS:!0, MAP:!0, NOSCRIPT:!0, VIDEO:!0}, ha = {H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, ADDRESS:!0, BLOCKQUOTE:!0, DIV:!0, DL:!0, FIELDSET:!0, FORM:!0, HR:!0, LEGEND:!0, MENU:!0, NOSCRIPT:!0, OL:!0, P:!0, PRE:!0, UL:!0, CENTER:!0, DIR:!0, NOFRAMES:!0, MARQUEE:!0}, ia = 
{SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0};
function F(a) {
  return !(!a || a.pop !== [].pop);
}
function ja(a) {
  return !(!a || "object" !== typeof a);
}
function H(a) {
  return "" + a === a;
}
function K(a) {
  return H(a) || a === +a;
}
function ka(a) {
  if (K(a)) {
    a = 3;
  } else if (F(a)) {
    if (H(a[0])) {
      a = 1;
    } else {
      var b = a[0];
      a = b === +b ? a[0] : -1;
    }
  } else {
    a = -1;
  }
  return a;
}
function la(a, b, c, h, d) {
  var f;
  if (F(c) && H(c[0])) {
    var l = c[0];
    c = c.slice(1);
    "function" === typeof a ? f = c.length ? a.call(d, l, c) : a.call(d, l) : a[l] && (f = c.length ? a[l].apply(d || a, c) : a[l].call(d || a));
  } else {
    H(c) && ("function" === typeof a ? f = a.call(d, c) : a[c] && (f = a[c].call(d || a)));
  }
  return F(f) ? la(a, b, f, h, d) : f;
}
function L(a) {
  return a.split("&lt;").join("&amp;lt;").split("&gt;").join("&amp;gt;").split("<").join("&lt;").split(">").join("&gt;");
}
function N(a, b, c) {
  a = L("" + a);
  var h = a.match('"'), d = a.match("'"), f = b ? "'" : '"';
  h && d ? a = b ? f + a.split("'").join("\\'") + f : f + a.split('"').join('\\"') + f : h ? a = "'" + a + "'" : d ? a = b ? f + a.split("'").join("\\'") + f : f + a + f : c || a.match(/[^0-9a-z\.\-]/g) || 72 < a.length ? a = f + a + f : "" === a && (a = f + f);
  return a;
}
function ma(a) {
  var b = [];
  a = a.split("");
  for (var c = a.length, h; c;) {
    h = a[--c], "A" <= h && "Z" >= h && (h = "-" + h.toLowerCase()), b[c] = h;
  }
  return b.join("");
}
function E(a) {
  var b = a[0], c = b === +b ? 2 : 1;
  1 === ka(a) || 17 === b ? (a = a[c], c = !F(a) && ja(a) ? c + 1 : c) : c = 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
  return c;
}
function Q(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), h = "", d = "";
  b < c ? (h = a.split(".")[1], a = a.split(".")[0], 0 < b && (d = a.split("#")[1], a = a.split("#")[0])) : c < b && (d = a.split("#")[1], a = a.split("#")[0], 0 < c && (h = a.split(".")[1], a = a.split(".")[0]));
  return [a, d, h];
}
function na(a) {
  var b, c;
  da(a, function(h, d, f, l) {
    function t(w, e, m) {
      if (b) {
        l < c.length && (c.length = l);
        var k = c[c.length - 1];
        oa <= pa(k) ? (k.v = k.v || [], k.v.push([w, e, m]), w = null) : w = new R(k, k.D && k.D.length, w, e, m);
        F(h) && E(h) < h.length && (c[l] = w);
      } else {
        b = new R(!0, 0, w, e, m), c = [b];
      }
    }
    if (K(h)) {
      t(3, h);
    } else {
      d = h[0];
      f = h[1];
      var u = 1, n = d, g;
      switch(d) {
        case 9:
        case 13:
        case 16:
          t(d, f);
          break;
        case 11:
          t(d);
          break;
        case 3:
        case 4:
        case 8:
        case 14:
        case 18:
          t(d, f);
          break;
        case 15:
          t(d);
          break;
        case 7:
          u = [];
          n = 2;
          for (g = h.length; n < g; ++n) {
            u[n - 2] = h[n];
          }
          t(d, f, g - 2 ? u : null);
          break;
        case 1:
        case 17:
          n = f, u = 2;
        default:
          H(n) && t(1 === u ? 1 : d, n, h[u]);
      }
    }
    return Infinity;
  });
  return b;
}
function R(a, b, c, h, d) {
  if (a === !!a) {
    var f = null;
    this.j = a;
  } else {
    f = a, this.j = f.j;
  }
  this.h = f;
  this.l = c;
  f && (f.D || (f.D = []), a = f.D, 0 <= b && b < a.length ? a.splice(b, 0, this) : a.push(this));
  switch(c) {
    case 1:
    case 17:
      b = Q(h), h = b[0];
    case 18:
      this.J = h;
      break;
    case 7:
      this.G = d || null;
  }
}
var qa = null;
function pa(a) {
  return a.j ? qa === a ? a.C ? ra : a.K ? oa : sa : qa.h === a ? ta : ua : wa;
}
R.prototype.remove = function() {
  if (oa <= pa(this)) {
    return this.C = !0, null;
  }
  var a = this.h ? this.h.D.indexOf(this) : -1;
  0 <= a && (this.h.D.splice(a, 1), this.h = null);
};
R.prototype.wrap = function(a, b, c) {
  if (this.j) {
    this.m = this.m || [], this.m.push([a, b, c]), a = null;
  } else if (this.h) {
    var h = this.h, d = this.h ? this.h.D.indexOf(this) : -1;
    a = new R(h, d, a, b, c);
  } else {
    a = null;
  }
  xa(a, 0, [this]);
  return a;
};
function xa(a, b, c) {
  var h = a.D = a.D || [], d = h.length, f = c.length;
  for (b = b < d ? b : d; f;) {
    d = c[--f], 11 === d.l ? d.D && d.D.length && xa(a, b, d.D) : (d.remove(), h.splice(b, 0, d), d.h = a);
  }
}
var wa = 0, ua = 1, sa = 2, oa = 3, ra = 4, ta = 5, ya = !1, za = !1, Aa = !1;
function Ba(a, b, c, h, d) {
  9 !== a[0] && 11 !== a[0] && (a = [11, a]);
  var f = [], l = -1;
  Ca({ja:function(t) {
    f[++l] = t;
  }}, a, b, c, h, d);
  return f.join("");
}
function Ca(a, b, c, h, d, f) {
  function l() {
    var q = "";
    r && (q = "</" + r.toLowerCase() + ">", r = "");
    return q;
  }
  var t = da, u = c || null, n = h || null, g = "function" === typeof d ? d : function() {
  };
  c = f || {};
  var w = !0 === c.quotAlways, e = !0 === c.useSingleQuot, m = c.instructionAttrPrefix || ":", k = [Aa, null, ya || !1, za || !1, !1], r;
  t(b, function(q, x, D, G) {
    var B = [], v = -1, O = !1;
    F(q) && (O = 0 < q.length - E(q));
    var y = k[5 * G], p = k[5 * G + 1], va = k[5 * G + 2], X = k[5 * G + 3];
    if (n) {
      var I = na(q), M;
      qa = I;
      p && (p.D ? p.D.push(I) : p.D = [I]);
      if (F(n)) {
        for (p = 0, M = n.length; p < M; p += 2) {
          var A = n[p], S = n[p + 1];
          if (A === +A) {
            if (A === I.l && !0 === S(I)) {
              break;
            }
          } else if ("*" === A) {
            if (!0 === S(I)) {
              break;
            }
          } else if (H(A) && A === I.J && !0 === S(I)) {
            break;
          }
        }
      } else {
        n(I);
      }
    } else {
      I = null;
    }
    p = q[0];
    A = q[1];
    M = 1;
    switch(ka(q)) {
      case 9:
        B[++v] = A;
        break;
      case 3:
        F(q) || (A = q);
        B[++v] = l() + (X ? A : L("" + A));
        break;
      case 4:
        B[++v] = "<![CDATA[" + L("" + A) + "]]\x3e";
        break;
      case 8:
        B[++v] = "\x3c!--" + L("" + A) + "--\x3e";
        break;
      case 13:
        B[++v] = l() + "\x3c!--[" + A + "]>";
        break;
      case 16:
        B[++v] = l() + "\x3c!--{" + A + "};";
        break;
      case 14:
        B[++v] = "\x3c!--[" + A + "]>\x3c!--\x3e";
        break;
      case 15:
        B[++v] = "\x3c!--<![endif]--\x3e";
        break;
      case 7:
        if (u) {
          v = q[1];
          var P = q.slice(2), z;
          "function" === typeof u ? z = P.length ? u(v, P) : u(v) : u[v] && (z = P.length ? u[v].apply(null, P) : u[v]());
          void 0 !== z && null !== z && "" !== z && (K(z) ? x.splice(D, 1, z) : F(z) && (11 === z[0] ? (z.shift(), z.unshift(D, 1), x.splice.apply(x, z)) : F(z[0]) ? (z.unshift(D, 1), x.splice.apply(x, z)) : x.splice(D, 1, z)));
          v = z;
          if (void 0 !== v && null !== v && "" !== v && (K(v) || F(v))) {
            return -1;
          }
        }
        break;
      case 18:
        B[++v] = "</" + A + ">";
        break;
      case 17:
        P = !0;
      case 1:
        p === +p && (p = A, M = 2);
        p = Q(p);
        x = p[1];
        D = p[2];
        p = p[0];
        q = q[M];
        "P" !== r || ha[p] ? r = "" : B[++v] = l();
        y = y || (y || aa[p] ? !0 : 0 < p.indexOf(":"));
        va = !!fa[p];
        X = X || !!ia[p];
        B[++v] = "<" + (y ? p : p.toLowerCase());
        x && (B[++v] = " id=" + N(x, e, y || w));
        D && (B[++v] = " class=" + N(D, e, y || w));
        if (!F(q) && ja(q)) {
          x = ++v;
          D = "";
          for (var J in q) {
            if (p = q[J], (z = 0 === J.indexOf(m)) && (J = J.substr(m.length)), "className" === J && (J = "class"), z && u && (p = la(u, J, p, g)), !(null == p || ba[J] && !1 === p || (D += " " + J, ba[J] || !0 === p))) {
              if ("style" === J && ja(p)) {
                z = void 0;
                M = p;
                A = [];
                S = -1;
                for (z in M) {
                  p = M[z], "0px" === p && (p = 0), A[++S] = ma(z) + ":" + L("" + p);
                }
                p = A.join(";").substr(1);
                if (!p) {
                  continue;
                }
              }
              D += "=" + N(p, e, y || w);
            }
          }
          B[x] = D;
        }
        !y || O || P ? B[++v] = ">" : B[++v] = " />";
    }
    k[5 * G + 5] = y;
    k[5 * G + 6] = I;
    k[5 * G + 7] = va;
    k[5 * G + 8] = X;
    k[5 * G + 9] = O;
    a.ja(B.join(""));
  }, function(q, x, D, G) {
    x = [];
    D = -1;
    var B = k[5 * G + 5], v = k[5 * G + 7], O = k[5 * G + 9], y = q[0];
    5 * G + 5 < k.length && (k.length = 5 * G + 5);
    switch(ka(q)) {
      case 13:
        x[++D] = l() + "<![endif]--\x3e";
        break;
      case 16:
        x[++D] = l() + "--\x3e";
        break;
      case 17:
        r = "";
        break;
      case 1:
        y === +y && (y = q[1]), y = Q(y), y = y[0], !O && ca[y] ? r = "" : B && !O || ea[y] && (!v || "P" !== y) ? r = y : (x[++D] = "</" + (B ? y : y.toLowerCase()) + ">", r = "");
    }
    a.ja(x.join(""));
  });
  t = null;
}
const T = Buffer.from ? Buffer.from : (...a) => new Buffer(...a), U = Buffer.alloc ? Buffer.alloc : (...a) => new Buffer(...a);
function V() {
  this.o = void 0;
  this.M = [];
  this.h = 17;
  this.j = void 0;
  this.aa = U(65536);
  this.v = 0;
  this.H = this.L = this.R = this.Z = void 0;
  this.N = 113;
  this.m = this.Y = 0;
  this.ha = {2:U(2), 3:U(3), 4:U(4)};
}
function W(a, b) {
  65536 <= a.v && (a.j += a.aa.toString("utf8"), a.v = 0);
  a.aa[a.v++] = b;
}
function Y(a, b, c, h) {
  var d = b.length;
  "number" === typeof c && (d = "number" === typeof h ? 0 > h ? b.length - c + h : h - c : b.length - c);
  0 > d && (d = 0);
  65536 < a.v + d && (a.j += a.aa.toString("utf8", 0, a.v), a.v = 0);
  b.copy(a.aa, a.v, c, h);
  a.v += d;
}
V.prototype.write = function(a) {
  "string" === typeof a && (a = T(a));
  for (var b, c = 0, h = a.length; c < h; c++) {
    switch(this.h) {
      case 17:
        b = a[c];
        switch(b) {
          case 123:
            this.l(1, "{");
            break;
          case 125:
            this.l(2, "}");
            break;
          case 91:
            this.l(3, "[");
            break;
          case 93:
            this.l(4, "]");
            break;
          case 58:
            this.l(5, ":");
            break;
          case 44:
            this.l(6, ",");
            break;
          case 116:
            this.h = 33;
            break;
          case 102:
            this.h = 49;
            break;
          case 110:
            this.h = 65;
            break;
          case 34:
            this.j = "";
            this.v = 0;
            this.h = 97;
            break;
          case 45:
            this.j = "-";
            this.h = 81;
            break;
          default:
            if (48 <= b && 64 > b) {
              this.j = String.fromCharCode(b), this.h = 83;
            } else if (32 !== b && 9 !== b && 10 !== b && 13 !== b) {
              this.h = 18;
              return;
            }
        }break;
      case 97:
        b = a[c];
        if (0 < this.Y) {
          for (b = 0; b < this.Y; b++) {
            this.ha[this.m][this.m - this.Y + b] = a[b];
          }
          Y(this, this.ha[this.m]);
          this.m = this.Y = 0;
          c = c + b - 1;
        } else if (0 === this.Y && 128 <= b) {
          if (194 <= b && 223 >= b && (this.m = 2), 224 <= b && 239 >= b && (this.m = 3), 240 <= b && 244 >= b && (this.m = 4), this.m + c > a.length) {
            for (b = 0; b <= a.length - 1 - c; b++) {
              this.ha[this.m][b] = a[c + b];
            }
            this.Y = c + this.m - a.length;
            c = a.length - 1;
          } else {
            Y(this, a, c, c + this.m), c = c + this.m - 1;
          }
        } else if (34 === b) {
          this.h = 17, this.j += this.aa.toString("utf8", 0, this.v), this.v = 0, this.l(10, this.j), Buffer.byteLength(this.j, "utf8"), this.j = void 0;
        } else if (92 === b) {
          this.h = 98;
        } else if (32 <= b) {
          W(this, b);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 98:
        b = a[c];
        switch(b) {
          case 34:
            W(this, b);
            this.h = 97;
            break;
          case 92:
            W(this, 92);
            this.h = 97;
            break;
          case 47:
            W(this, 47);
            this.h = 97;
            break;
          case 98:
            W(this, 8);
            this.h = 97;
            break;
          case 102:
            W(this, 12);
            this.h = 97;
            break;
          case 110:
            W(this, 10);
            this.h = 97;
            break;
          case 114:
            W(this, 13);
            this.h = 97;
            break;
          case 116:
            W(this, 9);
            this.h = 97;
            break;
          case 117:
            this.Z = "";
            this.h = 99;
            break;
          default:
            this.h = 18;
            return;
        }break;
      case 99:
      case 100:
      case 101:
      case 102:
        b = a[c];
        if (48 <= b && 64 > b || 64 < b && 70 >= b || 96 < b && 102 >= b) {
          this.Z += String.fromCharCode(b), 102 === this.h++ && (b = parseInt(this.Z, 16), this.Z = void 0, void 0 !== this.R && 56320 <= b && 57344 > b ? (Y(this, T(String.fromCharCode(this.R, b))), this.R = void 0) : void 0 === this.R && 55296 <= b && 56320 > b ? this.R = b : (void 0 !== this.R && (Y(this, T(String.fromCharCode(this.R))), this.R = void 0), Y(this, T(String.fromCharCode(b)))), this.h = 97);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 81:
      case 83:
        b = a[c];
        switch(b) {
          case 48:
          case 49:
          case 50:
          case 51:
          case 52:
          case 53:
          case 54:
          case 55:
          case 56:
          case 57:
          case 46:
          case 101:
          case 69:
          case 43:
          case 45:
            this.j += String.fromCharCode(b);
            this.h = 83;
            break;
          default:
            this.h = 17;
            b = Number(this.j);
            if (isNaN(b)) {
              this.h = 18;
              return;
            }
            this.j.match(/[0-9]+/) == this.j && b.toString() != this.j ? this.l(10, this.j) : this.l(11, b);
            this.j = void 0;
            c--;
        }break;
      case 33:
        if (114 === a[c]) {
          this.h = 34;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 34:
        if (117 === a[c]) {
          this.h = 35;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 35:
        if (101 === a[c]) {
          this.h = 17, this.l(7, !0);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 49:
        if (97 === a[c]) {
          this.h = 50;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 50:
        if (108 === a[c]) {
          this.h = 51;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 51:
        if (115 === a[c]) {
          this.h = 52;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 52:
        if (101 === a[c]) {
          this.h = 17, this.l(8, !1);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 65:
        if (117 === a[c]) {
          this.h = 66;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 66:
        if (108 === a[c]) {
          this.h = 67;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 67:
        if (108 === a[c]) {
          this.h = 17, this.l(9, null);
        } else {
          this.h = 18;
          return;
        }
    }
  }
};
function Da(a) {
  a.M.push({o:a.o, L:a.L, H:a.H});
}
function Ea(a) {
  var b = a.o, c = a.M.pop();
  a.o = c.o;
  a.L = c.L;
  a.H = c.H;
  a.emit(b);
  a.H || (a.N = 113);
}
V.prototype.emit = function() {
  this.H && (this.N = 6);
};
V.prototype.l = function(a, b) {
  switch(this.N) {
    case 113:
      switch(a) {
        case 10:
        case 11:
        case 7:
        case 8:
        case 9:
          this.o && (this.o[this.L] = b);
          this.emit(b);
          break;
        case 1:
          Da(this);
          this.o = this.o ? this.o[this.L] = {} : {};
          this.L = void 0;
          this.N = 114;
          this.H = 129;
          break;
        case 3:
          Da(this);
          this.o = this.o ? this.o[this.L] = [] : [];
          this.L = 0;
          this.H = 130;
          this.N = 113;
          break;
        case 2:
          129 === this.H ? Ea(this) : this.h = 18;
          break;
        case 4:
          130 === this.H ? Ea(this) : this.h = 18;
          break;
        default:
          this.h = 18;
      }break;
    case 114:
      10 === a ? (this.L = b, this.N = 5) : 2 === a ? Ea(this) : this.h = 18;
      break;
    case 5:
      5 === a ? this.N = 113 : this.h = 18;
      break;
    case 6:
      6 === a ? 130 === this.H ? (this.L++, this.N = 113) : 129 === this.H && (this.N = 114) : 4 === a && 130 === this.H || 2 === a && 129 === this.H ? Ea(this) : this.h = 18;
      break;
    default:
      this.h = 18;
  }
};
var stream = require("node:stream");
function Fa(a) {
  for (var b = a.l; b.length && !a.paused;) {
    var c = b.shift();
    null === c ? a.emit("end") : a.emit("data", c);
  }
}
function Ga(a) {
  if (a.paused) {
    a.on("resume", () => Ga(a));
  } else {
    a.writable && (a.writable = !1, a.v.call(a), !a.readable && a.destroy());
  }
}
function Ha(a, b) {
  a.G || (null === b && (a.G = !0), a.l.push(b), Fa(a));
}
var Ia = class extends stream.Stream {
  constructor() {
    var a = Z.oa, b = Z.na;
    super();
    this.C = a;
    this.v = b;
    this.m = this.paused = this.G = this.j = !1;
    this.readable = this.writable = !0;
    this.l = [];
    this.on("end", () => {
      this.readable = !1;
      !this.writable && process.nextTick(() => this.destroy());
    });
  }
  write(a) {
    this.C.call(this, a);
    return !this.paused;
  }
  end(a) {
    this.j || (this.j = !0, arguments.length && this.write(a), Ga(this));
  }
  destroy() {
    this.m || (this.j = this.m = !0, this.l.length = 0, this.writable = this.readable = !1, this.emit("close"));
  }
  pause() {
    this.paused || (this.paused = !0);
  }
  resume() {
    this.paused && (this.paused = !1, this.emit("resume"));
    Fa(this);
    this.paused || this.emit("drain");
  }
};
function Z(a, b, c, h) {
  const d = new V(), f = new Ia();
  h = h || {};
  f.h = d;
  d.F = f;
  d.T = d.l;
  d.l = Ja;
  d.pa = Ka;
  d.ga = 0;
  d.ma = [];
  d.G = [];
  d.ca = "function" === typeof c ? c : function() {
  };
  d.da = !!h.quotAlways;
  d.ea = !!h.useSingleQuot;
  d.fa = h.instructionAttrPrefix || ":";
  d.K = a;
  d.la = b;
  f.on("resume", La);
  d.$ = "";
  return f;
}
Z.oa = function(a) {
  if (a === +a || a === !!a) {
    a = "" + a;
  }
  H(a) && (a = T(a));
  this.h.write(a);
};
Z.na = function(a) {
  null != a && this.write(a);
  43 !== this.h.ga && this.emit("error", "Invalid html.json");
  Ha(this, null);
  this.h = this.h.F = null;
};
function La() {
  var a = this.h, b = a.ba;
  if (b) {
    for (; b.length && (Ja.call(a, b.shift(), b.shift()), !this.paused);) {
    }
    b.length || (a.ba = null);
  }
}
function Ka(a) {
  -1 < a.message.indexOf("at position") && (a.message = "Invalid JSON (" + a.message + ")");
  this.ca(a.message);
  this.F.emit("error", a);
}
function Ja(a, b) {
  function c() {
    e.ba ? e.ba.unshift(a, b) : e.ba = [a, b];
  }
  function h() {
    if (e.K) {
      let r;
      "function" === typeof e.K ? r = e.G.length ? e.K.call(e.F, e.C, e.G) : e.K.call(e.F, e.C) : e.K[e.C] && (r = e.G.length ? e.K[e.C].apply(e.F, e.G) : e.K[e.C].call(e.F));
      if (e.F.paused) {
        c();
        return;
      }
      e.C = null;
      e.G.length = 0;
      return r;
    }
    return "";
  }
  function d() {
    if (e.K) {
      const r = la(e.K, e.W, [e.C].concat(e.G), e.ca, e.F);
      if (e.F.paused) {
        c();
        return;
      }
      e.C = null;
      e.G.length = 0;
      return r;
    }
    return "";
  }
  function f(r) {
    if (null != r) {
      if (ba[e.W]) {
        if (!1 !== r) {
          return " " + e.W;
        }
      } else {
        return !0 === r ? " " + e.W : " " + e.W + "=" + N(r, e.ea, e.J || e.da);
      }
    }
    return "";
  }
  function l(r) {
    const q = n.pop();
    g = n.length ? 42 : 43;
    switch(q) {
      case 13:
        k = "<![endif]--\x3e";
        break;
      case 4:
        k = "]]\x3e";
        break;
      case 16:
      case 8:
        k = "--\x3e";
        break;
      default:
        "" === q ? (k = r ? "" : ">", e.O = "", t()) : H(q) && (k = r ? "" : e.ia || e.J ? " />" : ">", !r && ca[q] ? e.O = "" : (e.ia || e.J) && !r || ea[q] && (!e.V || "P" !== q) ? e.O = q : (k += "</" + (e.J ? q : q.toLowerCase()) + ">", e.O = ""), t());
    }
  }
  function t() {
    e.V = e.X = e.J = !1;
    for (let r = 0, q = n.length; r < q; ++r) {
      const x = n[r];
      13 === x || 16 === x ? e.V = !0 : H(x) && (r === q - 1 && (e.V = e.V || fa[x]), ia[x] && (e.X = !0), aa[x] || 0 < x.indexOf(":")) && (e.J = !0);
    }
  }
  function u() {
    let r = "";
    e.O && (r = "</" + (e.J ? e.O : e.O.toLowerCase()) + ">", e.O = "");
    return r;
  }
  if (this.F.paused) {
    this.ba.push(a, b);
  } else if (5 === a || 6 === a) {
    this.M.length && this.T(a, b);
  } else {
    var n = this.ma, g = this.ga, w = !1, e = this;
    switch(g) {
      case 39:
        switch(a) {
          case 3:
          case 1:
            this.T(a, b);
            return;
          case 4:
            if (0 === this.M.length) {
              var m = h();
              if (this.F.paused) {
                return;
              }
              if (F(m)) {
                ya = this.V;
                za = this.X;
                Aa = this.ia || this.J;
                var k = Ba(m, this.K, this.la, this.ca, {quotAlways:this.da, useSingleQuot:this.ea, instructionAttrPrefix:this.fa});
                ya = za = Aa = !1;
              } else {
                k = K(m) ? "" + m : "";
              }
              l(!!k);
              break;
            }
          case 2:
            1 === this.M.length && (this.G.push(this.o), this.o = null);
            this.T(a, b);
            return;
          case 10:
          case 11:
          case 7:
          case 8:
          case 9:
            this.M.length ? this.T(a, b) : this.G.push(b);
            return;
          default:
            g = -1;
        }break;
      case 36:
        switch(a) {
          case 3:
          case 1:
            this.T(a, b);
            return;
          case 4:
            if (0 === this.M.length) {
              k = d();
              if (this.F.paused) {
                return;
              }
              k = f(k);
              g = 31;
              break;
            }
          case 2:
            1 === this.M.length && (this.G.push(this.o), this.o = null);
            this.T(a, b);
            return;
          case 10:
            if (0 === this.M.length && !this.C) {
              this.C = b;
              return;
            }
          case 11:
          case 7:
          case 8:
          case 9:
            this.M.length ? this.T(a, b) : this.G.push(b);
            return;
          default:
            g = -1;
        }break;
      default:
        switch(a) {
          case 3:
            switch(g) {
              case 30:
              case 41:
                w = H(n[n.length - 1]);
              case 0:
              case 42:
                m = 0;
                break;
              case 40:
                m = 36;
                break;
              default:
                m = -1;
            }break;
          case 4:
            m = 30 === g || 41 === g ? 38 : 42 === g || 37 === g ? 37 : -1;
            break;
          case 1:
            m = 30 === g ? 30 : 33 === g ? 33 : -1;
            break;
          case 2:
            m = 31 === g ? 39 : 34 === g ? 40 : -1;
            break;
          case 10:
            switch(g) {
              case 38:
              case 27:
                m = 27;
                break;
              case 28:
                m = 28;
                break;
              case 29:
                m = 29;
                break;
              case 19:
                m = 19;
                break;
              case 20:
                m = 20;
                break;
              case 21:
                m = 21;
                break;
              case 22:
                m = 22;
                break;
              case 23:
                m = 23;
                break;
              case 25:
                m = 25;
                break;
              case 24:
                m = 24;
                break;
              case 31:
                m = 31;
                break;
              case 32:
              case 33:
                m = 32;
                break;
              case 34:
                m = 34;
                break;
              case 35:
                m = 35;
                break;
              case 30:
              case 41:
                w = H(n[n.length - 1]);
              case 42:
                m = 41;
                break;
              case 26:
                m = 26;
                break;
              case 40:
                m = 42;
                break;
              default:
                m = -1;
            }break;
          case 11:
            switch(g) {
              case 38:
                m = b;
                break;
              case 32:
                m = 32;
                break;
              case 35:
                m = 35;
                break;
              case 20:
                m = 20;
                break;
              case 30:
              case 41:
                w = H(n[n.length - 1]);
              case 42:
                m = 41;
                break;
              case 21:
                m = 21;
                break;
              case 22:
                m = 22;
                break;
              default:
                m = -1;
            }break;
          case 7:
          case 8:
          case 9:
            m = 32 === g ? 32 : -1;
            break;
          default:
            m = -1;
        }switch(m) {
          case 0:
            k = w ? (w = !1, ">") : "";
            g = 38;
            break;
          case 9:
            g = 19;
            n.push(9);
            break;
          case 19:
            k = b;
            g = 41;
            break;
          case 11:
            g = 41;
            n.push(11);
            break;
          case 1:
            g = 27;
            break;
          case 17:
            g = 28;
            break;
          case 27:
          case 28:
            w = Q(b);
            const r = w[1], q = w[2];
            w = w[0];
            "P" !== this.O || ha[w] ? this.O = k = "" : k = u();
            28 === m ? n.push("") : n.push(w);
            t();
            k += "<" + (this.J ? w : w.toLowerCase());
            r && (k += " id=" + N(r, this.ea, this.J || this.da));
            q && (k += " class=" + N(q, this.ea, this.J || this.da));
            this.V || (this.V = !!fa[w]);
            this.X || (this.X = !!ia[w]);
            g = 30;
            break;
          case 30:
            g = 31;
            break;
          case 31:
            0 === b.indexOf(this.fa) ? (this.W = b.substr(this.fa.length), g = 40) : (this.W = b, g = "style" === b ? 33 : 32);
            break;
          case 36:
            g = 36;
            break;
          case 42:
            if (this.C = b, b = d(), this.F.paused) {
              return;
            }
          case 32:
            k = f(b);
            g = 31;
            break;
          case 39:
            g = 41;
            break;
          case 33:
            g = 34;
            break;
          case 34:
            this.ka = b;
            g = 35;
            break;
          case 35:
            "" !== b && null !== b && (this.$ += ";" + ma(this.ka) + ":" + b);
            g = 34;
            break;
          case 40:
            this.$ && (k = f(this.$.substr(1)), this.$ = "");
            g = 31;
            break;
          case 37:
            l(!0);
            break;
          case 38:
            l(!1);
            break;
          case 18:
            g = 29;
            n.push(18);
            break;
          case 29:
            k = "</" + (this.J ? b : b.toLowerCase()) + ">";
            g = 37;
            break;
          case 3:
            g = 20;
            n.push(3);
            break;
          case 20:
            k = u() + (e.X ? "" + b : L("" + b));
            g = 37;
            break;
          case 41:
            k = (w ? (w = !1, ">") : "") + u() + (e.X ? "" + b : L("" + b));
            g = 42;
            break;
          case 4:
            k = "<![CDATA[";
            g = 21;
            n.push(4);
            break;
          case 21:
            k = L("" + b);
            g = 37;
            break;
          case 8:
            k = "\x3c!--";
            g = 22;
            n.push(8);
            break;
          case 22:
            k = L("" + b);
            g = 37;
            break;
          case 13:
            k = u() + "\x3c!--[";
            g = 23;
            n.push(13);
            break;
          case 23:
            k = b + "]>";
            g = 41;
            break;
          case 16:
            k = u() + "\x3c!--{";
            g = 25;
            n.push(16);
            break;
          case 25:
            k = b + "};";
            g = 41;
            break;
          case 14:
            k = "\x3c!--[";
            g = 24;
            n.push(14);
            break;
          case 24:
            k = b + "]>\x3c!--\x3e";
            g = 37;
            break;
          case 15:
            k = "\x3c!--<![endif]--\x3e";
            g = 37;
            n.push(15);
            break;
          case 7:
            g = 26;
            n.push(7);
            break;
          case 26:
            this.C = b;
            g = 39;
            break;
          default:
            g = -1;
        }
    }
    -1 === g ? (this.ca("Not html.json format!"), this.F.emit("error", "Not html.json format!")) : (this.ga = g, k && Ha(this.F, k));
  }
}
Z.module = {};
module.exports = Z;
Z.DOCUMENT_NODE = 9;
Z.DOCUMENT_FRAGMENT_NODE = 11;
Z.ELEMENT_NODE = 1;
Z.TEXT_NODE = 3;
Z.CDATA_SECTION = 4;
Z.PROCESSING_INSTRUCTION = 7;
Z.COMMENT_NODE = 8;
Z.COND_CMT_HIDE_LOWER = 13;
Z.COND_CMT_SHOW_LOWER_START = 14;
Z.COND_CMT_SHOW_LOWER_END = 15;
Z.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Z.ELEMENT_START_TAG = 17;
Z.ELEMENT_END_TAG = 18;

