var aa = {xml:!0, svg:!0, math:!0}, ba = {async:!0, autofocus:!0, checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, draggable:!0, hidden:!0, ismap:!0, loop:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, novalidate:!0, nowrap:!0, readonly:!0, required:!0, reversed:!0, scoped:!0, selected:!0}, ca = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, 
WBR:!0, area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, z = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, 
CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, 
H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, 
LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, 
INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, 
RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, 
OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
z.LI = z.TD = z.DD;
z.TH = z.DT;
z.RB = z.RP = z.RT = z.P;
z.TFOOT = z.THEAD = z.TBODY;
z.RTC = z.RBC;
function A(a, b, c, g, e) {
  if (a === !!a) {
    var f = null;
    this.m = a;
  } else {
    f = a, this.m = f.m;
  }
  this.j = f;
  this.X = c;
  f && (f.h || (f.h = []), a = f.h, 0 <= b && b < a.length ? a.splice(b, 0, this) : a.push(this));
  switch(c) {
    case 1:
    case 17:
      this.T = e || null, b = C(g), g = b[0];
    case 18:
      this.K = g;
      break;
    case 7:
      this.R = e || null;
    case 3:
    case 4:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      this.H = g;
  }
}
var F = null;
function da(a) {
  return a.m ? F === a ? a.J ? ea : a.N ? G : fa : F.j === a ? ja : ka : la;
}
A.prototype.remove = function() {
  if (G <= da(this)) {
    return this.J = !0, null;
  }
  var a = this.j ? this.j.h.indexOf(this) : -1;
  0 <= a && (this.j.h.splice(a, 1), this.j = null);
};
A.prototype.wrap = function(a, b, c) {
  if (this.m) {
    this.o = this.o || [], this.o.push([a, b, c]), a = null;
  } else if (this.j) {
    var g = this.j, e = this.j ? this.j.h.indexOf(this) : -1;
    a = new A(g, e, a, b, c);
  } else {
    a = null;
  }
  ma(a, 0, [this]);
  return a;
};
function ma(a, b, c) {
  var g = a.h = a.h || [], e = g.length, f = c.length;
  for (b = b < e ? b : e; f;) {
    e = c[--f], 11 === e.X ? e.h && e.h.length && ma(a, b, e.h) : (e.remove(), g.splice(b, 0, e), e.j = a);
  }
}
var la = 0, ka = 1, fa = 2, G = 3, ea = 4, ja = 5;
function na(a, b, c) {
  var g = a, e = I(g), f = 0, k = b(a, null, -1, f / 3), h = [-1, a, e];
  if (Infinity !== k && -Infinity !== k) {
    if (0 < g.length - e) {
      do {
        var d = ++h[f], m = g[d + e];
        if (void 0 === m) {
          if (h.length = f, f -= 3, g = h[f + 1], e = h[f + 2], c && g) {
            d = h[f] + e;
            k = c(g[d], g, d, f / 3 + 1);
            if (Infinity === k) {
              return;
            }
            -Infinity !== k && (-1 >= k || 1 <= k) && (h[f] += k);
          }
        } else {
          k = b(m, g, d + e, f / 3 + 1);
          if (Infinity === k) {
            return;
          }
          if (-Infinity !== k) {
            if (-1 >= k) {
              h[f] += k;
            } else if (1 <= k && (h[f] += k), I(m) < m.length) {
              f += 3, h[f] = -1, h[f + 1] = g = m, h[f + 2] = e = I(m);
            } else if (c && g) {
              k = c(m, g, d + e, f / 3 + 1);
              if (Infinity === k) {
                return;
              }
              -Infinity !== k && (-1 >= k || 1 <= k) && (h[f] += k);
            }
          }
        }
      } while (0 <= f);
    }
    c && c(a, null, -1, 0);
  }
}
var oa = {HTML:!0, HEAD:!0, BODY:!0, P:!0, DT:!0, DD:!0, LI:!0, OPTION:!0, TBODY:!0, THEAD:!0, TFOOT:!0, TD:!0, TH:!0, TR:!0, RB:!0, RBC:!0, RP:!0, RT:!0, RTC:!0, OPTGROUP:!0, CAPTION:!0, COLGROUP:!0}, pa = {A:!0, AUDIO:!0, DEL:!0, INS:!0, MAP:!0, NOSCRIPT:!0, VIDEO:!0}, qa = {H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, ADDRESS:!0, BLOCKQUOTE:!0, DIV:!0, DL:!0, FIELDSET:!0, FORM:!0, HR:!0, LEGEND:!0, MENU:!0, NOSCRIPT:!0, OL:!0, P:!0, PRE:!0, UL:!0, CENTER:!0, DIR:!0, NOFRAMES:!0, MARQUEE:!0}, ra = 
{SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0};
function J(a) {
  return !(!a || a.pop !== [].pop);
}
function K(a) {
  return !(!a || "object" !== typeof a);
}
function L(a) {
  return "" + a === a;
}
function N(a) {
  return a === +a;
}
function O(a) {
  return L(a) || N(a) ? 3 : J(a) ? L(a[0]) ? 1 : N(a[0]) ? a[0] : -1 : -1;
}
function sa(a, b, c) {
  var g = b[1];
  b = b.slice(2);
  var e;
  "function" === typeof a ? e = b.length ? a.call(c, g, b) : a.call(c, g) : a[g] && (e = b.length ? a[g].apply(c || a, b) : a[g].call(c || a));
  e && J(e[0]) && e.unshift(11);
  return e;
}
function ta(a, b, c, g, e) {
  var f;
  if (J(c) && L(c[0])) {
    var k = c[0];
    c = c.slice(1);
    "function" === typeof a ? f = c.length ? a.call(e, k, c) : a.call(e, k) : a[k] && (f = c.length ? a[k].apply(e || a, c) : a[k].call(e || a));
  } else {
    L(c) && ("function" === typeof a ? f = a.call(e, c) : a[c] && (f = a[c].call(e || a)));
  }
  J(f) && (a = ta(a, b, f, g, e), void 0 !== a && (f = a));
  return f;
}
function ua(a, b, c) {
  a = va(a);
  var g;
  F = a;
  b && (b.h ? b.h.push(a) : b.h = [a]);
  if (J(c)) {
    for (b = 0, g = c.length; b < g; b += 2) {
      var e = c[b], f = c[b + 1];
      if (N(e)) {
        if (e === a.X && !0 === f(a)) {
          break;
        }
      } else if ("*" === e) {
        if (!0 === f(a)) {
          break;
        }
      } else if (L(e) && e === a.K && !0 === f(a)) {
        break;
      }
    }
  } else {
    c(a);
  }
  return a;
}
function I(a) {
  var b = a[0], c = O(a);
  return 1 === c || 17 === c ? (b = N(b) ? 2 : 1, a = a[b], !J(a) && K(a) ? b + 1 : b) : 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
}
function C(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), g = "", e = "";
  b < c ? (g = a.split(".")[1], a = a.split(".")[0], 0 < b && (e = a.split("#")[1], a = a.split("#")[0])) : c < b && (e = a.split("#")[1], a = a.split("#")[0], 0 < c && (g = a.split(".")[1], a = a.split(".")[0]));
  return [a, e, g];
}
function P(a) {
  return a.split("&lt;").join("&amp;lt;").split("&gt;").join("&amp;gt;").split("<").join("&lt;").split(">").join("&gt;");
}
function wa(a) {
  var b = [], c = -1, g;
  for (g in a) {
    var e = a[g];
    "0px" === e && (e = 0);
    for (var f = ++c, k, h = [], d = g.split(""), m = d.length; m;) {
      k = d[--m], "A" <= k && "Z" >= k && (k = "-" + k.toLowerCase()), h[m] = k;
    }
    k = h.join("");
    b[f] = k + ":" + P("" + e);
  }
  return b.join(";").substr(1);
}
function va(a) {
  var b, c;
  na(a, function(g, e, f, k) {
    function h(n, u, l) {
      if (b) {
        k < c.length && (c.length = k);
        var r = c[c.length - 1];
        G <= da(r) ? (r.G = r.G || [], r.G.push([n, u, l]), n = null) : n = new A(r, r.h && r.h.length, n, u, l);
        I(g) < g.length && (c[k] = n);
      } else {
        b = new A(!0, 0, n, u, l), c = [b];
      }
    }
    if (L(g) || N(g)) {
      h(3, g);
    } else {
      e = g[0];
      f = g[1];
      var d = 1, m = e, p;
      switch(e) {
        case 9:
        case 13:
        case 16:
          h(e, f);
          break;
        case 11:
          h(e);
          break;
        case 3:
        case 4:
        case 8:
        case 14:
        case 18:
          h(e, f);
          break;
        case 15:
          h(e);
          break;
        case 7:
          d = [];
          m = 2;
          for (p = g.length; m < p; ++m) {
            d[m - 2] = g[m];
          }
          h(e, f, p - 2 ? d : null);
          break;
        case 1:
        case 17:
          m = f, d = 2;
        default:
          L(m) && h(1 === d ? 1 : e, m, g[d]);
      }
    }
    return Infinity;
  });
  return b;
}
function xa(a, b, c, g, e, f) {
  function k() {
    var l = "";
    u && (l = "</" + u.toLowerCase() + ">", u = "");
    return l;
  }
  function h(l, r, D) {
    l = P("" + l);
    var w = l.match('"'), y = l.match("'"), v = r ? "'" : '"';
    w && y ? l = r ? v + l.split("'").join("\\'") + v : v + l.split('"').join('\\"') + v : w ? l = "'" + l + "'" : y ? l = r ? v + l.split("'").join("\\'") + v : v + l + v : D || l.match(/[^0-9a-z\.\-]/g) || 72 < l.length ? l = v + l + v : "" === l && (l = v + v);
    return l;
  }
  f = f || {};
  var d = !0 === f.quotAlways, m = !0 === f.useSingleQuot, p = f.instructionAttrPrefix || ":", n = [!1, null, !1, !1, !1], u;
  b(function(l, r, D, w, y, v) {
    function M(ha) {
      q[++x] = k() + (Q ? ha : P("" + ha));
    }
    var q = [], x = -1;
    r = !1;
    J(l) && (r = y);
    y = n[5 * w];
    var Z = n[5 * w + 1];
    D = n[5 * w + 2];
    var Q = n[5 * w + 3];
    Z = g ? ua(l, Z, g) : null;
    var t = l[0], B = l[1], R = 1, E;
    switch(O(l)) {
      case 9:
        q[++x] = B;
        break;
      case 3:
        J(l) || (B = l);
        M(B);
        break;
      case 4:
        q[++x] = "<![CDATA[" + P("" + B) + "]]\x3e";
        break;
      case 8:
        q[++x] = "\x3c!--" + P("" + B) + "--\x3e";
        break;
      case 13:
        q[++x] = k() + "\x3c!--[" + B + "]>";
        break;
      case 16:
        q[++x] = k() + "\x3c!--{" + B + "};";
        break;
      case 14:
        q[++x] = "\x3c!--[" + B + "]>\x3c!--\x3e";
        break;
      case 15:
        q[++x] = "\x3c!--<![endif]--\x3e";
        break;
      case 7:
        if (c) {
          var H = sa(c, l, v);
          v = J(H);
          if (null != H && "" !== H) {
            if (L(H) || N(H)) {
              M(H);
            } else if (v) {
              return H;
            }
          }
        }
        break;
      case 18:
        q[++x] = "</" + B + ">";
        break;
      case 17:
        H = !0;
      case 1:
        N(t) && (t = B, R = 2);
        t = C(t);
        B = t[1];
        var ia = t[2];
        t = t[0];
        l = l[R];
        "P" !== u || qa[t] ? u = "" : q[++x] = k();
        y = y || (y || aa[t] ? !0 : 0 < t.indexOf(":"));
        D = D || !!pa[t];
        Q = Q || !!ra[t];
        q[++x] = "<" + (y ? t : t.toLowerCase());
        B && (q[++x] = " id=" + h(B, m, y || d));
        ia && (q[++x] = " class=" + h(ia, m, y || d));
        if (!J(l) && K(l)) {
          for (E in l) {
            t = l[E];
            (R = 0 === E.indexOf(p)) && (E = E.substr(p.length));
            "className" === E && (E = "class");
            if (R && c && (t = ta(c, E, t, e, v), v && v.stopped)) {
              return;
            }
            null == t || ba[E] && !1 === t || (q[++x] = " " + E, ba[E] || !0 === t) || "style" === E && K(t) && (t = wa(t), !t) || (q[++x] = "=" + h(t, m, y || d));
          }
        }
        !y || r || H ? q[++x] = ">" : q[++x] = " />";
    }
    n[5 * w + 5] = y;
    n[5 * w + 6] = Z;
    n[5 * w + 7] = D;
    n[5 * w + 8] = Q;
    n[5 * w + 9] = r;
    -1 !== x && ya(a, q.join(""));
  }, function(l, r, D, w) {
    r = [];
    D = -1;
    var y = n[5 * w + 5], v = n[5 * w + 7], M = n[5 * w + 9], q = l[0];
    5 * w + 5 < n.length && (n.length = 5 * w + 5);
    switch(O(l)) {
      case 13:
        r[++D] = k() + "<![endif]--\x3e";
        break;
      case 16:
        r[++D] = k() + "--\x3e";
        break;
      case 17:
        u = "";
        break;
      case 1:
        N(q) && (q = l[1]), q = C(q)[0], !M && ca[q] ? u = "" : y && !M || oa[q] && (!v || "P" !== q) ? u = q : (r[++D] = "</" + (y ? q : q.toLowerCase()) + ">", u = "");
    }
    -1 !== D && ya(a, r.join(""));
    0 === w && (a = null);
  });
  b = null;
}
const S = Buffer.from ? Buffer.from : (...a) => new Buffer(...a), T = Buffer.alloc ? Buffer.alloc : (...a) => new Buffer(...a);
function U() {
  this.l = void 0;
  this.J = [];
  this.h = 17;
  this.j = void 0;
  this.V = T(65536);
  this.o = 0;
  this.D = this.F = this.G = this.unicode = void 0;
  this.state = 113;
  this.m = this.K = 0;
  this.$ = {2:T(2), 3:T(3), 4:T(4)};
}
function V(a, b) {
  65536 <= a.o && (a.j += a.V.toString("utf8"), a.o = 0);
  a.V[a.o++] = b;
}
function W(a, b, c, g) {
  var e = b.length;
  "number" === typeof c && (e = "number" === typeof g ? 0 > g ? b.length - c + g : g - c : b.length - c);
  0 > e && (e = 0);
  65536 < a.o + e && (a.j += a.V.toString("utf8", 0, a.o), a.o = 0);
  b.copy(a.V, a.o, c, g);
  a.o += e;
}
U.prototype.write = function(a) {
  "string" === typeof a && (a = S(a));
  for (var b, c = 0, g = a.length; c < g; c++) {
    switch(this.h) {
      case 17:
        b = a[c];
        switch(b) {
          case 123:
            this.v(1, "{");
            break;
          case 125:
            this.v(2, "}");
            break;
          case 91:
            this.v(3, "[");
            break;
          case 93:
            this.v(4, "]");
            break;
          case 58:
            this.v(5, ":");
            break;
          case 44:
            this.v(6, ",");
            break;
          case 116:
            this.h = 33;
            break;
          case 102:
            this.h = 49;
            break;
          case 110:
            this.h = 65;
            break;
          case 34:
            this.j = "";
            this.o = 0;
            this.h = 97;
            break;
          case 45:
            this.j = "-";
            this.h = 81;
            break;
          default:
            if (48 <= b && 64 > b) {
              this.j = String.fromCharCode(b), this.h = 83;
            } else if (32 !== b && 9 !== b && 10 !== b && 13 !== b) {
              this.h = 18;
              return;
            }
        }break;
      case 97:
        b = a[c];
        if (0 < this.K) {
          for (b = 0; b < this.K; b++) {
            this.$[this.m][this.m - this.K + b] = a[b];
          }
          W(this, this.$[this.m]);
          this.m = this.K = 0;
          c = c + b - 1;
        } else if (0 === this.K && 128 <= b) {
          if (194 <= b && 223 >= b && (this.m = 2), 224 <= b && 239 >= b && (this.m = 3), 240 <= b && 244 >= b && (this.m = 4), this.m + c > a.length) {
            for (b = 0; b <= a.length - 1 - c; b++) {
              this.$[this.m][b] = a[c + b];
            }
            this.K = c + this.m - a.length;
            c = a.length - 1;
          } else {
            W(this, a, c, c + this.m), c = c + this.m - 1;
          }
        } else if (34 === b) {
          this.h = 17, this.j += this.V.toString("utf8", 0, this.o), this.o = 0, this.v(10, this.j), Buffer.byteLength(this.j, "utf8"), this.j = void 0;
        } else if (92 === b) {
          this.h = 98;
        } else if (32 <= b) {
          V(this, b);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 98:
        b = a[c];
        switch(b) {
          case 34:
            V(this, b);
            this.h = 97;
            break;
          case 92:
            V(this, 92);
            this.h = 97;
            break;
          case 47:
            V(this, 47);
            this.h = 97;
            break;
          case 98:
            V(this, 8);
            this.h = 97;
            break;
          case 102:
            V(this, 12);
            this.h = 97;
            break;
          case 110:
            V(this, 10);
            this.h = 97;
            break;
          case 114:
            V(this, 13);
            this.h = 97;
            break;
          case 116:
            V(this, 9);
            this.h = 97;
            break;
          case 117:
            this.unicode = "";
            this.h = 99;
            break;
          default:
            this.h = 18;
            return;
        }break;
      case 99:
      case 100:
      case 101:
      case 102:
        b = a[c];
        if (48 <= b && 64 > b || 64 < b && 70 >= b || 96 < b && 102 >= b) {
          this.unicode += String.fromCharCode(b), 102 === this.h++ && (b = parseInt(this.unicode, 16), this.unicode = void 0, void 0 !== this.G && 56320 <= b && 57344 > b ? (W(this, S(String.fromCharCode(this.G, b))), this.G = void 0) : void 0 === this.G && 55296 <= b && 56320 > b ? this.G = b : (void 0 !== this.G && (W(this, S(String.fromCharCode(this.G))), this.G = void 0), W(this, S(String.fromCharCode(b)))), this.h = 97);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 81:
      case 83:
        b = a[c];
        switch(b) {
          case 48:
          case 49:
          case 50:
          case 51:
          case 52:
          case 53:
          case 54:
          case 55:
          case 56:
          case 57:
          case 46:
          case 101:
          case 69:
          case 43:
          case 45:
            this.j += String.fromCharCode(b);
            this.h = 83;
            break;
          default:
            this.h = 17;
            b = Number(this.j);
            if (isNaN(b)) {
              this.h = 18;
              return;
            }
            this.j.match(/[0-9]+/) == this.j && b.toString() != this.j ? this.v(10, this.j) : this.v(11, b);
            this.j = void 0;
            c--;
        }break;
      case 33:
        if (114 === a[c]) {
          this.h = 34;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 34:
        if (117 === a[c]) {
          this.h = 35;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 35:
        if (101 === a[c]) {
          this.h = 17, this.v(7, !0);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 49:
        if (97 === a[c]) {
          this.h = 50;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 50:
        if (108 === a[c]) {
          this.h = 51;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 51:
        if (115 === a[c]) {
          this.h = 52;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 52:
        if (101 === a[c]) {
          this.h = 17, this.v(8, !1);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 65:
        if (117 === a[c]) {
          this.h = 66;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 66:
        if (108 === a[c]) {
          this.h = 67;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 67:
        if (108 === a[c]) {
          this.h = 17, this.v(9, null);
        } else {
          this.h = 18;
          return;
        }
    }
  }
};
function za(a) {
  a.J.push({l:a.l, F:a.F, D:a.D});
}
function X(a) {
  var b = a.l, c = a.J.pop();
  a.l = c.l;
  a.F = c.F;
  a.D = c.D;
  a.emit(b);
  a.D || (a.state = 113);
}
U.prototype.emit = function() {
  this.D && (this.state = 6);
};
U.prototype.v = function(a, b) {
  switch(this.state) {
    case 113:
      switch(a) {
        case 10:
        case 11:
        case 7:
        case 8:
        case 9:
          this.l && (this.l[this.F] = b);
          this.emit(b);
          break;
        case 1:
          za(this);
          this.l = this.l ? this.l[this.F] = {} : {};
          this.F = void 0;
          this.state = 114;
          this.D = 129;
          break;
        case 3:
          za(this);
          this.l = this.l ? this.l[this.F] = [] : [];
          this.F = 0;
          this.D = 130;
          this.state = 113;
          break;
        case 2:
          129 === this.D ? X(this) : this.h = 18;
          break;
        case 4:
          130 === this.D ? X(this) : this.h = 18;
          break;
        default:
          this.h = 18;
      }break;
    case 114:
      10 === a ? (this.F = b, this.state = 5) : 2 === a ? X(this) : this.h = 18;
      break;
    case 5:
      5 === a ? this.state = 113 : this.h = 18;
      break;
    case 6:
      6 === a ? 130 === this.D ? (this.F++, this.state = 113) : 129 === this.D && (this.state = 114) : 4 === a && 130 === this.D || 2 === a && 129 === this.D ? X(this) : this.h = 18;
      break;
    default:
      this.h = 18;
  }
};
var Aa = require("stream");
function ya(a, b) {
  a.ea || (null === b && (a.ea = !0), a.aa.push(b), Ba(a));
}
function Ba(a) {
  for (var b = a.aa; b.length && !a.paused;) {
    var c = b.shift();
    null === c ? a.emit("end") : a.emit("data", c);
  }
}
function Ca(a) {
  if (a.paused) {
    a.on("resume", () => Ca(a));
  } else {
    a.writable && (a.writable = !1, a.ja.call(a), !a.readable && a.ga && a.destroy());
  }
}
var Fa = class extends Aa.Stream {
  constructor() {
    var a = Da, b = Ea;
    super();
    this.fa = "json2html";
    this.ka = a;
    this.ja = b;
    this.destroyed = this.paused = this.ea = this.ended = !1;
    this.ga = this.readable = this.writable = !0;
    this.aa = [];
    this.on("end", () => {
      this.readable = !1;
      !this.writable && this.ga && process.nextTick(() => this.destroy());
    });
  }
  write(a) {
    this.ka.call(this, a);
    return !this.paused;
  }
  end(a) {
    this.ended || (this.ended = !0, arguments.length && this.write(a), Ca(this));
  }
  destroy() {
    this.destroyed || (this.ended = this.destroyed = !0, this.aa.length = 0, this.writable = this.readable = !1, this.emit("close"));
  }
  pause() {
    this.paused || (this.paused = !0, console.log("[Through: " + this.fa + "] pause()"), this.emit("pause"));
  }
  resume() {
    this.paused && (this.paused = !1, console.log("[Through: " + this.fa + "] resume()"), this.emit("resume"));
    Ba(this);
    this.paused || this.emit("drain");
  }
};
function Ga(a) {
  const b = new U(), c = new Fa();
  c.M = b;
  b.W = c;
  b.ba = 0;
  b.R = [];
  b.N = b.v;
  b.v = Ha;
  b.onError = Ia;
  b.Z = [];
  b.da = [];
  b.Y = a;
  c.on("resume", Ja);
  c.stop = Ka;
  c.restart = La;
  return c;
}
function Ka() {
  this.stopped || (this.stopped = !0, this.pause());
}
function La() {
  this.stopped && (this.stopped = !1, this.resume());
}
function Da(a) {
  if (N(a) || a === !!a) {
    a = "" + a;
  }
  L(a) && (a = S(a));
  this.M.write(a);
}
function Ea(a) {
  null != a && this.write(a);
  37 !== this.M.ba && this.emit("error", "Invalid html.json");
  ya(this, null);
  this.M = this.M.W = null;
}
function Ja() {
  var a = this.M, b = a.da;
  if (b) {
    for (; b.length && !this.stopped;) {
      a.v(b.shift(), b.shift());
    }
  }
}
function Ia(a) {
  -1 < a.message.indexOf("at position") && (a.message = "Invalid JSON (" + a.message + ")");
  this.Y && this.Y(a.message);
  this.W.emit("error", a);
}
function Ha(a, b) {
  function c(m) {
    h.X = m;
  }
  function g(m) {
    const p = h.X, n = h.H;
    switch(p) {
      case 11:
        return e([p], m);
      case 17:
      case 1:
        if (h.T) {
          return e([p, n, h.T], m);
        }
      case 9:
      case 13:
      case 16:
        return e([p, n], m);
      case 3:
      case 4:
      case 8:
      case 14:
      case 18:
        return e([p, n], !1);
      case 15:
        return e([p], !1);
      case 7:
        return e([p].concat(h.R), !1);
    }
    return !1;
  }
  function e(m, p) {
    const n = h.Z;
    var u = h.W, l = n.length - 1;
    -1 === l && 9 !== m[0] && 11 !== m[0] && (n.push([[11], -1]), l = 0, h.ia = !0);
    const r = n[l] || [null, -1];
    l = h.la(m, r[0], r[1] + 1, l, p, u);
    (u = u.stopped) ? -1 !== l && h.da.push(a, b) : (h.R.length = 0, h.T = null, ++r[1], p ? n.push([m, -1]) : f(m));
    return u;
  }
  function f(m) {
    const p = h.Z;
    let n = p.length - 1, u = p[n];
    m || (m = u[0], p.pop(), --n, u = p[n] || [null, 0]);
    h.ha && h.ha(m, u[0], u[1], n);
  }
  function k() {
    return h.Z.length - (h.ia ? 1 : 0) ? 36 : 37;
  }
  const h = this;
  var d = this.ba;
  if (this.W.stopped) {
    this.da.push(a, b);
  } else if (5 === a || 6 === a) {
    this.J.length && this.N(a, b);
  } else {
    switch(d) {
      case 26:
        switch(a) {
          case 4:
            if (0 === this.J.length) {
              if (g(!1)) {
                return;
              }
              d = k();
              break;
            }
          case 2:
            1 === this.J.length && (this.R.push(this.l), this.l = null);
          case 3:
          case 1:
            this.N(a, b);
            break;
          default:
            this.J.length ? this.N(a, b) : this.R.push(b);
        }break;
      case 34:
        switch(a) {
          case 2:
            1 === this.J.length && (this.T = this.l, this.l = null, d = 35);
          default:
            this.N(a, b);
        }break;
      default:
        switch(a) {
          case 3:
            switch(d) {
              case 30:
              case 35:
                d = 32;
                break;
              case 0:
              case 36:
                d = 0;
                break;
              default:
                d = -1;
            }break;
          case 4:
            d = 30 === d || 35 === d ? 34 : 36 === d ? 35 : 31 === d ? 31 : -1;
            break;
          case 1:
            d = 30 === d ? 30 : -1;
            break;
          case 10:
            switch(d) {
              case 32:
              case 27:
                d = 27;
                break;
              case 28:
                d = 28;
                break;
              case 29:
                d = 29;
                break;
              case 19:
                d = 19;
                break;
              case 20:
                d = 20;
                break;
              case 21:
                d = 21;
                break;
              case 22:
                d = 22;
                break;
              case 23:
                d = 23;
                break;
              case 25:
                d = 25;
                break;
              case 24:
                d = 24;
                break;
              case 30:
              case 35:
                d = 33;
                break;
              case 36:
                d = 38;
                break;
              default:
                d = -1;
            }break;
          case 11:
            switch(d) {
              case 32:
                d = b;
                break;
              case 20:
                d = 20;
                break;
              case 30:
              case 35:
                d = 33;
                break;
              case 36:
                d = 38;
                break;
              case 21:
                d = 21;
                break;
              case 22:
                d = 22;
                break;
              default:
                d = -1;
            }break;
          default:
            d = -1;
        }switch(d) {
          case 32:
            if (g(!0)) {
              return;
            }
          case 0:
            d = 32;
            break;
          case 9:
            d = 19;
            c(9);
            break;
          case 19:
            d = 35;
            h.H = b;
            break;
          case 11:
            d = 35;
            c(11);
            break;
          case 1:
            d = 27;
            break;
          case 17:
            d = 28;
            c(17);
            break;
          case 27:
            c(1);
          case 28:
            d = 30;
            h.H = b;
            break;
          case 30:
            d = 34;
            this.T = {};
            this.N(a, b);
            break;
          case 35:
            f();
            d = k();
            break;
          case 31:
            if (g(!1)) {
              return;
            }
            d = k();
            break;
          case 34:
            if (g(!1)) {
              return;
            }
            d = k();
            break;
          case 18:
            d = 29;
            c(18);
            break;
          case 29:
            d = 31;
            h.H = b;
            break;
          case 3:
            d = 20;
            c(3);
            break;
          case 20:
            d = 31;
            h.H = b;
            break;
          case 33:
            if (g(!0)) {
              return;
            }
          case 38:
            d = 36;
            e([3, b], !1);
            break;
          case 4:
            d = 21;
            c(4);
            break;
          case 21:
            d = 31;
            h.H = b;
            break;
          case 8:
            d = 22;
            c(8);
            break;
          case 22:
            d = 31;
            h.H = b;
            break;
          case 13:
            d = 23;
            c(13);
            break;
          case 23:
            d = 35;
            h.H = b;
            break;
          case 16:
            d = 25;
            c(16);
            break;
          case 25:
            d = 35;
            h.H = b;
            break;
          case 14:
            d = 24;
            c(14);
            break;
          case 24:
            d = 31;
            h.H = b;
            break;
          case 15:
            d = 31;
            c(15);
            break;
          case 7:
            d = 26;
            c(7);
            break;
          default:
            d = -1;
        }
    }
    -1 === d ? (this.Y && this.Y("Not html.json format!"), this.W.emit("error", "Not html.json format!")) : this.ba = d;
  }
}
function Y(a, b, c, g) {
  const e = Ga(c);
  xa(e, function(f, k) {
    var h;
    e.M.la = function(d, m, p, n, u, l) {
      if (h) {
        if (Ma(h, l, f, k)) {
          return;
        }
        h = null;
      }
      d = f(d, m, p, n, u, l);
      p = J(d);
      if (!l.stopped) {
        if (p) {
          if (11 === d[0]) {
            for (p = 1, n = d.length; p < n; ++p) {
              m.push(d[p]);
            }
          } else {
            m.push(d);
          }
          Ma(m, l, f, k) && (h = m);
        }
        return -1;
      }
    };
    e.M.ha = k;
  }, a, b, c, g);
  return e;
}
function Ma(a, b, c, g) {
  var e;
  na(a, function(f, k, h, d) {
    if (f !== a && !f.h) {
      d = c(f, k, h, d, I(f) < f.length, b);
      var m = b.stopped, p = J(d);
      p && (11 === d[0] ? (d.shift(), d.unshift(h, 1), k.splice.apply(k, d)) : k.splice(h, 1, d));
      if (m) {
        return e = !0, Infinity;
      }
      if (p) {
        return -1;
      }
      if (L(f) || N(f)) {
        return k.splice(h, 1), -1;
      }
      f.h = !0;
    }
  }, function(f, k, h, d) {
    f === a || f.left || -1 === [9, 11, 1, 17, 13, 16].indexOf(O(f)) || (g(f, k, h, d), f.left = !0);
  });
  return e;
}
Y.module = {};
module.exports = Y;
Y.DOCUMENT_NODE = 9;
Y.DOCUMENT_FRAGMENT_NODE = 11;
Y.ELEMENT_NODE = 1;
Y.TEXT_NODE = 3;
Y.CDATA_SECTION = 4;
Y.PROCESSING_INSTRUCTION = 7;
Y.COMMENT_NODE = 8;
Y.COND_CMT_HIDE_LOWER = 13;
Y.COND_CMT_SHOW_LOWER_START = 14;
Y.COND_CMT_SHOW_LOWER_END = 15;
Y.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Y.ELEMENT_START_TAG = 17;
Y.ELEMENT_END_TAG = 18;

