var aa = {xml:!0, svg:!0, math:!0}, v = {async:!0, autofocus:!0, checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, draggable:!0, hidden:!0, ismap:!0, loop:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, novalidate:!0, nowrap:!0, readonly:!0, required:!0, reversed:!0, scoped:!0, selected:!0}, ba = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, WBR:!0, 
area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, z = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, 
VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, 
H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, 
INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, 
DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, 
RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLETE:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, 
OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
z.LI = z.TD = z.DD;
z.TH = z.DT;
z.RB = z.RP = z.RT = z.P;
z.TFOOT = z.THEAD = z.TBODY;
z.RTC = z.RBC;
var ca = {HTML:!0, HEAD:!0, BODY:!0, P:!0, DT:!0, DD:!0, LI:!0, OPTION:!0, TBODY:!0, THEAD:!0, TFOOT:!0, TD:!0, TH:!0, TR:!0, RB:!0, RBC:!0, RP:!0, RT:!0, RTC:!0, OPTGROUP:!0, CAPTION:!0, COLGROUP:!0}, C = {A:!0, AUDIO:!0, DEL:!0, INS:!0, MAP:!0, NOSCRIPT:!0, VIDEO:!0}, da = {H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, ADDRESS:!0, BLOCKQUOTE:!0, DIV:!0, DL:!0, FIELDSET:!0, FORM:!0, HR:!0, LEGEND:!0, MENU:!0, NOSCRIPT:!0, OL:!0, P:!0, PRE:!0, UL:!0, CENTER:!0, DIR:!0, NOFRAMES:!0, MARQUEE:!0}, F = {SCRIPT:!0, 
STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, H = !1, J = !1, K = !1;
function L(a) {
  return !(!a || a.pop !== [].pop);
}
function ea(a) {
  return !(!a || "object" !== typeof a);
}
function N(a) {
  return "" + a === a;
}
function O(a) {
  return N(a) || a === +a;
}
function fa(a) {
  if (O(a)) {
    a = 3;
  } else if (L(a)) {
    if (N(a[0])) {
      a = 1;
    } else {
      var b = a[0];
      a = b === +b ? a[0] : -1;
    }
  } else {
    a = -1;
  }
  return a;
}
function ha(a, b, c, g) {
  var d = b[1], e = b.slice(2), l;
  "function" === typeof a ? l = e.length ? a(d, e) : a(d) : a[d] && (l = e.length ? a[d].apply(null, e) : a[d]());
  void 0 !== l && null !== l && "" !== l && (O(l) ? c ? c.splice(g, 1, l) : (b.length = 0, b.push(3, b)) : L(l) && (11 === l[0] ? c ? (l.shift(), l.unshift(g, 1), c.splice.apply(c, l)) : (b.length = 0, b.push.apply(b, l)) : L(l[0]) ? c ? (l.unshift(g, 1), c.splice.apply(c, l)) : (b.length = 0, b.push(11), b.push.apply(b, l)) : c ? c.splice(g, 1, l) : (b.length = 0, b.push(11, l))));
  return l;
}
function ia(a, b, c, g, d) {
  var e;
  if (L(c) && N(c[0])) {
    var l = c[0];
    c = c.slice(1);
    "function" === typeof a ? e = c.length ? a.call(d, l, c) : a.call(d, l) : a[l] && (e = c.length ? a[l].apply(d || a, c) : a[l].call(d || a));
  } else {
    N(c) && ("function" === typeof a ? e = a(c) : e = a[c]());
  }
  return L(e) ? ia(a, b, e, g, d) : e;
}
function ja(a, b, c) {
  a = ka(a);
  var g;
  la = a;
  b && (b.h ? b.h.push(a) : b.h = [a]);
  if (L(c)) {
    var d = 1 === a.m || 17 === a.m;
    b = 0;
    for (g = c.length; b < g; b += 2) {
      var e = c[b], l = c[b + 1];
      if (e === +e) {
        if (e === a.m && !0 === l(a)) {
          break;
        }
      } else if ("*" === e) {
        if (!0 === l(a)) {
          break;
        }
      } else if (d && N(e) && e === a.J && !0 === l(a)) {
        break;
      }
    }
  } else {
    c(a);
  }
  return a;
}
function P(a) {
  return a.split("&lt;").join("&amp;lt;").split("&gt;").join("&amp;gt;").split("<").join("&lt;").split(">").join("&gt;");
}
function Q(a, b, c) {
  a = P("" + a);
  var g = a.match('"'), d = a.match("'"), e = b ? "'" : '"';
  g && d ? a = b ? e + a.split("'").join("\\'") + e : e + a.split('"').join('\\"') + e : g ? a = "'" + a + "'" : d ? a = b ? e + a.split("'").join("\\'") + e : e + a + e : c || a.match(/[^0-9a-z\.\-]/g) || 72 < a.length ? a = e + a + e : "" === a && (a = e + e);
  return a;
}
function ma(a) {
  var b = [];
  a = a.split("");
  for (var c = a.length, g; c;) {
    g = a[--c], "A" <= g && "Z" >= g && (g = "-" + g.toLowerCase()), b[c] = g;
  }
  return b.join("");
}
function R(a) {
  var b = a[0], c = b === +b ? 2 : 1;
  1 === fa(a) || 17 === b ? (a = a[c], c = !L(a) && ea(a) ? c + 1 : c) : c = 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
  return c;
}
function na(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), g = "", d = "";
  b < c ? (g = a.split(".")[1], a = a.split(".")[0], 0 < b && (d = a.split("#")[1], a = a.split("#")[0])) : c < b && (d = a.split("#")[1], a = a.split("#")[0], 0 < c && (g = a.split(".")[1], a = a.split(".")[0]));
  return [a, d, g];
}
function ka(a) {
  var b, c;
  oa(a, function(g, d, e, l) {
    function E(t, f, m) {
      if (b) {
        l + 1 < c.length && (c.length = l + 1);
        var k = c[c.length - 1];
        pa <= ua(k) ? (k.C = k.C || [], k.C.push([t, f, m]), t = null) : t = new S(k, k.h && k.h.length, t, f, m);
        L(g) && R(g) < g.length && (c[l + 1] = t);
      } else {
        b = new S(!0, 0, t, f, m), c = [b];
      }
    }
    if (O(g)) {
      E(3, g);
    } else {
      d = g[0];
      e = g[1];
      var y = 1, r = d, h;
      switch(d) {
        case 9:
        case 13:
        case 16:
          E(d, e);
          break;
        case 11:
          E(d);
          break;
        case 3:
        case 4:
        case 8:
        case 14:
        case 18:
          E(d, e);
          break;
        case 15:
          E(d);
          break;
        case 7:
          y = [];
          r = 2;
          for (h = g.length; r < h; ++r) {
            y[r - 2] = g[r];
          }
          E(d, e, h - 2 ? y : null);
          break;
        case 1:
        case 17:
          r = e, y = 2;
        default:
          N(r) && E(1 === y ? 1 : d, r, g[y]);
      }
    }
    return va;
  });
  return b;
}
var wa = -1, xa = 1, va = Infinity, ya = Infinity;
function oa(a, b) {
  var c = a, g = R(a), d = 0, e = b(a, null, -1, 0);
  a = [-1, a, g];
  if (e !== va && e !== ya && 0 < c.length - g) {
    do {
      e = ++a[d];
      var l = c[e + g];
      if (void 0 === l) {
        a.length = d, d -= 3, c = a[d + 1], g = a[d + 2];
      } else {
        e = b(l, c, e + g, d / 3);
        if (e === va) {
          break;
        }
        e !== ya && (e <= wa ? a[d] += e : (xa <= e && (a[d] += e), 0 < l.length - R(l) && (d += 3, a[d] = -1, a[d + 1] = c = l, a[d + 2] = g = R(l))));
      }
    } while (0 <= d);
  }
}
function S(a, b, c, g, d) {
  if (a === !!a) {
    var e = null;
    this.l = a;
  } else {
    e = a, this.l = e.l;
  }
  this.j = e;
  this.m = c;
  e && (e.h || (e.h = []), a = e.h, 0 <= b && b < a.length ? a.splice(b, 0, this) : a.push(this));
  switch(c) {
    case 1:
    case 17:
      b = na(g), g = b[0];
    case 18:
      this.J = g;
      break;
    case 7:
      this.F = d || null;
  }
}
var la = null;
function ua(a) {
  return a.l ? la === a ? a.H ? za : a.L ? pa : Aa : la.j === a ? Ba : Ca : Da;
}
S.prototype.remove = function() {
  if (pa <= ua(this)) {
    return this.H = !0, null;
  }
  var a = this.j ? this.j.h.indexOf(this) : -1;
  0 <= a && (this.j.h.splice(a, 1), this.j = null);
};
S.prototype.wrap = function(a, b, c) {
  if (this.l) {
    this.v = this.v || [], this.v.push([a, b, c]), a = null;
  } else if (this.j) {
    var g = this.j, d = this.j ? this.j.h.indexOf(this) : -1;
    a = new S(g, d, a, b, c);
  } else {
    a = null;
  }
  Ea(a, 0, [this]);
  return a;
};
function Ea(a, b, c) {
  var g = a.h = a.h || [], d = g.length, e = c.length;
  for (b = b < d ? b : d; e;) {
    d = c[--e], 11 === d.m ? d.h && d.h.length && Ea(a, b, d.h) : (d.remove(), g.splice(b, 0, d), d.j = a);
  }
}
var Da = 0, Ca = 1, Aa = 2, pa = 3, za = 4, Ba = 5;
function Fa(a, b, c, g, d) {
  function e(n, x, p, D, u, A) {
    function G() {
      var qa = "";
      k && (qa = "</" + (q ? k : k.toLowerCase()) + ">", k = "");
      return qa;
    }
    var B = r ? ja(n, p, r) : null;
    p = "";
    var ra = n[0], I = n[1], M = 1, w = ra, sa;
    switch(ra) {
      case 9:
        p = I + l(n, B, !1, A);
        break;
      case 11:
        p = l(n, B, u, A);
        break;
      case 3:
        p = G() + (A ? I : P("" + I));
        break;
      case 4:
        p = "<![CDATA[" + P("" + I) + "]]\x3e";
        break;
      case 8:
        p = "\x3c!--" + P("" + I) + "--\x3e";
        break;
      case 13:
        p = G() + "\x3c!--[" + I + "]>" + l(n, B, !0, A) + "<![endif]--\x3e";
        break;
      case 16:
        p = G() + "\x3c!--{" + I + "};" + l(n, B, !0, A) + "--\x3e";
        break;
      case 14:
        p = "\x3c!--[" + I + "]>\x3c!--\x3e";
        break;
      case 15:
        p = "\x3c!--<![endif]--\x3e";
        break;
      case 7:
        if (y) {
          if (u = ha(y, n, x, D), void 0 !== u && null !== u && "" !== u && (O(u) || L(u))) {
            return -1;
          }
        } else {
          h("onInstruction is void!");
        }
        break;
      case 18:
        p = "</" + I + ">";
        break;
      case 17:
        var ta = !0;
      case 1:
        w = n[1], M = 2;
      default:
        w = na(w), x = w[1], D = w[2], w = w[0], M = n[M], "P" !== k || da[w] ? k = "" : p = G(), q || (sa = q = q || aa[w] ? !0 : 0 < w.indexOf(":")), p += "<" + (q ? w : w.toLowerCase()), x && (p += " id=" + Q(x, f, q || t)), D && (p += " class=" + Q(D, f, q || t)), !L(M) && ea(M) && (p += E(M)), p = (n = l(n, B, C[w], A || F[w])) ? p + (">" + n) : ta ? p + ">" : p + (q ? " />" : ">"), ta && (k = ""), !n && ba[w] ? k = "" : q && !n || ca[w] && (!u || "P" !== w) ? k = w : (p += "</" + (q ? w : w.toLowerCase()) + 
        ">", k = ""), sa && (q = !1);
    }
    return p;
  }
  function l(n, x, p, D) {
    for (var u = [], A = R(n), G = -1, B; A < n.length; ++A) {
      B = n[A], O(B) ? u[++G] = e([3, B], n, x, A, !1, D) : L(B) && (B = e(B, n, x, A, p, D), -1 === B ? --A : u[++G] = B);
    }
    return u.join("");
  }
  function E(n) {
    var x = "", p, D;
    for (p in n) {
      var u = n[p];
      (D = 0 === p.indexOf(m)) && (p = p.substr(m.length));
      "className" === p && (p = "class");
      D && y && (u = ia(y, p, u, h));
      if (!(null == u || v[p] && !1 === u || (x += " " + p, v[p] || !0 === u))) {
        if ("style" === p && ea(u)) {
          D = void 0;
          var A = u, G = [], B = -1;
          for (D in A) {
            u = A[D], "0px" === u && (u = 0), G[++B] = ma(D) + ":" + P("" + u);
          }
          u = G.join(";").substr(1);
          if (!u) {
            continue;
          }
        }
        x += "=" + Q(u, f, q || t);
      }
    }
    return x;
  }
  var y = b || null, r = c || null, h = "function" === typeof g ? g : function() {
  };
  b = d || {};
  var t = !0 === b.quotAlways, f = !0 === b.useSingleQuot, m = b.instructionAttrPrefix || ":", k, q = K;
  if (L(a)) {
    return 7 === fa(a) && (a = [11, a]), e(a, null, null, 0, H || !1, J || !1);
  }
}
const T = Buffer.from ? Buffer.from : (...a) => new Buffer(...a), U = Buffer.alloc ? Buffer.alloc : (...a) => new Buffer(...a);
function V() {
  this.o = void 0;
  this.J = [];
  this.h = 17;
  this.j = void 0;
  this.$ = U(65536);
  this.v = 0;
  this.G = this.K = this.O = this.Y = void 0;
  this.L = 113;
  this.m = this.X = 0;
  this.ga = {2:U(2), 3:U(3), 4:U(4)};
}
function W(a, b) {
  65536 <= a.v && (a.j += a.$.toString("utf8"), a.v = 0);
  a.$[a.v++] = b;
}
function X(a, b, c, g) {
  var d = b.length;
  "number" === typeof c && (d = "number" === typeof g ? 0 > g ? b.length - c + g : g - c : b.length - c);
  0 > d && (d = 0);
  65536 < a.v + d && (a.j += a.$.toString("utf8", 0, a.v), a.v = 0);
  b.copy(a.$, a.v, c, g);
  a.v += d;
}
V.prototype.write = function(a) {
  "string" === typeof a && (a = T(a));
  for (var b, c = 0, g = a.length; c < g; c++) {
    switch(this.h) {
      case 17:
        b = a[c];
        switch(b) {
          case 123:
            this.l(1, "{");
            break;
          case 125:
            this.l(2, "}");
            break;
          case 91:
            this.l(3, "[");
            break;
          case 93:
            this.l(4, "]");
            break;
          case 58:
            this.l(5, ":");
            break;
          case 44:
            this.l(6, ",");
            break;
          case 116:
            this.h = 33;
            break;
          case 102:
            this.h = 49;
            break;
          case 110:
            this.h = 65;
            break;
          case 34:
            this.j = "";
            this.v = 0;
            this.h = 97;
            break;
          case 45:
            this.j = "-";
            this.h = 81;
            break;
          default:
            if (48 <= b && 64 > b) {
              this.j = String.fromCharCode(b), this.h = 83;
            } else if (32 !== b && 9 !== b && 10 !== b && 13 !== b) {
              this.h = 18;
              return;
            }
        }break;
      case 97:
        b = a[c];
        if (0 < this.X) {
          for (b = 0; b < this.X; b++) {
            this.ga[this.m][this.m - this.X + b] = a[b];
          }
          X(this, this.ga[this.m]);
          this.m = this.X = 0;
          c = c + b - 1;
        } else if (0 === this.X && 128 <= b) {
          if (194 <= b && 223 >= b && (this.m = 2), 224 <= b && 239 >= b && (this.m = 3), 240 <= b && 244 >= b && (this.m = 4), this.m + c > a.length) {
            for (b = 0; b <= a.length - 1 - c; b++) {
              this.ga[this.m][b] = a[c + b];
            }
            this.X = c + this.m - a.length;
            c = a.length - 1;
          } else {
            X(this, a, c, c + this.m), c = c + this.m - 1;
          }
        } else if (34 === b) {
          this.h = 17, this.j += this.$.toString("utf8", 0, this.v), this.v = 0, this.l(10, this.j), Buffer.byteLength(this.j, "utf8"), this.j = void 0;
        } else if (92 === b) {
          this.h = 98;
        } else if (32 <= b) {
          W(this, b);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 98:
        b = a[c];
        switch(b) {
          case 34:
            W(this, b);
            this.h = 97;
            break;
          case 92:
            W(this, 92);
            this.h = 97;
            break;
          case 47:
            W(this, 47);
            this.h = 97;
            break;
          case 98:
            W(this, 8);
            this.h = 97;
            break;
          case 102:
            W(this, 12);
            this.h = 97;
            break;
          case 110:
            W(this, 10);
            this.h = 97;
            break;
          case 114:
            W(this, 13);
            this.h = 97;
            break;
          case 116:
            W(this, 9);
            this.h = 97;
            break;
          case 117:
            this.Y = "";
            this.h = 99;
            break;
          default:
            this.h = 18;
            return;
        }break;
      case 99:
      case 100:
      case 101:
      case 102:
        b = a[c];
        if (48 <= b && 64 > b || 64 < b && 70 >= b || 96 < b && 102 >= b) {
          this.Y += String.fromCharCode(b), 102 === this.h++ && (b = parseInt(this.Y, 16), this.Y = void 0, void 0 !== this.O && 56320 <= b && 57344 > b ? (X(this, T(String.fromCharCode(this.O, b))), this.O = void 0) : void 0 === this.O && 55296 <= b && 56320 > b ? this.O = b : (void 0 !== this.O && (X(this, T(String.fromCharCode(this.O))), this.O = void 0), X(this, T(String.fromCharCode(b)))), this.h = 97);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 81:
      case 83:
        b = a[c];
        switch(b) {
          case 48:
          case 49:
          case 50:
          case 51:
          case 52:
          case 53:
          case 54:
          case 55:
          case 56:
          case 57:
          case 46:
          case 101:
          case 69:
          case 43:
          case 45:
            this.j += String.fromCharCode(b);
            this.h = 83;
            break;
          default:
            this.h = 17;
            b = Number(this.j);
            if (isNaN(b)) {
              this.h = 18;
              return;
            }
            this.j.match(/[0-9]+/) == this.j && b.toString() != this.j ? this.l(10, this.j) : this.l(11, b);
            this.j = void 0;
            c--;
        }break;
      case 33:
        if (114 === a[c]) {
          this.h = 34;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 34:
        if (117 === a[c]) {
          this.h = 35;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 35:
        if (101 === a[c]) {
          this.h = 17, this.l(7, !0);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 49:
        if (97 === a[c]) {
          this.h = 50;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 50:
        if (108 === a[c]) {
          this.h = 51;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 51:
        if (115 === a[c]) {
          this.h = 52;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 52:
        if (101 === a[c]) {
          this.h = 17, this.l(8, !1);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 65:
        if (117 === a[c]) {
          this.h = 66;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 66:
        if (108 === a[c]) {
          this.h = 67;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 67:
        if (108 === a[c]) {
          this.h = 17, this.l(9, null);
        } else {
          this.h = 18;
          return;
        }
    }
  }
};
function Ga(a) {
  a.J.push({o:a.o, K:a.K, G:a.G});
}
function Y(a) {
  var b = a.o, c = a.J.pop();
  a.o = c.o;
  a.K = c.K;
  a.G = c.G;
  a.emit(b);
  a.G || (a.L = 113);
}
V.prototype.emit = function() {
  this.G && (this.L = 6);
};
V.prototype.l = function(a, b) {
  switch(this.L) {
    case 113:
      switch(a) {
        case 10:
        case 11:
        case 7:
        case 8:
        case 9:
          this.o && (this.o[this.K] = b);
          this.emit(b);
          break;
        case 1:
          Ga(this);
          this.o = this.o ? this.o[this.K] = {} : {};
          this.K = void 0;
          this.L = 114;
          this.G = 129;
          break;
        case 3:
          Ga(this);
          this.o = this.o ? this.o[this.K] = [] : [];
          this.K = 0;
          this.G = 130;
          this.L = 113;
          break;
        case 2:
          129 === this.G ? Y(this) : this.h = 18;
          break;
        case 4:
          130 === this.G ? Y(this) : this.h = 18;
          break;
        default:
          this.h = 18;
      }break;
    case 114:
      10 === a ? (this.K = b, this.L = 5) : 2 === a ? Y(this) : this.h = 18;
      break;
    case 5:
      5 === a ? this.L = 113 : this.h = 18;
      break;
    case 6:
      6 === a ? 130 === this.G ? (this.K++, this.L = 113) : 129 === this.G && (this.L = 114) : 4 === a && 130 === this.G || 2 === a && 129 === this.G ? Y(this) : this.h = 18;
      break;
    default:
      this.h = 18;
  }
};
var stream = require("node:stream");
function Ha(a) {
  for (var b = a.l; b.length && !a.paused;) {
    var c = b.shift();
    null === c ? a.emit("end") : a.emit("data", c);
  }
}
function Ia(a) {
  if (a.paused) {
    a.on("resume", () => Ia(a));
  } else {
    a.writable && (a.writable = !1, a.v.call(a), !a.readable && a.destroy());
  }
}
function Ja(a, b) {
  a.F || (null === b && (a.F = !0), a.l.push(b), Ha(a));
}
var Ka = class extends stream.Stream {
  constructor() {
    var a = Z.ma, b = Z.la;
    super();
    this.C = a;
    this.v = b;
    this.m = this.paused = this.F = this.j = !1;
    this.readable = this.writable = !0;
    this.l = [];
    this.on("end", () => {
      this.readable = !1;
      !this.writable && process.nextTick(() => this.destroy());
    });
  }
  write(a) {
    this.C.call(this, a);
    return !this.paused;
  }
  end(a) {
    this.j || (this.j = !0, arguments.length && this.write(a), Ia(this));
  }
  destroy() {
    this.m || (this.j = this.m = !0, this.l.length = 0, this.writable = this.readable = !1, this.emit("close"));
  }
  pause() {
    this.paused || (this.paused = !0);
  }
  resume() {
    this.paused && (this.paused = !1, this.emit("resume"));
    Ha(this);
    this.paused || this.emit("drain");
  }
};
function Z(a, b, c, g) {
  const d = new V(), e = new Ka();
  g = g || {};
  e.h = d;
  d.D = e;
  d.R = d.l;
  d.l = La;
  d.na = Ma;
  d.fa = 0;
  d.ka = [];
  d.F = [];
  d.ba = "function" === typeof c ? c : function() {
  };
  d.ca = !!g.quotAlways;
  d.da = !!g.useSingleQuot;
  d.ea = g.instructionAttrPrefix || ":";
  d.N = a;
  d.ja = b;
  e.on("resume", Na);
  d.Z = "";
  return e;
}
Z.ma = function(a) {
  if (a === +a || a === !!a) {
    a = "" + a;
  }
  N(a) && (a = T(a));
  this.h.write(a);
};
Z.la = function(a) {
  null != a && this.write(a);
  43 !== this.h.fa && this.emit("error", "Invalid html.json");
  Ja(this, null);
  this.h = this.h.D = null;
};
function Na() {
  var a = this.h, b = a.aa;
  if (b) {
    for (; b.length && (La.call(a, b.shift(), b.shift()), !this.paused);) {
    }
    b.length || (a.aa = null);
  }
}
function Ma(a) {
  -1 < a.message.indexOf("at position") && (a.message = "Invalid JSON (" + a.message + ")");
  this.ba(a.message);
  this.D.emit("error", a);
}
function La(a, b) {
  function c() {
    f.aa ? f.aa.unshift(a, b) : f.aa = [a, b];
  }
  function g() {
    if (f.N) {
      let q;
      q = "function" === typeof f.N ? f.F.length ? f.N.call(f.D, f.H, f.F) : f.N.call(f.D, f.H) : f.F.length ? f.N[f.H].apply(f.D, f.F) : f.N[f.H].call(f.D);
      if (f.D.paused) {
        c();
        return;
      }
      f.H = null;
      f.F.length = 0;
      return q;
    }
    return "";
  }
  function d() {
    if (f.N) {
      const q = ia(f.N, f.V, [f.H].concat(f.F), f.ba, f.D);
      if (f.D.paused) {
        c();
        return;
      }
      f.H = null;
      f.F.length = 0;
      return q;
    }
    return "";
  }
  function e(q) {
    if (null != q) {
      if (v[f.V]) {
        if (!1 !== q) {
          return " " + f.V;
        }
      } else {
        return !0 === q ? " " + f.V : " " + f.V + "=" + Q(q, f.da, f.C || f.ca);
      }
    }
    return "";
  }
  function l(q) {
    const n = r.pop();
    h = r.length ? 42 : 43;
    switch(n) {
      case 13:
        k = "<![endif]--\x3e";
        break;
      case 4:
        k = "]]\x3e";
        break;
      case 16:
      case 8:
        k = "--\x3e";
        break;
      default:
        "" === n ? (k = q ? "" : ">", f.M = "", E()) : N(n) && (k = q ? "" : f.ha || f.C ? " />" : ">", !q && ba[n] ? f.M = "" : (f.ha || f.C) && !q || ca[n] && (!f.T || "P" !== n) ? f.M = n : (k += "</" + (f.C ? n : n.toLowerCase()) + ">", f.M = ""), E());
    }
  }
  function E() {
    f.T = f.W = f.C = !1;
    for (let q = 0, n = r.length; q < n; ++q) {
      const x = r[q];
      13 === x || 16 === x ? f.T = !0 : N(x) && (q === n - 1 && (f.T = f.T || C[x]), F[x] && (f.W = !0), aa[x] || 0 < x.indexOf(":")) && (f.C = !0);
    }
  }
  function y() {
    let q = "";
    f.M && (q = "</" + (f.C ? f.M : f.M.toLowerCase()) + ">", f.M = "");
    return q;
  }
  if (this.D.paused) {
    this.aa.push(a, b);
  } else if (5 === a || 6 === a) {
    this.J.length && this.R(a, b);
  } else {
    var r = this.ka, h = this.fa, t = !1, f = this;
    switch(h) {
      case 39:
        switch(a) {
          case 3:
          case 1:
            this.R(a, b);
            return;
          case 4:
            if (0 === this.J.length) {
              var m = g();
              if (this.D.paused) {
                return;
              }
              if (L(m)) {
                H = this.T;
                J = this.W;
                K = this.ha || this.C;
                var k = Fa(m, this.N, this.ja, this.ba, {quotAlways:this.ca, useSingleQuot:this.da, instructionAttrPrefix:this.ea});
                H = J = K = !1;
              } else {
                k = O(m) ? "" + m : "";
              }
              l(!!k);
              break;
            }
          case 2:
            1 === this.J.length && (this.F.push(this.o), this.o = null);
            this.R(a, b);
            return;
          case 10:
          case 11:
          case 7:
          case 8:
          case 9:
            this.J.length ? this.R(a, b) : this.F.push(b);
            return;
          default:
            h = -1;
        }break;
      case 36:
        switch(a) {
          case 3:
          case 1:
            this.R(a, b);
            return;
          case 4:
            if (0 === this.J.length) {
              k = d();
              if (this.D.paused) {
                return;
              }
              k = e(k);
              h = 31;
              break;
            }
          case 2:
            1 === this.J.length && (this.F.push(this.o), this.o = null);
            this.R(a, b);
            return;
          case 10:
            if (0 === this.J.length && !this.H) {
              this.H = b;
              return;
            }
          case 11:
          case 7:
          case 8:
          case 9:
            this.J.length ? this.R(a, b) : this.F.push(b);
            return;
          default:
            h = -1;
        }break;
      default:
        switch(a) {
          case 3:
            switch(h) {
              case 30:
              case 41:
                t = N(r[r.length - 1]);
              case 0:
              case 42:
                m = 0;
                break;
              case 40:
                m = 36;
                break;
              default:
                m = -1;
            }break;
          case 4:
            m = 30 === h || 41 === h ? 38 : 42 === h || 37 === h ? 37 : -1;
            break;
          case 1:
            m = 30 === h ? 30 : 33 === h ? 33 : -1;
            break;
          case 2:
            m = 31 === h ? 39 : 34 === h ? 40 : -1;
            break;
          case 10:
            switch(h) {
              case 38:
              case 27:
                m = 27;
                break;
              case 28:
                m = 28;
                break;
              case 29:
                m = 29;
                break;
              case 19:
                m = 19;
                break;
              case 20:
                m = 20;
                break;
              case 21:
                m = 21;
                break;
              case 22:
                m = 22;
                break;
              case 23:
                m = 23;
                break;
              case 25:
                m = 25;
                break;
              case 24:
                m = 24;
                break;
              case 31:
                m = 31;
                break;
              case 32:
              case 33:
                m = 32;
                break;
              case 34:
                m = 34;
                break;
              case 35:
                m = 35;
                break;
              case 30:
              case 41:
                t = N(r[r.length - 1]);
              case 42:
                m = 41;
                break;
              case 26:
                m = 26;
                break;
              case 40:
                m = 42;
                break;
              default:
                m = -1;
            }break;
          case 11:
            switch(h) {
              case 38:
                m = b;
                break;
              case 32:
                m = 32;
                break;
              case 35:
                m = 35;
                break;
              case 20:
                m = 20;
                break;
              case 30:
              case 41:
                t = N(r[r.length - 1]);
              case 42:
                m = 41;
                break;
              case 21:
                m = 21;
                break;
              case 22:
                m = 22;
                break;
              default:
                m = -1;
            }break;
          case 7:
          case 8:
          case 9:
            m = 32 === h ? 32 : -1;
            break;
          default:
            m = -1;
        }switch(m) {
          case 0:
            k = t ? (t = !1, ">") : "";
            h = 38;
            break;
          case 9:
            h = 19;
            r.push(9);
            break;
          case 19:
            k = b;
            h = 41;
            break;
          case 11:
            h = 41;
            r.push(11);
            break;
          case 1:
            h = 27;
            break;
          case 17:
            h = 28;
            break;
          case 27:
          case 28:
            t = na(b);
            const q = t[1], n = t[2];
            t = t[0];
            "P" !== this.M || da[t] ? this.M = k = "" : k = y();
            28 === m ? r.push("") : r.push(t);
            E();
            k += "<" + (this.C ? t : t.toLowerCase());
            q && (k += " id=" + Q(q, this.da, this.C || this.ca));
            n && (k += " class=" + Q(n, this.da, this.C || this.ca));
            this.T || (this.T = !!C[t]);
            this.W || (this.W = !!F[t]);
            h = 30;
            break;
          case 30:
            h = 31;
            break;
          case 31:
            0 === b.indexOf(this.ea) ? (this.V = b.substr(this.ea.length), h = 40) : (this.V = b, h = "style" === b ? 33 : 32);
            break;
          case 36:
            h = 36;
            break;
          case 42:
            if (this.H = b, b = d(), this.D.paused) {
              return;
            }
          case 32:
            k = e(b);
            h = 31;
            break;
          case 39:
            h = 41;
            break;
          case 33:
            h = 34;
            break;
          case 34:
            this.ia = b;
            h = 35;
            break;
          case 35:
            "" !== b && null !== b && (this.Z += ";" + ma(this.ia) + ":" + b);
            h = 34;
            break;
          case 40:
            this.Z && (k = e(this.Z.substr(1)), this.Z = "");
            h = 31;
            break;
          case 37:
            l(!0);
            break;
          case 38:
            l(!1);
            break;
          case 18:
            h = 29;
            r.push(18);
            break;
          case 29:
            k = "</" + (this.C ? b : b.toLowerCase()) + ">";
            h = 37;
            break;
          case 3:
            h = 20;
            r.push(3);
            break;
          case 20:
            k = y() + (f.W ? "" + b : P("" + b));
            h = 37;
            break;
          case 41:
            k = (t ? (t = !1, ">") : "") + y() + (f.W ? "" + b : P("" + b));
            h = 42;
            break;
          case 4:
            k = "<![CDATA[";
            h = 21;
            r.push(4);
            break;
          case 21:
            k = P("" + b);
            h = 37;
            break;
          case 8:
            k = "\x3c!--";
            h = 22;
            r.push(8);
            break;
          case 22:
            k = P("" + b);
            h = 37;
            break;
          case 13:
            k = y() + "\x3c!--[";
            h = 23;
            r.push(13);
            break;
          case 23:
            k = b + "]>";
            h = 41;
            break;
          case 16:
            k = y() + "\x3c!--{";
            h = 25;
            r.push(16);
            break;
          case 25:
            k = b + "};";
            h = 41;
            break;
          case 14:
            k = "\x3c!--[";
            h = 24;
            r.push(14);
            break;
          case 24:
            k = b + "]>\x3c!--\x3e";
            h = 37;
            break;
          case 15:
            k = "\x3c!--<![endif]--\x3e";
            h = 37;
            r.push(15);
            break;
          case 7:
            h = 26;
            r.push(7);
            break;
          case 26:
            this.H = b;
            h = 39;
            break;
          default:
            h = -1;
        }
    }
    -1 === h ? (this.ba("Not html.json format!"), this.D.emit("error", "Not html.json format!")) : (this.fa = h, k && Ja(this.D, k));
  }
}
Z.module = {};
module.exports = Z;
Z.DOCUMENT_NODE = 9;
Z.DOCUMENT_FRAGMENT_NODE = 11;
Z.ELEMENT_NODE = 1;
Z.TEXT_NODE = 3;
Z.CDATA_SECTION = 4;
Z.PROCESSING_INSTRUCTION = 7;
Z.COMMENT_NODE = 8;
Z.COND_CMT_HIDE_LOWER = 13;
Z.COND_CMT_SHOW_LOWER_START = 14;
Z.COND_CMT_SHOW_LOWER_END = 15;
Z.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Z.ELEMENT_START_TAG = 17;
Z.ELEMENT_END_TAG = 18;

