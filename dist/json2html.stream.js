var aa = {xml:!0, svg:!0, math:!0}, A = {async:!0, autofocus:!0, checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, draggable:!0, hidden:!0, ismap:!0, loop:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, novalidate:!0, nowrap:!0, readonly:!0, required:!0, reversed:!0, scoped:!0, selected:!0}, ba = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, WBR:!0, 
area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, E = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, 
VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, 
H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, 
INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, 
DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, 
RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, 
OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
E.LI = E.TD = E.DD;
E.TH = E.DT;
E.RB = E.RP = E.RT = E.P;
E.TFOOT = E.THEAD = E.TBODY;
E.RTC = E.RBC;
function ca(a, b, c) {
  var g = a, e = F(g), f = 0, m = b(a, null, -1, f / 3), t = [-1, a, e];
  if (Infinity !== m && -Infinity !== m) {
    if (0 < g.length - e) {
      do {
        var y = ++t[f], p = g[y + e];
        if (void 0 === p) {
          if (t.length = f, f -= 3, g = t[f + 1], e = t[f + 2], c && g) {
            y = t[f] + e;
            m = c(g[y], g, y, f / 3 + 1);
            if (Infinity === m) {
              return;
            }
            -Infinity !== m && (-1 >= m || 1 <= m) && (t[f] += m);
          }
        } else {
          m = b(p, g, y + e, f / 3 + 1);
          if (Infinity === m) {
            return;
          }
          if (-Infinity !== m) {
            if (-1 >= m) {
              t[f] += m;
            } else if (1 <= m && (t[f] += m), m = F(p), 0 < p.length - m) {
              f += 3, t[f] = -1, t[f + 1] = g = p, t[f + 2] = e = m;
            } else if (c && g) {
              m = c(p, g, y + e, f / 3 + 1);
              if (Infinity === m) {
                return;
              }
              -Infinity !== m && (-1 >= m || 1 <= m) && (t[f] += m);
            }
          }
        }
      } while (0 <= f);
    }
    c && c(a, null, -1, 0);
  }
}
var da = {HTML:!0, HEAD:!0, BODY:!0, P:!0, DT:!0, DD:!0, LI:!0, OPTION:!0, TBODY:!0, THEAD:!0, TFOOT:!0, TD:!0, TH:!0, TR:!0, RB:!0, RBC:!0, RP:!0, RT:!0, RTC:!0, OPTGROUP:!0, CAPTION:!0, COLGROUP:!0}, ea = {A:!0, AUDIO:!0, DEL:!0, INS:!0, MAP:!0, NOSCRIPT:!0, VIDEO:!0}, fa = {H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, ADDRESS:!0, BLOCKQUOTE:!0, DIV:!0, DL:!0, FIELDSET:!0, FORM:!0, HR:!0, LEGEND:!0, MENU:!0, NOSCRIPT:!0, OL:!0, P:!0, PRE:!0, UL:!0, CENTER:!0, DIR:!0, NOFRAMES:!0, MARQUEE:!0}, ha = 
{SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0};
function H(a) {
  return !(!a || a.pop !== [].pop);
}
function ia(a) {
  return !(!a || "object" !== typeof a);
}
function J(a) {
  return "" + a === a;
}
function K(a) {
  return J(a) || a === +a;
}
function ja(a) {
  if (K(a)) {
    a = 3;
  } else if (H(a)) {
    if (J(a[0])) {
      a = 1;
    } else {
      var b = a[0];
      a = b === +b ? a[0] : -1;
    }
  } else {
    a = -1;
  }
  return a;
}
function ka(a, b, c, g, e) {
  var f;
  if (H(c) && J(c[0])) {
    var m = c[0];
    c = c.slice(1);
    "function" === typeof a ? f = c.length ? a.call(e, m, c) : a.call(e, m) : a[m] && (f = c.length ? a[m].apply(e || a, c) : a[m].call(e || a));
  } else {
    J(c) && ("function" === typeof a ? f = a.call(e, c) : a[c] && (f = a[c].call(e || a)));
  }
  return H(f) ? ka(a, b, f, g, e) : f;
}
function M(a) {
  return a.split("&lt;").join("&amp;lt;").split("&gt;").join("&amp;gt;").split("<").join("&lt;").split(">").join("&gt;");
}
function O(a, b, c) {
  a = M("" + a);
  var g = a.match('"'), e = a.match("'"), f = b ? "'" : '"';
  g && e ? a = b ? f + a.split("'").join("\\'") + f : f + a.split('"').join('\\"') + f : g ? a = "'" + a + "'" : e ? a = b ? f + a.split("'").join("\\'") + f : f + a + f : c || a.match(/[^0-9a-z\.\-]/g) || 72 < a.length ? a = f + a + f : "" === a && (a = f + f);
  return a;
}
function la(a) {
  var b = [];
  a = a.split("");
  for (var c = a.length, g; c;) {
    g = a[--c], "A" <= g && "Z" >= g && (g = "-" + g.toLowerCase()), b[c] = g;
  }
  return b.join("");
}
function F(a) {
  var b = a[0], c = b === +b ? 2 : 1;
  1 === ja(a) || 17 === b ? (a = a[c], c = !H(a) && ia(a) ? c + 1 : c) : c = 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
  return c;
}
function P(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), g = "", e = "";
  b < c ? (g = a.split(".")[1], a = a.split(".")[0], 0 < b && (e = a.split("#")[1], a = a.split("#")[0])) : c < b && (e = a.split("#")[1], a = a.split("#")[0], 0 < c && (g = a.split(".")[1], a = a.split(".")[0]));
  return [a, e, g];
}
function ma(a) {
  var b, c;
  ca(a, function(g, e, f, m) {
    function t(u, d, l) {
      if (b) {
        m + 1 < c.length && (c.length = m + 1);
        var h = c[c.length - 1];
        na <= oa(h) ? (h.v = h.v || [], h.v.push([u, d, l]), u = null) : u = new R(h, h.D && h.D.length, u, d, l);
        H(g) && F(g) < g.length && (c[m + 1] = u);
      } else {
        b = new R(!0, 0, u, d, l), c = [b];
      }
    }
    if (K(g)) {
      t(3, g);
    } else {
      e = g[0];
      f = g[1];
      var y = 1, p = e, k;
      switch(e) {
        case 9:
        case 13:
        case 16:
          t(e, f);
          break;
        case 11:
          t(e);
          break;
        case 3:
        case 4:
        case 8:
        case 14:
        case 18:
          t(e, f);
          break;
        case 15:
          t(e);
          break;
        case 7:
          y = [];
          p = 2;
          for (k = g.length; p < k; ++p) {
            y[p - 2] = g[p];
          }
          t(e, f, k - 2 ? y : null);
          break;
        case 1:
        case 17:
          p = f, y = 2;
        default:
          J(p) && t(1 === y ? 1 : e, p, g[y]);
      }
    }
    return Infinity;
  });
  return b;
}
function R(a, b, c, g, e) {
  if (a === !!a) {
    var f = null;
    this.j = a;
  } else {
    f = a, this.j = f.j;
  }
  this.h = f;
  this.l = c;
  f && (f.D || (f.D = []), a = f.D, 0 <= b && b < a.length ? a.splice(b, 0, this) : a.push(this));
  switch(c) {
    case 1:
    case 17:
      b = P(g), g = b[0];
    case 18:
      this.J = g;
      break;
    case 7:
      this.G = e || null;
  }
}
var pa = null;
function oa(a) {
  return a.j ? pa === a ? a.C ? qa : a.K ? na : ra : pa.h === a ? sa : ua : va;
}
R.prototype.remove = function() {
  if (na <= oa(this)) {
    return this.C = !0, null;
  }
  var a = this.h ? this.h.D.indexOf(this) : -1;
  0 <= a && (this.h.D.splice(a, 1), this.h = null);
};
R.prototype.wrap = function(a, b, c) {
  if (this.j) {
    this.m = this.m || [], this.m.push([a, b, c]), a = null;
  } else if (this.h) {
    var g = this.h, e = this.h ? this.h.D.indexOf(this) : -1;
    a = new R(g, e, a, b, c);
  } else {
    a = null;
  }
  wa(a, 0, [this]);
  return a;
};
function wa(a, b, c) {
  var g = a.D = a.D || [], e = g.length, f = c.length;
  for (b = b < e ? b : e; f;) {
    e = c[--f], 11 === e.l ? e.D && e.D.length && wa(a, b, e.D) : (e.remove(), g.splice(b, 0, e), e.h = a);
  }
}
var va = 0, ua = 1, ra = 2, na = 3, qa = 4, sa = 5, xa = !1, ya = !1, za = !1;
function Aa(a, b, c, g, e) {
  return Ba(a, b, c, g, e);
}
function Ba(a, b, c, g, e) {
  function f() {
    var r = "";
    d && (r = "</" + d.toLowerCase() + ">", d = "");
    return r;
  }
  var m = b || null, t = c || null, y = "function" === typeof g ? g : function() {
  };
  b = e || {};
  var p = !0 === b.quotAlways, k = !0 === b.useSingleQuot, u = b.instructionAttrPrefix || ":", d, l = [za, null, xa || !1, ya || !1, !1], h = [], n = -1;
  if (H(a)) {
    return 9 !== a[0] && 11 !== a[0] && (a = [11, a]), ca(a, function(r, v, D, C) {
      var N = !1;
      H(r) && (N = 0 < r.length - F(r));
      var w = l[5 * C], q = l[5 * C + 1], ta = l[5 * C + 2], V = l[5 * C + 3];
      if (t) {
        var I = ma(r), L;
        pa = I;
        q && (q.D ? q.D.push(I) : q.D = [I]);
        if (H(t)) {
          for (q = 0, L = t.length; q < L; q += 2) {
            var z = t[q], Q = t[q + 1];
            if (z === +z) {
              if (z === I.l && !0 === Q(I)) {
                break;
              }
            } else if ("*" === z) {
              if (!0 === Q(I)) {
                break;
              }
            } else if (J(z) && z === I.J && !0 === Q(I)) {
              break;
            }
          }
        } else {
          t(I);
        }
      } else {
        I = null;
      }
      q = r[0];
      z = r[1];
      L = 1;
      switch(ja(r)) {
        case 9:
          h[++n] = z;
          break;
        case 3:
          H(r) || (z = r);
          h[++n] = f() + (V ? z : M("" + z));
          return;
        case 4:
          h[++n] = "<![CDATA[" + M("" + z) + "]]\x3e";
          break;
        case 8:
          h[++n] = "\x3c!--" + M("" + z) + "--\x3e";
          break;
        case 13:
          h[++n] = f() + "\x3c!--[" + z + "]>";
          break;
        case 16:
          h[++n] = f() + "\x3c!--{" + z + "};";
          break;
        case 14:
          h[++n] = "\x3c!--[" + z + "]>\x3c!--\x3e";
          break;
        case 15:
          h[++n] = "\x3c!--<![endif]--\x3e";
          break;
        case 7:
          if (m) {
            var G = r[1], B = r.slice(2), x;
            "function" === typeof m ? x = B.length ? m(G, B) : m(G) : m[G] && (x = B.length ? m[G].apply(null, B) : m[G]());
            void 0 !== x && null !== x && "" !== x && (K(x) ? v.splice(D, 1, x) : H(x) && (11 === x[0] ? (x.shift(), x.unshift(D, 1), v.splice.apply(v, x)) : H(x[0]) ? (x.unshift(D, 1), v.splice.apply(v, x)) : v.splice(D, 1, x)));
            G = x;
            if (void 0 !== G && null !== G && "" !== G && (K(G) || H(G))) {
              return -1;
            }
          }
          break;
        case 18:
          h[++n] = "</" + z + ">";
          break;
        case 17:
          G = !0;
        case 1:
          q === +q && (q = z, L = 2);
          q = P(q);
          v = q[1];
          D = q[2];
          q = q[0];
          r = r[L];
          "P" !== d || fa[q] ? d = "" : h[++n] = f();
          w = w || (w || aa[q] ? !0 : 0 < q.indexOf(":"));
          ta = !!ea[q];
          V = V || !!ha[q];
          h[++n] = "<" + (w ? q : q.toLowerCase());
          v && (h[++n] = " id=" + O(v, k, w || p));
          D && (h[++n] = " class=" + O(D, k, w || p));
          if (!H(r) && ia(r)) {
            v = ++n;
            D = "";
            for (B in r) {
              if (q = r[B], (x = 0 === B.indexOf(u)) && (B = B.substr(u.length)), "className" === B && (B = "class"), x && m && (q = ka(m, B, q, y)), !(null == q || A[B] && !1 === q || (D += " " + B, A[B] || !0 === q))) {
                if ("style" === B && ia(q)) {
                  x = void 0;
                  L = q;
                  z = [];
                  Q = -1;
                  for (x in L) {
                    q = L[x], "0px" === q && (q = 0), z[++Q] = la(x) + ":" + M("" + q);
                  }
                  q = z.join(";").substr(1);
                  if (!q) {
                    continue;
                  }
                }
                D += "=" + O(q, k, w || p);
              }
            }
            h[v] = D;
          }
          !w || N || G ? h[++n] = ">" : h[++n] = " />";
      }
      l[5 * C] = w;
      l[5 * C + 1] = I;
      l[5 * C + 2] = ta;
      l[5 * C + 3] = V;
      l[5 * C + 4] = N;
    }, function(r, v, D, C) {
      v = l[5 * C];
      D = l[5 * C + 2];
      var N = l[5 * C + 4], w = r[0];
      5 * C + 5 < l.length && (l.length = 5 * C + 5);
      switch(ja(r)) {
        case 13:
          h[++n] = f() + "<![endif]--\x3e";
          break;
        case 16:
          h[++n] = f() + "--\x3e";
          break;
        case 17:
          d = "";
          break;
        case 1:
          w === +w && (w = r[1]), w = P(w), w = w[0], !N && ba[w] ? d = "" : v && !N || da[w] && (!D || "P" !== w) ? d = w : (h[++n] = "</" + (v ? w : w.toLowerCase()) + ">", d = "");
      }
    }), h.join("");
  }
}
const S = Buffer.from ? Buffer.from : (...a) => new Buffer(...a), T = Buffer.alloc ? Buffer.alloc : (...a) => new Buffer(...a);
function U() {
  this.o = void 0;
  this.M = [];
  this.h = 17;
  this.j = void 0;
  this.aa = T(65536);
  this.v = 0;
  this.H = this.L = this.R = this.Z = void 0;
  this.N = 113;
  this.m = this.Y = 0;
  this.ha = {2:T(2), 3:T(3), 4:T(4)};
}
function W(a, b) {
  65536 <= a.v && (a.j += a.aa.toString("utf8"), a.v = 0);
  a.aa[a.v++] = b;
}
function X(a, b, c, g) {
  var e = b.length;
  "number" === typeof c && (e = "number" === typeof g ? 0 > g ? b.length - c + g : g - c : b.length - c);
  0 > e && (e = 0);
  65536 < a.v + e && (a.j += a.aa.toString("utf8", 0, a.v), a.v = 0);
  b.copy(a.aa, a.v, c, g);
  a.v += e;
}
U.prototype.write = function(a) {
  "string" === typeof a && (a = S(a));
  for (var b, c = 0, g = a.length; c < g; c++) {
    switch(this.h) {
      case 17:
        b = a[c];
        switch(b) {
          case 123:
            this.l(1, "{");
            break;
          case 125:
            this.l(2, "}");
            break;
          case 91:
            this.l(3, "[");
            break;
          case 93:
            this.l(4, "]");
            break;
          case 58:
            this.l(5, ":");
            break;
          case 44:
            this.l(6, ",");
            break;
          case 116:
            this.h = 33;
            break;
          case 102:
            this.h = 49;
            break;
          case 110:
            this.h = 65;
            break;
          case 34:
            this.j = "";
            this.v = 0;
            this.h = 97;
            break;
          case 45:
            this.j = "-";
            this.h = 81;
            break;
          default:
            if (48 <= b && 64 > b) {
              this.j = String.fromCharCode(b), this.h = 83;
            } else if (32 !== b && 9 !== b && 10 !== b && 13 !== b) {
              this.h = 18;
              return;
            }
        }break;
      case 97:
        b = a[c];
        if (0 < this.Y) {
          for (b = 0; b < this.Y; b++) {
            this.ha[this.m][this.m - this.Y + b] = a[b];
          }
          X(this, this.ha[this.m]);
          this.m = this.Y = 0;
          c = c + b - 1;
        } else if (0 === this.Y && 128 <= b) {
          if (194 <= b && 223 >= b && (this.m = 2), 224 <= b && 239 >= b && (this.m = 3), 240 <= b && 244 >= b && (this.m = 4), this.m + c > a.length) {
            for (b = 0; b <= a.length - 1 - c; b++) {
              this.ha[this.m][b] = a[c + b];
            }
            this.Y = c + this.m - a.length;
            c = a.length - 1;
          } else {
            X(this, a, c, c + this.m), c = c + this.m - 1;
          }
        } else if (34 === b) {
          this.h = 17, this.j += this.aa.toString("utf8", 0, this.v), this.v = 0, this.l(10, this.j), Buffer.byteLength(this.j, "utf8"), this.j = void 0;
        } else if (92 === b) {
          this.h = 98;
        } else if (32 <= b) {
          W(this, b);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 98:
        b = a[c];
        switch(b) {
          case 34:
            W(this, b);
            this.h = 97;
            break;
          case 92:
            W(this, 92);
            this.h = 97;
            break;
          case 47:
            W(this, 47);
            this.h = 97;
            break;
          case 98:
            W(this, 8);
            this.h = 97;
            break;
          case 102:
            W(this, 12);
            this.h = 97;
            break;
          case 110:
            W(this, 10);
            this.h = 97;
            break;
          case 114:
            W(this, 13);
            this.h = 97;
            break;
          case 116:
            W(this, 9);
            this.h = 97;
            break;
          case 117:
            this.Z = "";
            this.h = 99;
            break;
          default:
            this.h = 18;
            return;
        }break;
      case 99:
      case 100:
      case 101:
      case 102:
        b = a[c];
        if (48 <= b && 64 > b || 64 < b && 70 >= b || 96 < b && 102 >= b) {
          this.Z += String.fromCharCode(b), 102 === this.h++ && (b = parseInt(this.Z, 16), this.Z = void 0, void 0 !== this.R && 56320 <= b && 57344 > b ? (X(this, S(String.fromCharCode(this.R, b))), this.R = void 0) : void 0 === this.R && 55296 <= b && 56320 > b ? this.R = b : (void 0 !== this.R && (X(this, S(String.fromCharCode(this.R))), this.R = void 0), X(this, S(String.fromCharCode(b)))), this.h = 97);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 81:
      case 83:
        b = a[c];
        switch(b) {
          case 48:
          case 49:
          case 50:
          case 51:
          case 52:
          case 53:
          case 54:
          case 55:
          case 56:
          case 57:
          case 46:
          case 101:
          case 69:
          case 43:
          case 45:
            this.j += String.fromCharCode(b);
            this.h = 83;
            break;
          default:
            this.h = 17;
            b = Number(this.j);
            if (isNaN(b)) {
              this.h = 18;
              return;
            }
            this.j.match(/[0-9]+/) == this.j && b.toString() != this.j ? this.l(10, this.j) : this.l(11, b);
            this.j = void 0;
            c--;
        }break;
      case 33:
        if (114 === a[c]) {
          this.h = 34;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 34:
        if (117 === a[c]) {
          this.h = 35;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 35:
        if (101 === a[c]) {
          this.h = 17, this.l(7, !0);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 49:
        if (97 === a[c]) {
          this.h = 50;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 50:
        if (108 === a[c]) {
          this.h = 51;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 51:
        if (115 === a[c]) {
          this.h = 52;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 52:
        if (101 === a[c]) {
          this.h = 17, this.l(8, !1);
        } else {
          this.h = 18;
          return;
        }
        break;
      case 65:
        if (117 === a[c]) {
          this.h = 66;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 66:
        if (108 === a[c]) {
          this.h = 67;
        } else {
          this.h = 18;
          return;
        }
        break;
      case 67:
        if (108 === a[c]) {
          this.h = 17, this.l(9, null);
        } else {
          this.h = 18;
          return;
        }
    }
  }
};
function Ca(a) {
  a.M.push({o:a.o, L:a.L, H:a.H});
}
function Y(a) {
  var b = a.o, c = a.M.pop();
  a.o = c.o;
  a.L = c.L;
  a.H = c.H;
  a.emit(b);
  a.H || (a.N = 113);
}
U.prototype.emit = function() {
  this.H && (this.N = 6);
};
U.prototype.l = function(a, b) {
  switch(this.N) {
    case 113:
      switch(a) {
        case 10:
        case 11:
        case 7:
        case 8:
        case 9:
          this.o && (this.o[this.L] = b);
          this.emit(b);
          break;
        case 1:
          Ca(this);
          this.o = this.o ? this.o[this.L] = {} : {};
          this.L = void 0;
          this.N = 114;
          this.H = 129;
          break;
        case 3:
          Ca(this);
          this.o = this.o ? this.o[this.L] = [] : [];
          this.L = 0;
          this.H = 130;
          this.N = 113;
          break;
        case 2:
          129 === this.H ? Y(this) : this.h = 18;
          break;
        case 4:
          130 === this.H ? Y(this) : this.h = 18;
          break;
        default:
          this.h = 18;
      }break;
    case 114:
      10 === a ? (this.L = b, this.N = 5) : 2 === a ? Y(this) : this.h = 18;
      break;
    case 5:
      5 === a ? this.N = 113 : this.h = 18;
      break;
    case 6:
      6 === a ? 130 === this.H ? (this.L++, this.N = 113) : 129 === this.H && (this.N = 114) : 4 === a && 130 === this.H || 2 === a && 129 === this.H ? Y(this) : this.h = 18;
      break;
    default:
      this.h = 18;
  }
};
var stream = require("node:stream");
function Da(a) {
  for (var b = a.l; b.length && !a.paused;) {
    var c = b.shift();
    null === c ? a.emit("end") : a.emit("data", c);
  }
}
function Ea(a) {
  if (a.paused) {
    a.on("resume", () => Ea(a));
  } else {
    a.writable && (a.writable = !1, a.v.call(a), !a.readable && a.destroy());
  }
}
function Fa(a, b) {
  a.G || (null === b && (a.G = !0), a.l.push(b), Da(a));
}
var Ga = class extends stream.Stream {
  constructor() {
    var a = Z.na, b = Z.ma;
    super();
    this.C = a;
    this.v = b;
    this.m = this.paused = this.G = this.j = !1;
    this.readable = this.writable = !0;
    this.l = [];
    this.on("end", () => {
      this.readable = !1;
      !this.writable && process.nextTick(() => this.destroy());
    });
  }
  write(a) {
    this.C.call(this, a);
    return !this.paused;
  }
  end(a) {
    this.j || (this.j = !0, arguments.length && this.write(a), Ea(this));
  }
  destroy() {
    this.m || (this.j = this.m = !0, this.l.length = 0, this.writable = this.readable = !1, this.emit("close"));
  }
  pause() {
    this.paused || (this.paused = !0);
  }
  resume() {
    this.paused && (this.paused = !1, this.emit("resume"));
    Da(this);
    this.paused || this.emit("drain");
  }
};
function Z(a, b, c, g) {
  const e = new U(), f = new Ga();
  g = g || {};
  f.h = e;
  e.F = f;
  e.T = e.l;
  e.l = Ha;
  e.oa = Ia;
  e.ga = 0;
  e.la = [];
  e.G = [];
  e.ca = "function" === typeof c ? c : function() {
  };
  e.da = !!g.quotAlways;
  e.ea = !!g.useSingleQuot;
  e.fa = g.instructionAttrPrefix || ":";
  e.K = a;
  e.ka = b;
  f.on("resume", Ja);
  e.$ = "";
  return f;
}
Z.na = function(a) {
  if (a === +a || a === !!a) {
    a = "" + a;
  }
  J(a) && (a = S(a));
  this.h.write(a);
};
Z.ma = function(a) {
  null != a && this.write(a);
  43 !== this.h.ga && this.emit("error", "Invalid html.json");
  Fa(this, null);
  this.h = this.h.F = null;
};
function Ja() {
  var a = this.h, b = a.ba;
  if (b) {
    for (; b.length && (Ha.call(a, b.shift(), b.shift()), !this.paused);) {
    }
    b.length || (a.ba = null);
  }
}
function Ia(a) {
  -1 < a.message.indexOf("at position") && (a.message = "Invalid JSON (" + a.message + ")");
  this.ca(a.message);
  this.F.emit("error", a);
}
function Ha(a, b) {
  function c() {
    d.ba ? d.ba.unshift(a, b) : d.ba = [a, b];
  }
  function g() {
    if (d.K) {
      let n;
      "function" === typeof d.K ? n = d.G.length ? d.K.call(d.F, d.C, d.G) : d.K.call(d.F, d.C) : d.K[d.C] && (n = d.G.length ? d.K[d.C].apply(d.F, d.G) : d.K[d.C].call(d.F));
      if (d.F.paused) {
        c();
        return;
      }
      d.C = null;
      d.G.length = 0;
      return n;
    }
    return "";
  }
  function e() {
    if (d.K) {
      const n = ka(d.K, d.W, [d.C].concat(d.G), d.ca, d.F);
      if (d.F.paused) {
        c();
        return;
      }
      d.C = null;
      d.G.length = 0;
      return n;
    }
    return "";
  }
  function f(n) {
    if (null != n) {
      if (A[d.W]) {
        if (!1 !== n) {
          return " " + d.W;
        }
      } else {
        return !0 === n ? " " + d.W : " " + d.W + "=" + O(n, d.ea, d.J || d.da);
      }
    }
    return "";
  }
  function m(n) {
    const r = p.pop();
    k = p.length ? 42 : 43;
    switch(r) {
      case 13:
        h = "<![endif]--\x3e";
        break;
      case 4:
        h = "]]\x3e";
        break;
      case 16:
      case 8:
        h = "--\x3e";
        break;
      default:
        "" === r ? (h = n ? "" : ">", d.O = "", t()) : J(r) && (h = n ? "" : d.ia || d.J ? " />" : ">", !n && ba[r] ? d.O = "" : (d.ia || d.J) && !n || da[r] && (!d.V || "P" !== r) ? d.O = r : (h += "</" + (d.J ? r : r.toLowerCase()) + ">", d.O = ""), t());
    }
  }
  function t() {
    d.V = d.X = d.J = !1;
    for (let n = 0, r = p.length; n < r; ++n) {
      const v = p[n];
      13 === v || 16 === v ? d.V = !0 : J(v) && (n === r - 1 && (d.V = d.V || ea[v]), ha[v] && (d.X = !0), aa[v] || 0 < v.indexOf(":")) && (d.J = !0);
    }
  }
  function y() {
    let n = "";
    d.O && (n = "</" + (d.J ? d.O : d.O.toLowerCase()) + ">", d.O = "");
    return n;
  }
  if (this.F.paused) {
    this.ba.push(a, b);
  } else if (5 === a || 6 === a) {
    this.M.length && this.T(a, b);
  } else {
    var p = this.la, k = this.ga, u = !1, d = this;
    switch(k) {
      case 39:
        switch(a) {
          case 3:
          case 1:
            this.T(a, b);
            return;
          case 4:
            if (0 === this.M.length) {
              var l = g();
              if (this.F.paused) {
                return;
              }
              if (H(l)) {
                xa = this.V;
                ya = this.X;
                za = this.ia || this.J;
                var h = Aa(l, this.K, this.ka, this.ca, {quotAlways:this.da, useSingleQuot:this.ea, instructionAttrPrefix:this.fa});
                xa = ya = za = !1;
              } else {
                h = K(l) ? "" + l : "";
              }
              m(!!h);
              break;
            }
          case 2:
            1 === this.M.length && (this.G.push(this.o), this.o = null);
            this.T(a, b);
            return;
          case 10:
          case 11:
          case 7:
          case 8:
          case 9:
            this.M.length ? this.T(a, b) : this.G.push(b);
            return;
          default:
            k = -1;
        }break;
      case 36:
        switch(a) {
          case 3:
          case 1:
            this.T(a, b);
            return;
          case 4:
            if (0 === this.M.length) {
              h = e();
              if (this.F.paused) {
                return;
              }
              h = f(h);
              k = 31;
              break;
            }
          case 2:
            1 === this.M.length && (this.G.push(this.o), this.o = null);
            this.T(a, b);
            return;
          case 10:
            if (0 === this.M.length && !this.C) {
              this.C = b;
              return;
            }
          case 11:
          case 7:
          case 8:
          case 9:
            this.M.length ? this.T(a, b) : this.G.push(b);
            return;
          default:
            k = -1;
        }break;
      default:
        switch(a) {
          case 3:
            switch(k) {
              case 30:
              case 41:
                u = J(p[p.length - 1]);
              case 0:
              case 42:
                l = 0;
                break;
              case 40:
                l = 36;
                break;
              default:
                l = -1;
            }break;
          case 4:
            l = 30 === k || 41 === k ? 38 : 42 === k || 37 === k ? 37 : -1;
            break;
          case 1:
            l = 30 === k ? 30 : 33 === k ? 33 : -1;
            break;
          case 2:
            l = 31 === k ? 39 : 34 === k ? 40 : -1;
            break;
          case 10:
            switch(k) {
              case 38:
              case 27:
                l = 27;
                break;
              case 28:
                l = 28;
                break;
              case 29:
                l = 29;
                break;
              case 19:
                l = 19;
                break;
              case 20:
                l = 20;
                break;
              case 21:
                l = 21;
                break;
              case 22:
                l = 22;
                break;
              case 23:
                l = 23;
                break;
              case 25:
                l = 25;
                break;
              case 24:
                l = 24;
                break;
              case 31:
                l = 31;
                break;
              case 32:
              case 33:
                l = 32;
                break;
              case 34:
                l = 34;
                break;
              case 35:
                l = 35;
                break;
              case 30:
              case 41:
                u = J(p[p.length - 1]);
              case 42:
                l = 41;
                break;
              case 26:
                l = 26;
                break;
              case 40:
                l = 42;
                break;
              default:
                l = -1;
            }break;
          case 11:
            switch(k) {
              case 38:
                l = b;
                break;
              case 32:
                l = 32;
                break;
              case 35:
                l = 35;
                break;
              case 20:
                l = 20;
                break;
              case 30:
              case 41:
                u = J(p[p.length - 1]);
              case 42:
                l = 41;
                break;
              case 21:
                l = 21;
                break;
              case 22:
                l = 22;
                break;
              default:
                l = -1;
            }break;
          case 7:
          case 8:
          case 9:
            l = 32 === k ? 32 : -1;
            break;
          default:
            l = -1;
        }switch(l) {
          case 0:
            h = u ? (u = !1, ">") : "";
            k = 38;
            break;
          case 9:
            k = 19;
            p.push(9);
            break;
          case 19:
            h = b;
            k = 41;
            break;
          case 11:
            k = 41;
            p.push(11);
            break;
          case 1:
            k = 27;
            break;
          case 17:
            k = 28;
            break;
          case 27:
          case 28:
            u = P(b);
            const n = u[1], r = u[2];
            u = u[0];
            "P" !== this.O || fa[u] ? this.O = h = "" : h = y();
            28 === l ? p.push("") : p.push(u);
            t();
            h += "<" + (this.J ? u : u.toLowerCase());
            n && (h += " id=" + O(n, this.ea, this.J || this.da));
            r && (h += " class=" + O(r, this.ea, this.J || this.da));
            this.V || (this.V = !!ea[u]);
            this.X || (this.X = !!ha[u]);
            k = 30;
            break;
          case 30:
            k = 31;
            break;
          case 31:
            0 === b.indexOf(this.fa) ? (this.W = b.substr(this.fa.length), k = 40) : (this.W = b, k = "style" === b ? 33 : 32);
            break;
          case 36:
            k = 36;
            break;
          case 42:
            if (this.C = b, b = e(), this.F.paused) {
              return;
            }
          case 32:
            h = f(b);
            k = 31;
            break;
          case 39:
            k = 41;
            break;
          case 33:
            k = 34;
            break;
          case 34:
            this.ja = b;
            k = 35;
            break;
          case 35:
            "" !== b && null !== b && (this.$ += ";" + la(this.ja) + ":" + b);
            k = 34;
            break;
          case 40:
            this.$ && (h = f(this.$.substr(1)), this.$ = "");
            k = 31;
            break;
          case 37:
            m(!0);
            break;
          case 38:
            m(!1);
            break;
          case 18:
            k = 29;
            p.push(18);
            break;
          case 29:
            h = "</" + (this.J ? b : b.toLowerCase()) + ">";
            k = 37;
            break;
          case 3:
            k = 20;
            p.push(3);
            break;
          case 20:
            h = y() + (d.X ? "" + b : M("" + b));
            k = 37;
            break;
          case 41:
            h = (u ? (u = !1, ">") : "") + y() + (d.X ? "" + b : M("" + b));
            k = 42;
            break;
          case 4:
            h = "<![CDATA[";
            k = 21;
            p.push(4);
            break;
          case 21:
            h = M("" + b);
            k = 37;
            break;
          case 8:
            h = "\x3c!--";
            k = 22;
            p.push(8);
            break;
          case 22:
            h = M("" + b);
            k = 37;
            break;
          case 13:
            h = y() + "\x3c!--[";
            k = 23;
            p.push(13);
            break;
          case 23:
            h = b + "]>";
            k = 41;
            break;
          case 16:
            h = y() + "\x3c!--{";
            k = 25;
            p.push(16);
            break;
          case 25:
            h = b + "};";
            k = 41;
            break;
          case 14:
            h = "\x3c!--[";
            k = 24;
            p.push(14);
            break;
          case 24:
            h = b + "]>\x3c!--\x3e";
            k = 37;
            break;
          case 15:
            h = "\x3c!--<![endif]--\x3e";
            k = 37;
            p.push(15);
            break;
          case 7:
            k = 26;
            p.push(7);
            break;
          case 26:
            this.C = b;
            k = 39;
            break;
          default:
            k = -1;
        }
    }
    -1 === k ? (this.ca("Not html.json format!"), this.F.emit("error", "Not html.json format!")) : (this.ga = k, h && Fa(this.F, h));
  }
}
Z.module = {};
module.exports = Z;
Z.DOCUMENT_NODE = 9;
Z.DOCUMENT_FRAGMENT_NODE = 11;
Z.ELEMENT_NODE = 1;
Z.TEXT_NODE = 3;
Z.CDATA_SECTION = 4;
Z.PROCESSING_INSTRUCTION = 7;
Z.COMMENT_NODE = 8;
Z.COND_CMT_HIDE_LOWER = 13;
Z.COND_CMT_SHOW_LOWER_START = 14;
Z.COND_CMT_SHOW_LOWER_END = 15;
Z.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Z.ELEMENT_START_TAG = 17;
Z.ELEMENT_END_TAG = 18;

