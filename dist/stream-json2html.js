(function(va,B,r,Z,w){function y(){this.c=C;this.string=this.value=w;this.J=r.alloc?r.alloc(65536):new r(65536);this.l=0;this.mode=this.m=this.o=this.unicode=w;this.stack=[];this.h=G;this.j=this.D=0;this.W={2:new r(2),3:new r(3),4:new r(4)};this.offset=-1}function aa(c,a,e){function p(){for(;H.length&&!g.A;){var u=H.shift();if(null===u)return g.emit('end');g.emit('data',u)}}c=c||function(u){this.queue(u)};a=a||function(){this.queue(null)};var z=!1,T=!1,H=[],U=!1,g=new wa;g.readable=g.writable=!0;
g.A=!1;g.V=!(e&&!1===e.V);g.write=function(u){c.call(this,u);return!g.A};g.queue=g.push=function(u){if(U)return g;null===u&&(U=!0);H.push(u);p();return g};g.on('end',function(){g.readable=!1;!g.writable&&g.V&&process.nextTick(function(){g.destroy()})});g.end=function(u){if(!z)return z=!0,arguments.length&&g.write(u),g.writable=!1,a.call(g),!g.readable&&g.V&&g.destroy(),g};g.destroy=function(){if(!T)return z=T=!0,H.length=0,g.writable=g.readable=!1,g.emit('close'),g};g.pause=function(){if(!g.A)return g.A=
!0,g};g.resume=function(){g.A&&(g.A=!1,g.emit('resume'));p();g.A||g.emit('drain');return g};return g}var h={},K=h.ia=1,D=h.sa=2,L=h.ja=3,I=h.ta=4,M=h.aa=5,N=h.ba=6,O=h.Da=7,P=h.ca=8,Q=h.ka=9,E=h.wa=10,R=h.oa=11,C=h.ua=17,ba=h.va=18,ca=h.Ea=33,da=h.Fa=34,ea=h.Ga=35,fa=h.da=49,ha=h.ea=50,ia=h.fa=51,ja=h.ga=52,ka=h.la=65,la=h.ma=66,ma=h.na=67,na=h.pa=81,X=h.qa=83,x=h.xa=97,oa=h.ya=98,pa=h.za=99,xa=h.Aa=100,ya=h.Ba=101,qa=h.Ca=102,G=h.Ha=113,Y=h.ha=114,V=h.ra=129,W=h.$=130;y.P=function(c){for(var a=Object.keys(h),
e=0,p=a.length;e<p;e++){var z=a[e];if(h[z]===c)return z}return c&&'0x'+c.toString(16)};var v=y.prototype;v.O=function(c){throw c;};v.e=function(c,a){this.c=ba;this.O(Error('Unexpected '+Z.stringify(B.fromCharCode(c[a]))+' at position '+a+' in state '+y.P(this.c)))};v.n=function(c){65536<=this.l&&(this.string+=this.J.toString('utf8'),this.l=0);this.J[this.l++]=c};v.I=function(c,a,e){var p=c.length;'number'===typeof a&&(p='number'===typeof e?0>e?c.length-a+e:e-a:c.length-a);0>p&&(p=0);65536<this.l+
p&&(this.string+=this.J.toString('utf8',0,this.l),this.l=0);c.copy(this.J,this.l,a,e);this.l+=p};v.write=function(c){'string'===typeof c&&(c=new r(c));for(var a,e=0,p=c.length;e<p;e++)if(this.c===C)if(a=c[e],this.offset++,123===a)this.f(K,'{');else if(125===a)this.f(D,'}');else if(91===a)this.f(L,'[');else if(93===a)this.f(I,']');else if(58===a)this.f(M,':');else if(44===a)this.f(N,',');else if(116===a)this.c=ca;else if(102===a)this.c=fa;else if(110===a)this.c=ka;else if(34===a)this.string='',this.l=
0,this.c=x;else if(45===a)this.string='-',this.c=na;else if(48<=a&&64>a)this.string=B.fromCharCode(a),this.c=X;else{if(32!==a&&9!==a&&10!==a&&13!==a)return this.e(c,e)}else if(this.c===x)if(a=c[e],0<this.D){for(a=0;a<this.D;a++)this.W[this.j][this.j-this.D+a]=c[a];this.I(this.W[this.j]);this.j=this.D=0;e=e+a-1}else if(0===this.D&&128<=a){if(193>=a||244<a)return this.O(Error('Invalid UTF-8 character at position '+e+' in state '+y.P(this.c)));194<=a&&223>=a&&(this.j=2);224<=a&&239>=a&&(this.j=3);240<=
a&&244>=a&&(this.j=4);if(this.j+e>c.length){for(a=0;a<=c.length-1-e;a++)this.W[this.j][a]=c[e+a];this.D=e+this.j-c.length;e=c.length-1}else this.I(c,e,e+this.j),e=e+this.j-1}else if(34===a)this.c=C,this.string+=this.J.toString('utf8',0,this.l),this.l=0,this.f(E,this.string),this.offset+=r.byteLength(this.string,'utf8')+1,this.string=w;else if(92===a)this.c=oa;else if(32<=a)this.n(a);else return this.e(c,e);else if(this.c===oa)if(a=c[e],34===a)this.n(a),this.c=x;else if(92===a)this.n(92),this.c=x;
else if(47===a)this.n(47),this.c=x;else if(98===a)this.n(8),this.c=x;else if(102===a)this.n(12),this.c=x;else if(110===a)this.n(10),this.c=x;else if(114===a)this.n(13),this.c=x;else if(116===a)this.n(9),this.c=x;else if(117===a)this.unicode='',this.c=pa;else return this.e(c,e);else if(this.c===pa||this.c===xa||this.c===ya||this.c===qa)if(a=c[e],48<=a&&64>a||64<a&&70>=a||96<a&&102>=a)this.unicode+=B.fromCharCode(a),this.c++===qa&&(a=parseInt(this.unicode,16),this.unicode=w,this.o!==w&&56320<=a&&57344>
a?(this.I(new r(B.fromCharCode(this.o,a))),this.o=w):this.o===w&&55296<=a&&56320>a?this.o=a:(this.o!==w&&(this.I(new r(B.fromCharCode(this.o))),this.o=w),this.I(new r(B.fromCharCode(a)))),this.c=x);else return this.e(c,e);else if(this.c===na||this.c===X)switch(a=c[e],a){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=B.fromCharCode(a);this.c=X;break;default:this.c=C;a=Number(this.string);if(isNaN(a))return this.e(c,
e);this.string.match(/[0-9]+/)==this.string&&a.toString()!=this.string?this.f(E,this.string):this.f(R,a);this.offset+=this.string.length-1;this.string=w;e--}else if(this.c===ca)if(114===c[e])this.c=da;else return this.e(c,e);else if(this.c===da)if(117===c[e])this.c=ea;else return this.e(c,e);else if(this.c===ea)if(101===c[e])this.c=C,this.f(O,!0),this.offset+=3;else return this.e(c,e);else if(this.c===fa)if(97===c[e])this.c=ha;else return this.e(c,e);else if(this.c===ha)if(108===c[e])this.c=ia;else return this.e(c,
e);else if(this.c===ia)if(115===c[e])this.c=ja;else return this.e(c,e);else if(this.c===ja)if(101===c[e])this.c=C,this.f(P,!1),this.offset+=4;else return this.e(c,e);else if(this.c===ka)if(117===c[e])this.c=la;else return this.e(c,e);else if(this.c===la)if(108===c[e])this.c=ma;else return this.e(c,e);else if(this.c===ma)if(108===c[e])this.c=C,this.f(Q,null),this.offset+=3;else return this.e(c,e)};v.f=function(){};v.w=function(c,a){this.c=ba;this.O(Error('Unexpected '+y.P(c)+(a?'('+Z.stringify(a)+
')':'')+' in state '+y.P(this.h)))};v.push=function(){this.stack.push({value:this.value,m:this.m,mode:this.mode})};v.pop=function(){var c=this.value,a=this.stack.pop();this.value=a.value;this.m=a.m;this.mode=a.mode;this.emit(c);this.mode||(this.h=G)};v.emit=function(){this.mode&&(this.h=N)};v.Ja=function(){};v.f=function(c,a){if(this.h===G)if(c===E||c===R||c===O||c===P||c===Q)this.value&&(this.value[this.m]=a),this.emit(a);else if(c===K)this.push(),this.value=this.value?this.value[this.m]={}:{},this.m=
w,this.h=Y,this.mode=V;else if(c===L)this.push(),this.value=this.value?this.value[this.m]=[]:[],this.m=0,this.mode=W,this.h=G;else if(c===D)if(this.mode===V)this.pop();else return this.w(c,a);else if(c===I)if(this.mode===W)this.pop();else return this.w(c,a);else return this.w(c,a);else if(this.h===Y)if(c===E)this.m=a,this.h=M;else if(c===D)this.pop();else return this.w(c,a);else if(this.h===M)if(c===M)this.h=G;else return this.w(c,a);else if(this.h===N)if(c===N)this.mode===W?(this.m++,this.h=G):this.mode===
V&&(this.h=Y);else if(c===I&&this.mode===W||c===D&&this.mode===V)this.pop();else return this.w(c,a);else return this.w(c,a)};module.exports=y;var wa=va('stream');exports=module.exports=aa;(function(){function c(b){return''+b===b}function a(b){return 0===b.indexOf('<?xml ')||0<=b.toUpperCase().indexOf('<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML ')}function e(b){return b.split('&').join('&amp;').split('<').join('&lt;').split('>').join('&gt;')}function p(b,d,t){b=e(b);if(b.match('"'))b=b.match("'")?d?
"'"+b.split('&apos;').join("'").split("'").join('&apos;')+"'":'"'+b.split('&quot;').join('"').split('"').join('&quot;')+'"':"'"+b+"'";else if(t||b.match(/[^0-9a-z\.\-]/g)||72<b.length)b+=(d?'"':"'")+e(b)+(d?'"':"'");return b}function z(b){var d=b.indexOf('#'),t=b.indexOf('.');if(d<t){var m=b.split('.')[1];b=b.split('.')[0];if(0<d){var A=b.split('#')[1];b=b.split('#')[0]}}else t<d&&(A=b.split('#')[1],b=b.split('#')[0],0<t&&(m=b.split('.')[1],b=b.split('.')[0]));return[b,A,m]}function T(b){'string'===
typeof b&&(b=za?r.from(b):new r(b));this._parser.write(b)}function H(b){b&&this.write(b);28!==this._parser.K&&this.emit('error','Invalid html.json');this.queue(null);this._parser=this._parser.C=null}function U(b){-1<b.message.indexOf('at position')&&(b.message='Invalid JSON ('+b.message+')');this.T(b.message);this.C.emit('error',b)}function g(b,d){function t(){const n=k.t.length?k.S.call(k.C,k.G,k.t):k.S.call(k.C,k.G);k.G=null;k.t.length=0;return n}function m(n){return''!==n&&null!==n?' '+k.X+'='+
p(n,k.N,k.M):''}function A(n){const F=q.pop();f=q.length?27:28;switch(F){case 0:case 1:case 3:case 7:break;case 5:l='<![endif]--\x3e';break;case 6:l='\x3c!--<![endif]--\x3e';break;case 4:l='--\x3e';break;default:l=n?'':k.Y||k.R?' />':'>',(k.Y||k.R)&&!n||Aa[F]&&!k.L?k.B=u[F]?'':F:(l+='</'+F+'>',k.B=''),ra()}}function ra(){k.L=k.H=k.R=!1;for(let n=0,F=q.length;n<F;++n){const S=q[n];c(S)&&(sa[S]&&(k.L=!0),ta[S]&&(k.H=!0),Ba[S]||0<S.indexOf(':'))&&(k.R=!0)}}function ua(){let n='';!J&&k.B&&(n='</'+k.B+
'>',k.B='');return n}if(b===M||b===N)this.stack.length&&this.v(b,d);else{console.log('> '+b+' : '+d,this.K,this.U);var q=this.U,f=this.K,l,J=!1,k=this;switch(f){case 24:switch(b){case L:case K:this.v(b,d);return;case I:if(0===this.stack.length){(d=t())&&d.pop===[].pop?l=(void 0)(d,this.S,this.T,{quotAlways:this.M,useSingleQuot:this.N,instructionAttrPrefix:this.Q}):l=c(d)||d===+d?''+d:'';f=22;break}case D:1===this.stack.length?(this.t.push(this.value),this.value=null):this.v(b,d);return;case E:case R:case O:case P:case Q:this.stack.length?
this.v(b,d):this.t.push(d);return;default:f=-2}break;case 21:switch(b){case L:case K:this.v(b,d);return;case I:if(0===this.stack.length){l=m(t());f=16;break}case D:1===this.stack.length?(this.t.push(this.value),this.value=null):this.v(b,d);return;case E:if(0===this.stack.length&&!this.G){this.G=d;return}case R:case O:case P:case Q:this.stack.length?this.v(b,d):this.t.push(d);return;default:f=-2}break;default:switch(b){case L:switch(f){case 15:case 26:J=!0;case -1:case 27:b=-1;break;case 25:b=21;break;
default:b=-2}break;case I:b=15===f||26===f?23:27===f||22===f?22:-2;break;case K:b=15===f?15:18===f?18:-2;break;case D:b=16===f?24:19===f?25:-2;break;case E:switch(f){case 23:case 14:b=14;break;case 8:b=8;break;case 9:b=9;break;case 10:b=10;break;case 11:b=11;break;case 12:b=12;break;case 16:b=16;break;case 17:b=17;break;case 18:b=18;break;case 19:b=19;break;case 20:b=20;break;case 15:case 26:J=!0;case 27:b=26;break;case 13:b=13;break;case 25:b=27;break;default:b=-2}break;case R:switch(f){case 23:b=
d;break;case 17:b=17;break;case 20:b=20;break;case 9:b=9;break;case 15:case 26:J=!0;case 27:b=26;break;default:b=-2}break;case O:case P:case Q:b=17===f?17:-2;break;default:b=-2}console.log('. '+b);switch(b){case -1:l=J&&c(q[q.length-1])?'>':'';f=23;break;case 0:f=8;q.push(0);break;case 8:this.Y=a(d);l=d;f=26;break;case 1:f=26;q.push(1);break;case 2:f=14;break;case 14:d=z(d);b=d[1];const n=d[2];d=d[0];l=('p'===this.B&&Ca[d]?'</p>':'')+'<'+d;this.B='';b&&(l+=' id='+p(b,this.N,this.M));n&&(l+=' class='+
p(n,this.N,this.M));this.L||(this.L=!!sa[d]);this.H||(this.H=!!ta[d]);q.push(d);ra();f=15;break;case 15:f=16;break;case 16:0===d.indexOf(this.Q)?(this.X=d.substr(this.Q.length),f=25):(this.X=d,f='style'===d?18:17);break;case 21:f=21;break;case 27:this.G=d,d=t();case 17:l=m(d);f=16;break;case 24:f=26;break;case 18:f=19;break;case 19:this.Z=d;f=20;break;case 20:''!==d&&null!==d&&(this.F+=';'+this.Z+':'+d);f=19;break;case 25:this.F&&(l=m(this.F.substr(1)),this.F='');f=16;break;case 22:A(!0);break;case 23:A(!1);
break;case 3:f=9;q.push(3);break;case 9:l=ua()+(k.H?''+d:e(''+d));f=22;break;case 26:l=(J&&c(q[q.length-1])?'>':'')+ua()+(k.H?''+d:e(''+d));f=27;break;case 4:l='\x3c!--';f=10;q.push(4);break;case 10:l=d;f=22;break;case 5:l='\x3c!--[';f=11;q.push(5);break;case 11:l=d+']>';f=26;break;case 6:l='\x3c!--[';f=12;q.push(6);break;case 12:l=d+']>\x3c!--\x3e';f=26;break;case 7:f=13;q.push(7);break;case 13:f=24;break;default:f=-2}}console.log('- '+l,f,this.U);-2===f?(this.T('Not html.json format!'),this.C.emit('error',
'Not html.json format!')):(this.K=f,l&&this.C.queue(l))}}var u={link:!0,meta:!0,br:!0,hr:!0,img:!0,input:!0,area:!0,base:!0,col:!0,embed:!0,keygen:!0,param:!0},Aa={p:!0,dt:!0,dd:!0,li:!0,option:!0,thead:!0,tfoot:!0,th:!0,tr:!0,td:!0,rt:!0,rp:!0,optgroup:!0,caption:!0,colgroup:!0,col:!0},sa={a:!0,audio:!0,del:!0,ins:!0,map:!0,noscript:!0,video:!0},Ba={svg:!0,math:!0},Ca={table:!0,img:!0,svg:!0,picture:!0,object:!0,embed:!0,video:!0,audio:!0,Ia:!0,form:!0,fieldset:!0},ta={script:!0,style:!0,plaintext:!0,
xmp:!0,noscript:!0};const za=r.from&&r.from!==Uint8Array.from;module.exports=function(b,d,t){const m=new y,A=aa(T,H);t=d&&'object'===typeof d?d:t||{};A._parser=m;m.v=m.f;m.f=g;m.O=U;m.K=-1;m.U=[];m.t=[];m.S=b;m.T='function'===typeof d?d:function(){};m.M=!!t.quotAlways;m.N=!!t.useSingleQuot;m.Q=t.instructionAttrPrefix||':';m.F='';return m.C=A}})()})(require,String,Buffer,JSON,void 0);
