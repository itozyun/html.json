(function(I){var t;(function(){function v(a){return!(!a||a.pop!==[].pop)}function w(a){return''+a===a}function C(a){return w(a)||a===+a}function J(a){if(C(a))a=3;else if(v(a))if(w(a[0]))a=2;else{var u=a[0];a=u===+u?a[0]:-1}else a=-1;return a}function K(a){return!v(a)&&!(!a||'object'!==typeof a)}function D(a){return a.split('&').join('&amp;').split('<').join('&lt;').split('>').join('&gt;')}function E(a,u,n){a=D(a);if(a.match('"'))a=a.match("'")?u?"'"+a.split('&apos;').join("'").split("'").join('&apos;')+
"'":'"'+a.split('&quot;').join('"').split('"').join('&quot;')+'"':"'"+a+"'";else if(n||a.match(/[^0-9a-z\.\-]/g)||72<a.length)a+=(u?'"':"'")+D(a)+(u?'"':"'");return a}var L={checked:!0,compact:!0,declare:!0,defer:!0,disabled:!0,ismap:!0,multiple:!0,nohref:!0,noresize:!0,noshade:!0,nowrap:!0,readonly:!0,selected:!0},N={link:!0,meta:!0,br:!0,hr:!0,img:!0,input:!0,area:!0,base:!0,col:!0,embed:!0,keygen:!0,param:!0},O={p:!0,dt:!0,dd:!0,li:!0,option:!0,thead:!0,tfoot:!0,th:!0,tr:!0,td:!0,rt:!0,rp:!0,optgroup:!0,
caption:!0,colgroup:!0,col:!0},P={a:!0,audio:!0,del:!0,ins:!0,map:!0,noscript:!0,video:!0},Q={svg:!0,math:!0},R={table:!0,img:!0,svg:!0,picture:!0,object:!0,embed:!0,video:!0,audio:!0,c:!0,form:!0,fieldset:!0},S={script:!0,style:!0,plaintext:!0,xmp:!0,noscript:!0};t=function(a,u,n,T){function F(b,g,h,p,k){var d='',q=b[0],l=b[1],A=1,c=q;switch(q){case 0:(0===l.indexOf('<?xml ')||0<=l.toUpperCase().indexOf('<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML '))&&(y=!0);d+=l+B(b,!1,!1);break;case 1:d+=B(b,p,k);
break;case 3:z&&(d+='</'+z+'>',z='');d+=k?l:D(''+l);break;case 4:w(l)?d+='\x3c!--'+l+'--\x3e':x('COMMENT_NODE Error! ['+b+']');break;case 5:w(l)?d+='\x3c!--['+l+']>':x('CONDITIONAL_COMMENT_HIDE_LOWER Error! ['+b+']');d+=B(b,p,k)+'<![endif]--\x3e';break;case 6:w(l)?d+='\x3c!--['+l+']>\x3c!--\x3e':x('CONDITIONAL_COMMENT_SHOW_LOWER Error! ['+b+']');d+=B(b,p,k)+'\x3c!--<![endif]--\x3e';break;case 7:p=x;var e=b[1];k=b.slice(2);e=k.length?u(e,k):u(e);e!==I&&null!==e&&''!==e&&(C(e)?g?g.splice(h,1,e):(b.length=
0,b.push(3,b)):v(e)?1===e[0]?g?(e.shift(),e.unshift(h,1),g.splice.apply(g,e)):(b.length=0,b.push.apply(b,e)):v(e[0])?g?(e.unshift(h,1),g.splice.apply(g,e)):(b.length=0,b.push(1),b.push.apply(b,e)):g?g.splice(h,1,e):(b.length=0,b.push(1,e)):p('PROCESSING_INSTRUCTION Error! ['+JSON.stringify(b)+']'));if(e!==I&&null!==e&&''!==e&&(C(e)||v(e)))return-1;break;case 2:c=b[1],A=2;default:if(w(c)){g=c.indexOf('#');h=c.indexOf('.');if(g<h){var f=c.split('.')[1];c=c.split('.')[0];if(0<g){var m=c.split('#')[1];
c=c.split('#')[0]}}else h<g&&(m=c.split('#')[1],c=c.split('#')[0],0<h&&(f=c.split('.')[1],c=c.split('.')[0]));c=[c,m,f];g=c[1];h=c[2];c=c[0];'p'===z&&R[c]&&(d+='</p>');z='';d+='<'+c;g&&(d+=' id='+E(g,G,H));h&&(d+=' class='+E(h,G,H));y||(e=y=y||Q[c]?!0:0<c.indexOf(':'));A=b[A];if(K(A)){g='';for(var r in A)if(f=A[r],(h=0===r.indexOf(M))&&(r=r.substr(M.length)),'className'===r&&(r='class'),h&&(m=void 0,h=u,q=r,l=x,v(f)&&w(f[0])?(m=f[0],f=f.slice(1),m=f.length?h(m,f):h(m)):w(f)?m=h(f):l('Invalid InstructionAttr value! ['+
q+'='+f+']'),f=m),L[r]||''!==f&&null!=f)if(g+=' '+r,!L[r]){if('style'===r&&f&&'object'===typeof f){h=void 0;m=f;q='';for(h in m)f=m[h],'0px'===f&&(f=0),q+=';'+h+':'+D(''+f);f=q.substr(1);if(!f)continue}g+='='+E(f,G,H)}d+=' '+g.substr(1)}d=(b=B(b,p||P[c],k||S[c]))?d+('>'+b):d+(y?'/>':'>');y&&!b||O[c]&&!p?z=N[c]?'':c:(d+='</'+c+'>',z='');e&&(y=!1)}else x('Not html.json! ['+b+']')}return d}function B(b,g,h){var p='';var k=b[0];var d=2===J(b),q=2===k?2:1;for(k=d?K(b[q])?q+1:q:1===k?1:0===k||5===k||6===
k?2:Infinity;k<b.length;++k)d=b[k],C(d)?p+=F([3,d],null,0,g,h):v(d)?(d=F(d,b,k,g,h),-1===d?--k:p+=d):x('Invalid html.json! ['+d+']');return p}var x='function'===typeof n?n:function(){};n=n&&'object'===typeof n?n:T||{};var H=!!n.quotAlways,G=!!n.useSingleQuot,M=n.instructionAttrPrefix||':',z,y=!1;if(v(a))return 7===J(a)&&(a=[1,a]),F(a,null,0,!1,!1);x('Invalid html.json document!')};module.exports=t;t.DOCUMENT_NODE=0;t.DOCUMENT_FRAGMENT_NODE=1;t.ELEMENT_NODE=2;t.TEXT_NODE=3;t.COMMENT_NODE=4;t.CONDITIONAL_COMMENT_HIDE_LOWER=
5;t.CONDITIONAL_COMMENT_SHOW_LOWER=6;t.PROCESSING_INSTRUCTION=7})()})(void 0);
