var ca = {xml:!0, svg:!0, math:!0}, da = {async:!0, autofocus:!0, checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, draggable:!0, hidden:!0, ismap:!0, loop:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, novalidate:!0, nowrap:!0, readonly:!0, required:!0, reversed:!0, scoped:!0, selected:!0}, ea = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, 
WBR:!0, area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, fa = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, LISTING:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0, listing:!0}, ha = {TEXTAREA:!0, TITLE:!0, textarea:!0, title:!0}, E = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, 
H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, 
SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, 
I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, 
A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, 
SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, 
SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
E.LI = E.TD = E.DD;
E.TH = E.DT;
E.RB = E.RP = E.RT = E.P;
E.TFOOT = E.THEAD = E.TBODY;
E.RTC = E.RBC;
var G = {a:2, b:2, c:2, d:2, e:2, f:2, g:2, h:2, i:2, j:2, k:2, l:2, m:2, n:2, o:2, p:2, q:2, r:2, s:2, t:2, u:2, v:2, w:2, x:2, y:2, z:2, A:1, B:1, C:1, D:1, E:1, F:1, G:1, H:1, I:1, J:1, K:1, L:1, M:1, N:1, O:1, P:1, Q:1, R:1, S:1, T:1, U:1, V:1, W:1, X:1, Y:1, Z:1, "\t":4, "\n":4, "\f":4, "\r":4, " ":4};
function H(a) {
  return a.split("&lt;").join("<").split("&gt;").join(">").split("&amp;lt;").join("&lt;").split("&amp;gt;").join("&gt;");
}
function ia(a) {
  return H(a).split('\\"').join('"').split("\\'").join("'").split("&quot;").join('"').split("&apos;").join("'");
}
function ja(a, b, c) {
  function k() {
    e = a.indexOf("<", e + 1);
    -1 === e && (e = a.length, l());
  }
  function l() {
    if (e) {
      var q = a.substr(0, e);
      (q = v && !ha[x] ? q : H(q)) && b.$.push([3, K(q)]);
      a = a.substr(e);
      e = 0;
    }
  }
  function g(q) {
    b.ja && b.ja(q);
  }
  function h(q, w, C) {
    for (var n = 0, y = C.length, r = 3, d, F; r < y && 2 !== n;) {
      F = C.charAt(r);
      switch(n) {
        case 0:
          G[F] & 4 ? n = 1 : ">" === F && (n = 2);
          n && (d = C.substring(2, r));
          break;
        case 1:
          ">" === F && (n = 2);
      }
      ++r;
    }
    return 2 === n ? (ea[d] || p(q, w, c || z ? d : d.toUpperCase(), !1), r) : 0;
  }
  function p(q, w, C, n) {
    var y = 0, r = q.length;
    if (C) {
      for (y = r; 0 <= y && q[--y] !== C;) {
      }
    }
    if (0 <= y) {
      for (; y < r;) {
        la(w, q[--r], n && !E[q[r]], !1), c && ca[q[r]] && (c = !!w.ka);
      }
      q.length = y;
      if (z) {
        for (z = !1, r = y; r;) {
          if (0 < q[--r].indexOf(":")) {
            z = !0;
            break;
          }
        }
      }
    } else {
      la(w, C, !1, !0);
    }
  }
  function A(q, w, C, n) {
    function y(aa, ba) {
      O[aa] = !0 === ba ? !0 : da[aa.toLowerCase()] ? c ? ia(ba || aa) : !0 : ia(ba || "");
      ++X;
    }
    function r() {
      (I = "/>" === n.substr(t, 2)) && ++t;
      return I;
    }
    for (var d = 1, F = n.length, t = 2, O = {}, X = 0, I = !1, D, P, J, R, ka, Y; t < F && 9 > d;) {
      D = n.charAt(t);
      switch(d) {
        case 1:
          if (G[D] & 4) {
            d = 2, P = n.substring(1, t);
          } else if (">" === D || r()) {
            d = 9, P = n.substring(1, t);
          }
          break;
        case 2:
          ">" === D || r() ? d = 9 : G[D] & 4 || (d = 3, J = t);
          break;
        case 3:
          if ("=" === D) {
            d = 5, R = n.substring(J, t);
          } else if (G[D] & 4) {
            d = 4, R = n.substring(J, t);
          } else if (">" === D || r()) {
            d = 9, y(n.substring(J, t), !0);
          }
          break;
        case 4:
          "=" === D ? d = 5 : ">" === D || r() ? (d = 9, y(R, !0)) : G[D] & 4 || (d = 3, y(R, !0), J = t);
          break;
        case 5:
          '"' === D || "'" === D ? (d = 6, ka = D, J = t + 1) : G[D] & 4 || (d = 7, J = t);
          Y = !1;
          break;
        case 6:
          Y || D !== ka || (d = 2, y(R, n.substring(J, t)));
          Y = "\\" === D && !Y;
          break;
        case 7:
          G[D] & 4 ? d = 2 : ">" === D && (d = 9), 7 !== d && y(R, n.substring(J, t));
      }
      ++t;
    }
    if (9 === d) {
      d = P.toUpperCase();
      c ||= !!ca[P];
      z ||= 0 < P.indexOf(":");
      if (!c && !z) {
        for (; w;) {
          if (E[w] && !E[w][d]) {
            p(q, C, w, !1), w = q[q.length - 1];
          } else {
            break;
          }
        }
      }
      (I = I || !!ea[d]) || (q[q.length] = c || z ? P : d);
      ma(C, c || z ? P : d, X ? O : null, I);
      return t;
    }
    return 0;
  }
  for (var e = 0, z = !1, B = [], f = a.length - e, x, v, m, u; a;) {
    x = B[B.length - 1];
    v = fa[x];
    if (a.indexOf("<?") === e) {
      if (l(), m = a.indexOf("?>"), -1 !== m) {
        na(b, H(a.substring(2, m))), a = a.substr(m + 2);
      } else {
        g(a);
        return;
      }
    } else if (a.indexOf("</", e) === e && G[a.charAt(e + 2)] & 3) {
      if (v && ("PLAINTEXT" === x || "plaintext" === x ? u = !0 : a.indexOf(x.toLowerCase(), e) !== e + 2 && a.indexOf(x.toUpperCase(), e) !== e + 2 && (u = !0)), u) {
        k(), u = !1;
      } else {
        if (l(), m = h(B, b, a)) {
          a = a.substr(m);
        } else {
          g(a);
          return;
        }
      }
    } else if (v) {
      k();
    } else if ("<" === a.charAt(e) && G[a.charAt(e + 1)] & 3) {
      if (l(), m = A(B, x, b, a)) {
        a = a.substr(m);
      } else {
        g(a);
        return;
      }
    } else if (a.indexOf("\x3c!--") === e) {
      if (l(), m = a.indexOf("--\x3e"), -1 !== m) {
        oa(b, H(a.substring(4, m))), a = a.substr(m + 3);
      } else {
        g(a);
        return;
      }
    } else if (a.indexOf("<![CDATA[") === e) {
      if (l(), m = a.indexOf("]]\x3e"), -1 !== m) {
        pa(b, H(a.substring(9, m))), a = a.substr(m + 3);
      } else {
        g(a);
        return;
      }
    } else if (a.indexOf("<!DOCTYPE ") === e) {
      if (l(), m = a.indexOf(">"), -1 !== m) {
        b.ba.splice(0, 1, 9, a.substring(e, m + 1)), a = a.substr(m + 1);
      } else {
        g(a);
        return;
      }
    } else {
      k();
    }
    m = a.length - e;
    if (m === f) {
      g(a);
      return;
    }
    f = m;
  }
  p(B, b, "", !0);
}
;function L(a) {
  return a === "" + a;
}
function M(a) {
  return !!a && a.constructor === Array;
}
;function N(a, b, c) {
  var k = a, l = Q(k), g = 0, h = b(a, null, -1, g / 3), p = [-1, a, l], A = !1;
  if (Infinity === h || -Infinity === h) {
    return !1;
  }
  if (0 < k.length - l) {
    do {
      var e = ++p[g];
      var z = k[e + l];
      if (null != z) {
        h = b(z, k, e + l, g / 3 + 1);
        if (Infinity === h) {
          return A;
        }
        if (-Infinity !== h) {
          if (-1 >= h) {
            p[g] += h, A = !0;
          } else {
            if (1 <= h && (p[g] += h, A = !0), Q(z) < z.length) {
              g += 3, p[g] = -1, p[g + 1] = k = z, p[g + 2] = l = Q(z);
            } else if (c && k) {
              h = c(z, k, e + l, g / 3 + 1);
              if (Infinity === h) {
                return A;
              }
              -Infinity !== h && (-1 >= h || 1 <= h) && (p[g] += h, A = !0);
            }
          }
        }
      } else {
        if (p.length = g, g -= 3, k = p[g + 1], l = p[g + 2], c && k) {
          e = p[g] + l;
          h = c(k[e], k, e, g / 3 + 1);
          if (Infinity === h) {
            return A;
          }
          -Infinity !== h && (-1 >= h || 1 <= h) && (p[g] += h, A = !0);
        }
      }
    } while (0 <= g);
  }
  c && c(a, null, -1, 0);
  return A;
}
;var qa = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, script:!0, style:!0, textarea:!0}, ra = {PRE:!0, LISTING:!0, pre:!0, listing:!0};
function S(a) {
  return L(a) || a === +a;
}
function T(a) {
  var b;
  if (b = a === "" + +a) {
    b = +a, b = b === +b && b !== b + 1;
  }
  return b ? +a : a;
}
function U(a) {
  if (S(a)) {
    a = 3;
  } else {
    if (M(a)) {
      if (L(a[0])) {
        a = 1;
      } else {
        var b = a[0];
        a = b === +b ? a[0] : -1;
      }
    } else {
      a = -1;
    }
  }
  return a;
}
function Q(a) {
  var b = a[0], c = U(a);
  return 1 === c || 17 === c ? (b = b === +b ? 2 : 1, a = a[b], !M(a) && a && "object" === typeof a ? b + 1 : b) : 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
}
function K(a) {
  return a.split("\r\n").join("\n").split("\r").join("\n");
}
function V(a, b) {
  for (; a.charAt(0) === b;) {
    a = a.substr(1);
  }
  return a;
}
function W(a, b) {
  for (; a.charAt(a.length - 1) === b;) {
    a = a.substr(0, a.length - 1);
  }
  return a;
}
function sa(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), k = "", l = "";
  b < c ? (k = a.split(".")[1], a = a.split(".")[0], 0 < b && (l = a.split("#")[1], a = a.split("#")[0])) : c < b && (l = a.split("#")[1], a = a.split("#")[0], 0 < c && (k = a.split(".")[1], a = a.split(".")[0]));
  return [a, l, k];
}
function ta(a, b, c) {
  b && (a += "#" + b);
  c && (a += "." + c);
  return a;
}
function ua(a) {
  function b(B, f) {
    g[W(B, " ")] = "0px" === f ? 0 : T(W(f, " "));
    ++h;
  }
  for (var c = 0, k = a.length, l = 0, g = {}, h = 0, p, A, e = "", z; l < k; ++l) {
    p = a.charAt(l);
    switch(c) {
      case 0:
        if (G[p] & 4) {
          break;
        }
        A = l;
        c = 1;
      case 1:
        ":" === p && (z = a.substring(A, l), c = 2);
        break;
      case 2:
        if (G[p] & 4) {
          break;
        }
        A = l;
        c = 3;
      case 3:
        '"' === p || "'" === p ? (e = p, c = 4) : ";" === p && (b(z, a.substring(A, l)), c = 0);
        break;
      case 4:
        e === p && (e = "", c = 3);
    }
    3 <= c && b(z, a.substring(A));
  }
  return h ? g : null;
}
;function va(a, b) {
  function c(f, x, v) {
    function m(q, w) {
      for (; 0 <= f.indexOf(q);) {
        f = f.split(q).join(w);
      }
    }
    v && (f = f.replace(/([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])\s([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g, "$1$2"));
    f = f.split("\t").join(" ");
    m("\n\n", "\n");
    m("  ", " ");
    if (x && ("\n " === f.substr(f.length - 2) && (f = W(f, " ")), "\n" === f.charAt(f.length - 1))) {
      var u = "\n" === f.charAt(0);
    }
    f = W(f, "\n");
    f = f.split("\n").join(" ");
    m("  ", " ");
    u && (f = W(V(f, " "), " "));
    f = f.split("\\u0020").join(" ").split("&#x20;").join(" ").split("&#32;").join(" ");
    return T(f);
  }
  function k(f, x) {
    function v(n) {
      return n.split("\n").join("").split(" ").join("").split("\t").join("");
    }
    function m(n) {
      var y;
      N(n, function(r, d, F) {
        3 === U(r) && (y = [r, d, F]);
      });
      return y;
    }
    var u, q;
    for (N(f, function(n, y, r) {
      if (3 === U(n)) {
        n = "" + (S(n) ? n : n[1]);
        if (v(n)) {
          return y.splice(r, 1, V(n, "\n")), Infinity;
        }
        y.splice(r, 1);
        return -1;
      }
    }); u = m(f);) {
      var w = u[0];
      var C = u[1];
      u = u[2];
      w = "" + (S(w) ? w : w[1]);
      if (v(w)) {
        C.splice(u, 1, W(w, "\n"));
        break;
      } else {
        C.splice(u, 1);
      }
    }
    if (x) {
      for (; N(f, function(n, y, r) {
        if (3 === U(n)) {
          var d = m(f);
          var F = d ? y === d[1] && r === d[2] : !1;
          d = "" + (S(n) ? n : n[1]);
          for (var t = d.split("\n"), O = 0, X = t.length, I; O < X - (F ? 0 : 1); ++O) {
            for (d = t[O];;) {
              if (I = d.charAt(d.length - 1), "\t" === I || " " === I) {
                d = d.substr(0, d.length - 1);
              } else {
                break;
              }
            }
            t[O] = d;
          }
          d = t.join("\n");
          if ("\n" === d && q) {
            return n = q[0], F = q[1], t = q[2], S(n) ? F[t] += d : n[1] += d, y.splice(r, 1), -1;
          }
          S(n) ? y[r] = d : n[1] = d;
          q = [n, y, r];
        }
      });) {
      }
    }
  }
  b = b || {};
  var l = -1 !== ["normal", !0, "aggressive"].indexOf(b.trimWhitespaces), g = "aggressive" === b.trimWhitespaces, h = !!b.removeNewlineBetweenFullWidthChars, p = !1 !== b.keepCDATASections, A = !1 !== b.keepComments, e = !0 === b.keepEmptyConditionalComment, z = b.instructionAttrPrefix || ":", B;
  N(a, function(f, x, v) {
    var m = f[0], u = f[1], q = 1;
    switch(U(f)) {
      case 9:
        l && (f[1] = u.split("\n").join(" ").split("  ").join(" "));
        break;
      case 3:
        M(f) || (u = f);
        if (L(u)) {
          if (B || (u = K(u), l && (u = c(u, g, h))), "" !== u) {
            x[v] = u;
          } else {
            return x.splice(v, 1), -1;
          }
        }
        break;
      case 4:
        if (!p) {
          return x.splice(v, 1), -1;
        }
        break;
      case 8:
        if (!A) {
          return x.splice(v, 1), -1;
        }
        break;
      case 15:
        var w = x[v - 1];
        if (!e && w && 14 === w[0]) {
          return x.splice(v - 1, 2), -2;
        }
        break;
      case 1:
      case 17:
        m === +m && (m = u, q = 2);
        m = sa(m)[0];
        var C = f[q];
        if (!M(C) && C && "object" === typeof C) {
          x = q - 1;
          v = 0;
          u = sa(f[x]);
          var n = u[1], y = u[2];
          u = u[0];
          for (r in C) {
            if (C = 0 === r.indexOf(z)) {
              var r = r.substr(z.length);
              "className" === r && (r = "class");
            }
            ++v;
          }
          f[x] = ta(u, n, y);
          0 === v && f.splice(q, 1);
        }
        if (ra[m]) {
          k(f, g), B = f;
        } else if (qa[m]) {
          f = B = f;
          m = Q(f);
          q = f.length;
          for (var d, F, t; m < q; ++m) {
            r = f[m], 3 === U(r) && (w = w || m, d = d || r, F = m, t = r);
          }
          w && (M(d) && (d = d[1]), M(t) && (t = t[1]), w === F ? L(d) && (d = K(d), d = W(V(d, "\n"), "\n"), f[w] = T(d)) : (L(d) && (d = K(d), d = V(d, "\n"), f[w] = T(d)), L(t) && (t = K(t), t = W(t, "\n"), f[F] = T(t))));
        }
    }
  }, function(f, x, v) {
    if (!e) {
      switch(U(f)) {
        case 13:
        case 16:
          if (2 === f.length) {
            return x.splice(v, 1), -1;
          }
      }
    }
    B === f && (B = null);
  }) && wa(a);
}
function wa(a) {
  function b() {
    l.splice(g, 0, T(c));
    c = "";
  }
  var c = "", k, l, g;
  N(a, function(h, p, A, e) {
    if (c && k !== e) {
      return b(), 1;
    }
    if (3 === U(h)) {
      return c = S(h) ? c + h : c + h[1], p.splice(A, 1), k = e, l = p, g = A, -1;
    }
    if (c) {
      return b(), 1;
    }
  });
  c && b();
}
;function Z(a, b, c, k) {
  k = k || {};
  const l = k.argumentBrackets || "()";
  a = xa(a, k.instructionAttrPrefix || ":", l.substr(0, l.length / 2), l.substr(l.length / 2), !!b, c);
  null == k.trimWhitespaces && (k.trimWhitespaces = !0);
  null == k.keepCDATASections && (k.keepCDATASections = !1);
  null == k.keepComments && (k.keepComments = !1);
  null == k.keepEmptyConditionalComment && (k.keepEmptyConditionalComment = !1);
  va(a, k);
  return a;
}
function ya(a, b, c, k) {
  var l = a.indexOf(b);
  c = a.lastIndexOf(c);
  var g = W(V(-1 === l ? a : a.substr(0, l), " "), " ");
  if (-1 !== l) {
    try {
      var h = JSON.parse("[" + a.substring(l + b.length, c) + "]");
    } catch (p) {
      k && k(p);
    }
  }
  return h && h.length ? [g, h] : [g];
}
function xa(a, b, c, k, l, g) {
  b = new za(b, c, k, l, g);
  ja(a, b, !!b.ka);
  return b.ba;
}
function za(a, b, c, k, l) {
  this.ga = a;
  this.ea = b;
  this.da = c;
  this.ia = k;
  this.aa = l;
  this.$ = this.ba = [11];
  this.fa = [this.ba];
  this.ha = !1;
}
za.prototype.ja = function(a) {
  this.aa && this.aa(a);
};
function ma(a, b, c, k) {
  var l = 0, g;
  if (c) {
    for (g in c) {
      var h = da[g] ? 1 : c[g];
      if ("id" === g) {
        var p = h;
        delete c[g];
      } else if ("class" === g) {
        var A = h;
        delete c[g];
      } else {
        if ("style" === g) {
          h = ua(h);
          if (!h) {
            delete c[g];
            continue;
          }
          var e = void 0;
          var z = h, B = [], f = -1;
          for (e in z) {
            h = z[e];
            "0px" === h && (h = 0);
            for (var x = ++f, v, m = [], u = e.split(""), q = u.length; q;) {
              v = u[--q], "A" <= v && "Z" >= v && (v = "-" + v.toLowerCase()), m[q] = v;
            }
            v = m.join("");
            B[x] = v + ":" + h;
          }
          h = B.join(";");
        } else {
          g.startsWith(a.ga) && (e = ya(h, a.ea, a.da, a.aa), e[1] ? (h = [e[0]], h.push.apply(h, e[1])) : h = e[0]);
        }
        c[g] = T(h);
        ++l;
      }
    }
  }
  b = [ta(b, p, A)];
  l && (b[1] = c);
  a.$.push(b);
  k || (b.unshift(17), a.$ = b, a.fa.push(b));
}
function la(a, b, c, k) {
  k ? a.ia && a.$.push([18, b]) : c && a.ia || (b === sa(a.$[1])[0] ? (a.$.shift(), a.fa.pop(), a.$ = a.fa[a.fa.length - 1]) : a.aa && a.aa("End tag error! " + b));
}
function oa(a, b) {
  function c(l, g, h, p) {
    g = l.indexOf(g) + g.length;
    h = p ? l.lastIndexOf(h) : l.indexOf(h, g);
    return l.substring(g, h);
  }
  if (b.startsWith("[if") && 0 < b.indexOf("<![endif]")) {
    var k = xa(c(b, ">", "<![endif]", !0), a.ga, a.ea, a.da, !0, a.aa);
    k.splice(0, 1, 13, c(b, "[", "]", !1));
  } else {
    b.startsWith("{") && 2 < b.indexOf("};") ? (k = xa(b.substring(b.indexOf("};") + 2), a.ga, a.ea, a.da, !0, a.aa), k.splice(0, 1, 16, c(b, "{", "};", !1))) : b.startsWith("[if") && 0 < b.indexOf("><!") ? (k = [14, c(b, "[", "]", !1)], a.ha = !0) : "<![endif]" === b && a.ha ? (k = [15], a.ha = !1) : k = [8, T(K(b))];
  }
  a.$.push(k);
}
function pa(a, b) {
  a.$.push([4, T(K(b))]);
}
function na(a, b) {
  b = ya(b, a.ea, a.da, a.aa);
  var c = [7, b[0]];
  b[1] && c.push.apply(c, b[1]);
  a.$.push(c);
}
;module.exports = Z;
Z.DOCUMENT_NODE = 9;
Z.DOCUMENT_FRAGMENT_NODE = 11;
Z.ELEMENT_NODE = 1;
Z.TEXT_NODE = 3;
Z.CDATA_SECTION = 4;
Z.PROCESSING_INSTRUCTION = 7;
Z.COMMENT_NODE = 8;
Z.COND_CMT_HIDE_LOWER = 13;
Z.COND_CMT_SHOW_LOWER_START = 14;
Z.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Z.ELEMENT_START_TAG = 17;
Z.ELEMENT_END_TAG = 18;
Z.gulp = function(a, b) {
  const c = require("plugin-error"), k = require("through2"), l = b || {}, g = l.prettify;
  let h = 0, p = 0, A = 0;
  return k.obj(function(e, z, B) {
    if (e.isNull()) {
      return B();
    }
    if (e.isStream()) {
      return this.emit("error", new c("html2json", "Streaming not supported")), B();
    }
    if (".html" === e.extname || ".htm" === e.extname || ".xhtml" === e.extname || ".php" === e.extname) {
      try {
        const f = e.contents.toString(z), x = performance.now(), v = Z(f, !1, a, l);
        ++h;
        p += f.length;
        A += performance.now() - x;
        e.contents = Buffer.from(JSON.stringify(v, null, g ? "    " : ""));
        e.stem += e.extname;
        e.extname = ".json";
      } catch (f) {
        return this.emit("error", new c("html2json", f)), B();
      }
    }
    B(null, e);
  }, function(e) {
    console.log("[html2json] done!");
    console.log("  Number of files: " + h);
    console.log("  Total file size: " + (p / 100 | 0) / 10 + "KB");
    console.log("  Total Time     : " + (A | 0) + "ms");
    console.log("  Time per file  : " + (A / h * 100 | 0) / 100 + "ms");
    console.log("  Time per size  : " + (A / p * 1E5 | 0) + "ms/100KB");
    e();
  });
};

