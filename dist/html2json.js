var aa = {xml:!0, svg:!0, math:!0}, ba = {checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, ismap:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, nowrap:!0, readonly:!0, selected:!0}, ca = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, WBR:!0, area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, 
isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, da = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, A = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, 
ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, 
NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, 
TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, 
SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, 
I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLETE:!0}, COLGROUP:{COL:!0}, 
OPTGROUP:{OPTION:!0}, OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
A.LI = A.TD = A.DD;
A.TH = A.DT;
A.RB = A.RP = A.RT = A.P;
A.TFOOT = A.THEAD = A.TBODY;
A.RTC = A.RBC;
var C = {a:2, b:2, c:2, d:2, e:2, f:2, g:2, h:2, i:2, j:2, k:2, l:2, m:2, n:2, o:2, p:2, q:2, r:2, s:2, t:2, u:2, v:2, w:2, x:2, y:2, z:2, A:1, B:1, C:1, D:1, E:1, F:1, G:1, H:1, I:1, J:1, K:1, L:1, M:1, N:1, O:1, P:1, Q:1, R:1, S:1, T:1, U:1, V:1, W:1, X:1, Y:1, Z:1, "\t":4, "\n":4, "\f":4, "\r":4, " ":4};
function ea(a, b) {
  var d = 0;
  function h() {
    d && (M(b, t(a.substring(0, d))), a = a.substring(d), d = 0);
  }
  function t(w) {
    return w.split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&");
  }
  function x(w, F, D) {
    for (var q = 0, y = D.length, u = 3, k, c; u < y && 2 !== q;) {
      c = D.charAt(u);
      switch(q) {
        case 0:
          C[c] & 4 ? q = 1 : ">" === c && (q = 2);
          q && (k = D.substring(2, u));
          break;
        case 1:
          ">" === c && (q = 2);
      }
      ++u;
    }
    return 2 === q ? (ca[k] || K(w, F, B || z ? k : k.toUpperCase(), !1), u) : 0;
  }
  function K(w, F, D, q) {
    var y = 0, u = w.length;
    if (D) {
      for (y = u; 0 <= y && w[--y] !== D;) {
      }
    }
    if (0 <= y) {
      for (; y < u;) {
        fa(F, w[--u], q && !A[w[u]], !1), B && aa[w[u]] && (B = !!F.ca);
      }
      w.length = y;
      if (z) {
        for (z = !1, u = y; u;) {
          if (0 < w[--u].indexOf(":")) {
            z = !0;
            break;
          }
        }
      }
    } else {
      fa(F, D, !1, !0);
    }
  }
  function N(w, F, D, q) {
    function y(n, G) {
      l[n] = !0 === G ? !0 : ba[n.toLowerCase()] ? B ? t(G || n) : !0 : t(G || "");
      ++v;
    }
    function u() {
      (Q = "/>" === q.substr(f, 2)) && ++f;
      return Q;
    }
    for (var k = 1, c = q.length, f = 2, l = {}, v = 0, Q = !1, e, I, H, E, L, g; f < c && 9 > k;) {
      e = q.charAt(f);
      switch(k) {
        case 1:
          if (C[e] & 4) {
            k = 2, I = q.substring(1, f);
          } else if (">" === e || u()) {
            k = 9, I = q.substring(1, f);
          }
          break;
        case 2:
          ">" === e || u() ? k = 9 : C[e] & 4 || (k = 3, H = f);
          break;
        case 3:
          if ("=" === e) {
            k = 5, E = q.substring(H, f);
          } else if (C[e] & 4) {
            k = 4, E = q.substring(H, f);
          } else if (">" === e || u()) {
            k = 9, y(q.substring(H, f), !0);
          }
          break;
        case 4:
          "=" === e ? k = 5 : ">" === e || u() ? (k = 9, y(E, !0)) : C[e] & 4 || (k = 3, y(E, !0), H = f);
          break;
        case 5:
          '"' === e || "'" === e ? (k = 6, L = e, H = f + 1) : C[e] & 4 || (k = 7, H = f);
          g = !1;
          break;
        case 6:
          g || e !== L || (k = 2, y(E, q.substring(H, f)));
          g = "\\" === e && !g;
          break;
        case 7:
          C[e] & 4 ? k = 2 : ">" === e && (k = 9), 7 !== k && y(E, q.substring(H, f));
      }
      ++f;
    }
    if (9 === k) {
      k = I.toUpperCase();
      B ||= !!aa[I];
      z ||= 0 < I.indexOf(":");
      if (!B && !z) {
        for (; F;) {
          if (A[F] && !A[F][k]) {
            K(w, D, F, !1), F = w[w.length - 1];
          } else {
            break;
          }
        }
      }
      (Q = Q || !!ca[k]) || (w[w.length] = B || z ? I : k);
      ha(D, B || z ? I : k, v ? l : null, Q);
      return f;
    }
    return 0;
  }
  for (var p = [], B = !!b.ca, z = !1, J = a.length - d, r, m; a;) {
    r = p[p.length - 1];
    if (da[r]) {
      if ("PLAINTEXT" === r || "plaintext" === r) {
        M(b, t(a)), a = "";
      } else {
        if (m = a.indexOf("</" + (B || z ? r : r.toLowerCase())), -1 === m && (m = a.indexOf("</" + (B || z ? r.toUpperCase() : r))), 0 <= m) {
          if (d = m, h(), r = x(p, b, a)) {
            a = a.substring(r);
          } else {
            throw a;
          }
        } else {
          throw a;
        }
      }
    } else if (a.indexOf("<!DOCTYPE ") === d) {
      if (h(), m = a.indexOf(">"), -1 !== m) {
        ia(b, a.substring(d, m + 1)), a = a.substring(m + 1);
      } else {
        throw a;
      }
    } else if (a.indexOf("<?") === d) {
      if (h(), m = a.indexOf("?>"), -1 !== m) {
        ja(b, t(a.substring(2, m))), a = a.substring(m + 2);
      } else {
        throw a;
      }
    } else if (a.indexOf("<![CDATA[") === d) {
      if (h(), m = a.indexOf("]]\x3e"), -1 !== m) {
        ka(b, t(a.substring(9, m))), a = a.substring(m + 3);
      } else {
        throw a;
      }
    } else if (a.indexOf("\x3c!--") === d) {
      if (h(), m = a.indexOf("--\x3e"), -1 !== m) {
        la(b, t(a.substring(4, m))), a = a.substring(m + 3);
      } else {
        throw a;
      }
    } else if (a.indexOf("</") === d && C[a.charAt(d + 2)] & 3) {
      if (h(), r = x(p, b, a)) {
        a = a.substring(r);
      } else {
        throw a;
      }
    } else if ("<" === a.charAt(d) && C[a.charAt(d + 1)] & 3) {
      if (h(), r = N(p, r, b, a)) {
        a = a.substring(r);
      } else {
        throw a;
      }
    } else {
      m = a.indexOf("<", d), -1 === m ? (M(b, t(a)), a = "") : d < m ? d = m : ++d;
    }
    r = a.length - d;
    if (r === J) {
      throw a;
    }
    J = r;
  }
  h();
  K(p, b, "", !0);
}
;var ma = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, script:!0, style:!0, textarea:!0}, na = {PRE:!0, LISTING:!0, pre:!0, listing:!0};
function O(a) {
  return a === "" + +a && a === a && a !== "" + 1 / 0 && a !== "" + -1 / 0 ? +a : a;
}
function oa(a) {
  if ("" + a === a || a === +a) {
    a = 3;
  } else {
    if (a && a.pop === [].pop) {
      var b = a[0];
      "" + b === b ? a = 1 : (b = a[0], a = b === +b ? a[0] : -1);
    } else {
      a = -1;
    }
  }
  return a;
}
function pa(a) {
  var b = a[0];
  var d = b === +b ? 2 : 1;
  d = 1 === oa(a) || 17 === b ? (b = a[d]) && b.pop === [].pop || !b || "object" !== typeof b ? d : d + 1 : 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
  b = d;
  d = "";
  var h;
  if (b < a.length) {
    for (h = b; h < a.length;) {
      b = a[h];
      var t = oa(b);
      3 === t ? (d = "" + b === b || b === +b ? d + b : d + b[1], a.splice(h, 1)) : (d && (a.splice(h, 0, O(d)), d = ""), ++h, 1 !== t && 17 !== t && 13 !== t && 16 !== t || pa(b));
    }
    d && (a[h] = O(d));
  }
}
function P(a, b) {
  for (; a.charAt(0) === b;) {
    a = a.substr(1);
  }
  return a;
}
function R(a, b) {
  for (; a.charAt(a.length - 1) === b;) {
    a = a.substr(0, a.length - 1);
  }
  return a;
}
;function S(a, b, d, h, t) {
  if (a === !!a) {
    var x = null;
    this.ba = a;
  } else {
    x = a, this.ba = x.ba;
  }
  this.da = x;
  this.$ = d;
  x && (x.aa || (x.aa = []), a = x.aa, 0 <= b && b < a.length ? a.splice(b, 0, this) : a.push(this));
  switch(d) {
    case 1:
    case 17:
      this.ia = t || null;
    case 18:
      this.ga = h;
      break;
    case 7:
    case 3:
    case 4:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      this.ha = h;
  }
}
function T(a) {
  switch(a.$) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      return a.ha;
  }
}
function U(a, b) {
  switch(a.$) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
      a.ha = b;
  }
}
function V(a) {
  return a.aa && a.aa.length;
}
function W(a, b) {
  return a.aa && a.aa[b] || null;
}
S.prototype.remove = function() {
  if (this.ba) {
    return null;
  }
  var a = this.da ? this.da.aa.indexOf(this) : -1;
  0 <= a && (this.da.aa.splice(a, 1), this.da = null);
};
function X(a, b, d, h) {
  return a.ba ? (a.ca = a.ca || [], a.ca.push([b, d, h]), null) : new S(a, V(a), b, d, h);
}
;function Y(a, b, d) {
  function h(c, f, l, v) {
    switch(c.$) {
      case 1:
      case 17:
        var Q = {};
        var e = c.ga;
        v = !!na[e];
        var I = c.ia, H = 0, E;
        if (I) {
          for (E in I) {
            var L = ba[E] ? 1 : I[E];
            if ("id" === E) {
              var g = L;
            } else if ("class" === E) {
              var n = L;
            } else {
              if (E.startsWith(q)) {
                var G = t(L);
                G.ea ? (L = [G.fa], z.apply(L, G.ea)) : L = G.fa;
              }
              Q[E] = O(L);
              ++H;
            }
          }
        }
        g && (e += "#" + g);
        n && (e += "." + n);
        if (v && J) {
          for (; g = K(c);) {
            if (p(T(g))) {
              U(g, P(T(g), "\n"));
              break;
            } else {
              g.remove();
            }
          }
          for (; g = N(c);) {
            if (p(T(g))) {
              U(g, R(T(g), "\n"));
              break;
            } else {
              g.remove();
            }
          }
        }
        g = H ? [e, Q] : [e];
        for (n = 0; n < V(c); ++n) {
          h(W(c, n), g, v || l, !!ma[e]);
        }
        f.push(g);
        17 !== c.$ || g.unshift(17);
        break;
      case 18:
        f.push([18, c.ga]);
        break;
      case 3:
        c = "" + T(c);
        if (!l && J) {
          if (v) {
            c = R(P(c, "\n"), "\n");
          } else {
            c = c.split("\r\n").join("\n");
            m && (c = c.replace(/([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])\s([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g, "$1$2"));
            for (c = c.split("\t").join(" "); 0 <= c.indexOf("\n\n");) {
              c = c.split("\n\n").join("\n");
            }
            r && (e = "\n" === c.charAt(0) && /\n[ ]*$/.test(c));
            c = R(c, "\n");
            for (c = c.split("\n").join(" "); 0 <= c.indexOf("  ");) {
              c = c.split("  ").join(" ");
            }
            e && (c = R(P(c, " "), " "));
            c = c.split("\\u0020").join(" ").split("&#x20;").join(" ").split("&#32;").join(" ");
          }
        }
        (e = O(c)) && f.push(e);
        break;
      case 4:
        w && (e = T(c), f.push([4, O(e)]));
        break;
      case 7:
        e = T(c);
        G = t(e);
        g = [7, G.fa];
        G.ea && z.apply(g, G.ea);
        f.push(g);
        break;
      case 8:
        e = T(c);
        if (e.startsWith("[if") && 0 < e.indexOf("<![endif]")) {
          c = Z(x(e, ">", "<![endif]", !0), !0);
          g = [13, x(e, "[", "]", !1)];
          for (n = 0; n < V(c); ++n) {
            h(W(c, n), g, l, v);
          }
          (2 < g.length || D) && f.push(g);
        } else if (e.startsWith("{") && 2 < e.indexOf("};")) {
          c = Z(e.substring(e.indexOf("};") + 2), !0);
          g = [16, x(e, "{", "};", !1)];
          for (n = 0; n < V(c); ++n) {
            h(W(c, n), g, l, v);
          }
          (2 < g.length || D) && f.push(g);
        } else {
          e.startsWith("[if") && 0 < e.indexOf("><!") ? (f.push([14, x(e, "[", "]", !1)]), k = !0) : "<![endif]" === e && k ? (l = f[f.length - 1], D || !l || 14 !== l[0] ? f.push([15]) : l && f.pop(), k = !1) : F && f.push([8, O(e)]);
        }
        break;
      case 9:
        e = T(c);
        J && (e = e.split("\n").join(" ").split("  ").join(" "));
        g = [9, e];
        f.push(g);
        for (n = 0; n < V(c); ++n) {
          h(W(c, n), g, !1, !1);
        }
        break;
      case 11:
        for (g = [11], f.push(g), n = 0; n < V(c); ++n) {
          h(W(c, n), g, l, v);
        }
    }
  }
  function t(c) {
    var f = c.indexOf(y), l = R(P(-1 === f ? c : c.substr(0, f), " "), " ");
    c = -1 === f ? [] : JSON.parse("[" + c.substring(f + y.length, c.lastIndexOf(u) - 2) + "]");
    return c.length ? {fa:l, ea:c} : {fa:l};
  }
  function x(c, f, l, v) {
    f = c.indexOf(f) + f.length;
    l = v ? c.lastIndexOf(l) : c.indexOf(l, f);
    return c.substring(f, l);
  }
  function K(c) {
    for (var f = 0, l = V(c), v; f < l; ++f) {
      if (v = W(c, f), 1 !== v.$ && 17 !== v.$ || (v = K(v)), v && 3 === v.$) {
        return v;
      }
    }
  }
  function N(c) {
    for (var f = V(c), l; f;) {
      if (l = W(c, --f), 1 !== l.$ && 17 !== l.$ || (l = N(l)), l && 3 === l.$) {
        return l;
      }
    }
  }
  function p(c) {
    return c.split("\n").join("").split(" ").join("").split("\t").join("");
  }
  const B = [], z = B.push;
  a = Z(a, b);
  d = d || {};
  const J = -1 === ["none", !1].indexOf(d.trimWhitespaces), r = "aggressive" === d.trimWhitespaces, m = !!d.removeNewlineBetweenFullWidthChars, w = !0 === d.keepCDATASections, F = !0 === d.keepComments, D = !0 === d.keepEmptyConditionalComment, q = d.instructionAttrPrefix || ":";
  d = d.argumentBrackets || "()";
  const y = d.substr(0, d.length / 2), u = d.substr(d.length);
  let k = !1;
  h(a, B, !1, !1);
  pa(B[0]);
  return B[0];
}
function Z(a, b) {
  b = new qa(b);
  ea(a, b);
  return b.aa;
}
function qa(a) {
  this.ba = a;
  this.$ = this.aa = new S(!1, 0, 11);
}
function ia(a, b) {
  a.aa.$ = 9;
  U(a.aa, b);
}
function ha(a, b, d, h) {
  h ? (a = a.$, a.ba ? (a.ca = a.ca || [], a.ca.push([1, b, d, void 0])) : new S(a, V(a), 1, b, d)) : a.$ = X(a.$, 17, b, d);
}
function fa(a, b, d, h) {
  if (h) {
    a.ba && X(a.$, 18, b);
  } else if (!d || !a.ba) {
    if (b === a.$.ga) {
      a.$.$ = 1, a.$ = a.$.da;
    } else {
      throw "End tag error! " + b;
    }
  }
}
function M(a, b) {
  X(a.$, 3, b);
}
function la(a, b) {
  X(a.$, 8, b);
}
function ka(a, b) {
  X(a.$, 4, b);
}
function ja(a, b) {
  X(a.$, 7, b);
}
;Y.module = {};
module.exports = Y;
Y.DOCUMENT_NODE = 9;
Y.DOCUMENT_FRAGMENT_NODE = 11;
Y.ELEMENT_NODE = 1;
Y.TEXT_NODE = 3;
Y.CDATA_SECTION = 4;
Y.PROCESSING_INSTRUCTION = 7;
Y.COMMENT_NODE = 8;
Y.COND_CMT_HIDE_LOWER = 13;
Y.COND_CMT_SHOW_LOWER_START = 14;
Y.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Y.ELEMENT_START_TAG = 17;
Y.ELEMENT_END_TAG = 18;
Y.gulp = function(a) {
  const b = require("plugin-error"), d = require("through2"), h = a || {}, t = h.prettify;
  let x = 0, K = 0, N = 0;
  return d.obj(function(p, B, z) {
    if (p.isNull()) {
      return z();
    }
    if (p.isStream()) {
      return this.emit("error", new b("html2json", "Streaming not supported")), z();
    }
    if (".html" === p.extname || ".htm" === p.extname || ".xhtml" === p.extname || ".php" === p.extname) {
      try {
        const J = p.contents.toString(B), r = performance.now(), m = Y(J, !1, h);
        ++x;
        K += J.length;
        N += performance.now() - r;
        p.contents = Buffer.from(JSON.stringify(m, null, t ? "    " : ""));
        p.stem += p.extname;
        p.extname = ".json";
      } catch (J) {
        return this.emit("error", new b("html2json", J)), z();
      }
    }
    this.push(p);
    z();
  }, function(p) {
    console.log("[html2json] done!");
    console.log("  Number of files: " + x);
    console.log("  Total file size: " + (K / 100 | 0) / 10 + "KB");
    console.log("  Total Time     : " + (N | 0) + "ms");
    console.log("  Time per file  : " + (N / x * 100 | 0) / 100 + "ms");
    console.log("  Time per size  : " + (N / K * 1E5 | 0) + "ms/100KB");
    p();
  });
};

