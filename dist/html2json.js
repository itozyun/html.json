var da = {xml:!0, svg:!0, math:!0}, ea = {async:!0, autofocus:!0, checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, draggable:!0, hidden:!0, ismap:!0, loop:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, novalidate:!0, nowrap:!0, readonly:!0, required:!0, reversed:!0, scoped:!0, selected:!0}, fa = {AREA:!0, BASE:!0, COL:!0, EMBED:!0, BR:!0, HR:!0, IMG:!0, INPUT:!0, LINK:!0, META:!0, SOURCE:!0, TRACK:!0, WBR:!0, BASEFONT:!0, BGSOUND:!0, COMMAND:!0, FRAME:!0, ISINDEX:!0, KEYGEN:!0, PARAM:!0, 
SPACER:!0}, ha = {MAP:!0, DATALIST:!0, DL:!0, OL:!0, UL:!0, SELECT:!0, OPTGROUP:!0, TABLE:!0, THEAD:!0, TFOOT:!0, TBODY:!0, COLGROUP:!0, TR:!0, HEAD:!0, DIR:!0, FRAMESET:!0, MENU:!0}, ia = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, LISTING:!0, PLAINTEXT:!0, XMP:!0}, ja = {TEXTAREA:!0, TITLE:!0, LISTING:!0}, G = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, 
DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, 
SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, 
EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, 
SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, 
DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0, FRAMESET:!0}, HEAD:{TITLE:!0, BASE:!0, LINK:!0, META:!0, 
STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, BGSOUND:!0, ISINDEX:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}};
G.LI = G.TD = G.DD;
G.TH = G.DT;
G.RP = G.RT = G.P;
G.RB = G.RP;
G.RTC = G.RBC = {RB:!0, RP:!0, RT:!0};
G.TFOOT = G.THEAD = G.TBODY;
var H = {a:2, b:2, c:2, d:2, e:2, f:2, g:2, h:2, i:2, j:2, k:2, l:2, m:2, n:2, o:2, p:2, q:2, r:2, s:2, t:2, u:2, v:2, w:2, x:2, y:2, z:2, A:1, B:1, C:1, D:1, E:1, F:1, G:1, H:1, I:1, J:1, K:1, L:1, M:1, N:1, O:1, P:1, Q:1, R:1, S:1, T:1, U:1, V:1, W:1, X:1, Y:1, Z:1, "\t":4, "\n":4, "\f":4, "\r":4, " ":4};
function J(a) {
  return a.split("&lt;").join("<").split("&gt;").join(">").split("&amp;lt;").join("&lt;").split("&amp;gt;").join("&gt;");
}
function ka(a) {
  return J(a).split('\\"').join('"').split("\\'").join("'");
}
function la(a, b, c) {
  function g() {
    x || u ? t = "" : t = y ? z.toUpperCase() : z;
  }
  function k() {
    m = a.indexOf("<", m + 1);
    -1 === m && (m = a.length, f());
  }
  function f() {
    if (m) {
      var r = a.substr(0, m);
      a = a.substr(m);
      m = 0;
      (d || z && !ha[t]) && (r = I && !ja[t] ? r : J(r)) && b.$.push([3, M(r)]);
    }
  }
  function e(r) {
    b.ka && b.ka(r);
  }
  function n(r) {
    for (var h = 0, E = a.length, l = 3, D, v; l < E && 2 !== h; ++l) {
      switch(D = a.charAt(l), h) {
        case 0:
          H[D] & 4 ? h = 1 : ">" === D && (h = 2);
          h && (v = a.substring(2, l));
          break;
        case 1:
          ">" === D && (h = 2);
      }
    }
    if (2 === h) {
      a = a.substr(l), x || u ? w(r, v, !1) : (h = v.toUpperCase(), fa[h] || w(r, y ? v : h, !1));
    } else {
      return e(a), !0;
    }
  }
  function w(r, h, E) {
    var l = 0, D = r.length;
    if (h) {
      for (l = D; 0 <= l && r[--l] !== h;) {
      }
    }
    if (0 <= l) {
      for (; l < D;) {
        h = r[--D];
        var v;
        if (v = E) {
          v = r[D], y && (v = v.toUpperCase()), v = !G[v];
        }
        oa(b, h, v, !1);
        x && da[r[D]] && (x = !1);
      }
      r.length = l;
      if (u) {
        for (u = !1, D = l; D;) {
          if (0 < r[--D].indexOf(":")) {
            u = !0;
            break;
          }
        }
      }
    } else {
      oa(b, h, !1, !0);
    }
    z = A[A.length - 1] || "";
    g();
  }
  function p(r) {
    function h(aa, ba) {
      S[aa] = !0 === ba ? x ? aa : ba : ea[aa.toLowerCase()] ? x ? ka(ba || aa) : !0 : ka(ba || "");
      ++ma;
    }
    function E() {
      (Q = "/>" === a.substr(v, 2)) && ++v;
      return Q;
    }
    for (var l = 1, D = a.length, v = 2, S = {}, ma = 0, Q = !1, F, L, K, T, na, ca, X; v < D && 9 > l; ++v) {
      switch(F = a.charAt(v), l) {
        case 1:
          H[F] & 4 ? (l = 2, L = a.substring(1, v)) : ">" === F ? (l = 9, L = a.substring(1, v)) : E() && (l = 9, L = a.substring(1, v - 1));
          break;
        case 2:
          ">" === F || E() ? l = 9 : H[F] & 4 || (l = 3, K = v);
          break;
        case 3:
          "=" === F ? (l = 5, T = a.substring(K, v)) : H[F] & 4 ? (l = 4, T = a.substring(K, v)) : ">" === F ? (l = 9, h(a.substring(K, v), !0)) : E() && (l = 9, h(a.substring(K, v - 1), !0));
          break;
        case 4:
          "=" === F ? l = 5 : ">" === F || E() ? (l = 9, h(T, !0)) : H[F] & 4 || (l = 3, h(T, !0), K = v);
          break;
        case 5:
          '"' === F || "'" === F ? (l = 6, na = F, K = v + 1) : H[F] & 4 || (l = 7, K = v);
          ca = !1;
          break;
        case 6:
          ca || F !== na || (l = 2, h(T, a.substring(K, v)));
          ca = "\\" === F && !ca;
          break;
        case 7:
          H[F] & 4 ? l = 2 : ">" === F && (l = 9), 7 !== l && h(T, a.substring(K, v));
      }
    }
    if (9 === l) {
      x ||= !!da[L];
      u ||= 0 < L.indexOf(":");
      if (l = x || u) {
        Q || (z = A[A.length] = L, g());
      } else {
        for (X = L.toUpperCase(); z;) {
          if (G[t] && !G[t][X]) {
            w(r, z, !1);
          } else {
            break;
          }
        }
        Q = Q || !!fa[X];
        Q || (z = A[A.length] = y ? L : X, g());
      }
      a = a.substr(v);
      pa(b, y || l ? L : X, ma ? S : null, Q);
    } else {
      return e(a), !0;
    }
  }
  var y = !1, A = [], d = !0, x = !1, u = !1, m = -1, t, B;
  var z = A[A.length - 1] || "";
  g();
  for (k(); a;) {
    var I = ia[t];
    if (a.indexOf("<?") === m) {
      d && a.length === c && a.indexOf("<?xml ") === m && (d = !1, y = !0);
      f();
      var q = a.indexOf("?>");
      if (-1 !== q) {
        var C = a.substring(2, q);
        a = a.substr(q + 2);
        qa(b, J(C));
      } else {
        e(a);
        return;
      }
    } else if (a.indexOf("</", m) === m && H[a.charAt(m + 2)] & 3) {
      if (I && ("PLAINTEXT" === t ? B = !0 : a.indexOf(y ? z : z.toLowerCase(), m) !== m + 2 && a.indexOf(t, m) !== m + 2 && (B = !0)), B) {
        k(), B = !1;
      } else {
        if (f(), n(A)) {
          return;
        }
      }
    } else if (I) {
      k();
    } else if ("<" === a.charAt(m) && H[a.charAt(m + 1)] & 3) {
      if (f(), p(A)) {
        return;
      }
    } else if (a.indexOf("\x3c!--") === m) {
      if (f(), q = a.indexOf("--\x3e"), -1 !== q) {
        C = a.substring(4, q), a = a.substr(q + 3), ra(b, J(C));
      } else {
        e(a);
        return;
      }
    } else if (a.indexOf("<![CDATA[") === m) {
      if (f(), q = a.indexOf("]]\x3e"), -1 !== q) {
        C = a.substring(9, q), a = a.substr(q + 3), sa(b, J(C));
      } else {
        e(a);
        return;
      }
    } else if (a.indexOf("<!DOCTYPE ") === m || a.indexOf("<!doctype ") === m) {
      if (a = a.substr(m), m = 0, q = a.indexOf(">"), -1 !== q) {
        C = a.substring(0, q + 1), a = a.substr(q + 1), d && (y = 0 < C.indexOf("-//W3C//DTD XHTML ")), d = !1, ta(b, C);
      } else {
        e(a);
        return;
      }
    } else {
      k();
    }
  }
  w(A, "", !0);
}
;function N(a) {
  return a === "" + a;
}
function O(a) {
  return !!a && a.constructor === Array;
}
;function P(a, b, c) {
  var g = a, k = ua(g), f = 0, e = b(a, null, -1, f / 3), n = [-1, a, k], w = !1;
  if (Infinity === e || -Infinity === e) {
    return !1;
  }
  if (0 < g.length - k) {
    do {
      var p = ++n[f];
      var y = g[p + k];
      if (null != y) {
        e = b(y, g, p + k, f / 3 + 1);
        if (Infinity === e) {
          return w;
        }
        if (-Infinity !== e) {
          if (-1 >= e) {
            n[f] += e, w = !0;
          } else {
            if (1 <= e && (n[f] += e, w = !0), ua(y) < y.length) {
              f += 3, n[f] = -1, n[f + 1] = g = y, n[f + 2] = k = ua(y);
            } else if (c && g) {
              e = c(y, g, p + k, f / 3 + 1);
              if (Infinity === e) {
                return w;
              }
              -Infinity !== e && (-1 >= e || 1 <= e) && (n[f] += e, w = !0);
            }
          }
        }
      } else {
        if (n.length = f, f -= 3, g = n[f + 1], k = n[f + 2], c && g) {
          p = n[f] + k;
          e = c(g[p], g, p, f / 3 + 1);
          if (Infinity === e) {
            return w;
          }
          -Infinity !== e && (-1 >= e || 1 <= e) && (n[f] += e, w = !0);
        }
      }
    } while (0 <= f);
  }
  c && c(a, null, -1, 0);
  return w;
}
;var va = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, script:!0, style:!0, textarea:!0}, wa = {PRE:!0, LISTING:!0, pre:!0, listing:!0};
function R(a) {
  return N(a) || a === +a;
}
function U(a) {
  var b;
  if (b = a === "" + +a) {
    b = +a, b = b === +b && b !== b + 1;
  }
  return b ? +a : a;
}
function V(a) {
  if (R(a)) {
    a = 3;
  } else {
    if (O(a)) {
      if (N(a[0])) {
        a = 1;
      } else {
        var b = a[0];
        a = b === +b ? a[0] : -1;
      }
    } else {
      a = -1;
    }
  }
  return a;
}
function ua(a) {
  var b = a[0], c = V(a);
  return 1 === c || 17 === c ? (b = b === +b ? 2 : 1, a = a[b], !O(a) && a && "object" === typeof a ? b + 1 : b) : 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
}
function M(a) {
  return a.split("\r\n").join("\n").split("\r").join("\n");
}
function W(a, b) {
  for (; a.charAt(0) === b;) {
    a = a.substr(1);
  }
  return a;
}
function Y(a, b) {
  for (; a.charAt(a.length - 1) === b;) {
    a = a.substr(0, a.length - 1);
  }
  return a;
}
function xa(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), g = "", k = "";
  b < c ? (g = a.split(".")[1], a = a.split(".")[0], 0 < b && (k = a.split("#")[1], a = a.split("#")[0])) : c < b && (k = a.split("#")[1], a = a.split("#")[0], 0 < c && (g = a.split(".")[1], a = a.split(".")[0]));
  return [a, k, g];
}
function ya(a, b, c) {
  b && (a += "#" + b);
  c && (a += "." + c);
  return a;
}
function za(a) {
  function b(A, d) {
    f[Y(A, " ")] = "0px" === d ? 0 : U(Y(d, " "));
    ++e;
  }
  for (var c = 0, g = a.length, k = 0, f = {}, e = 0, n, w, p = "", y; k < g; ++k) {
    n = a.charAt(k);
    switch(c) {
      case 0:
        if (H[n] & 4) {
          break;
        }
        w = k;
        c = 1;
      case 1:
        ":" === n && (y = a.substring(w, k), c = 2);
        break;
      case 2:
        if (H[n] & 4) {
          break;
        }
        w = k;
        c = 3;
      case 3:
        '"' === n || "'" === n ? (p = n, c = 4) : ";" === n && (b(y, a.substring(w, k)), c = 0);
        break;
      case 4:
        p === n && (p = "", c = 3);
    }
    3 <= c && b(y, a.substring(w));
  }
  return e ? f : null;
}
;function Aa(a, b) {
  function c(d, x, u) {
    function m(B, z) {
      for (; 0 <= d.indexOf(B);) {
        d = d.split(B).join(z);
      }
    }
    u && (d = d.replace(/([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])\s([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g, "$1$2"));
    d = d.split("\t").join(" ");
    m("\n\n", "\n");
    m("  ", " ");
    if (x && ("\n " === d.substr(d.length - 2) && (d = Y(d, " ")), "\n" === d.charAt(d.length - 1))) {
      var t = "\n" === d.charAt(0);
    }
    d = Y(d, "\n");
    d = d.split("\n").join(" ");
    m("  ", " ");
    t && (d = Y(W(d, " "), " "));
    d = d.split("\\u0020").join(" ").split("&#x20;").join(" ").split("&#32;").join(" ");
    return U(d);
  }
  function g(d, x) {
    function u(q) {
      return q.split("\n").join("").split(" ").join("").split("\t").join("");
    }
    function m(q) {
      var C;
      P(q, function(r, h, E) {
        3 === V(r) && (C = [r, h, E]);
      });
      return C;
    }
    var t, B;
    for (P(d, function(q, C, r) {
      if (3 === V(q)) {
        q = "" + (R(q) ? q : q[1]);
        if (u(q)) {
          return C.splice(r, 1, W(q, "\n")), Infinity;
        }
        C.splice(r, 1);
        return -1;
      }
    }); t = m(d);) {
      var z = t[0];
      var I = t[1];
      t = t[2];
      z = "" + (R(z) ? z : z[1]);
      if (u(z)) {
        I.splice(t, 1, Y(z, "\n"));
        break;
      } else {
        I.splice(t, 1);
      }
    }
    if (x) {
      for (; P(d, function(q, C, r) {
        if (3 === V(q)) {
          var h = m(d);
          var E = h ? C === h[1] && r === h[2] : !1;
          h = "" + (R(q) ? q : q[1]);
          for (var l = h.split("\n"), D = 0, v = l.length, S; D < v - (E ? 0 : 1); ++D) {
            for (h = l[D];;) {
              if (S = h.charAt(h.length - 1), "\t" === S || " " === S) {
                h = h.substr(0, h.length - 1);
              } else {
                break;
              }
            }
            l[D] = h;
          }
          h = l.join("\n");
          if ("\n" === h && B) {
            return q = B[0], E = B[1], l = B[2], R(q) ? E[l] += h : q[1] += h, C.splice(r, 1), -1;
          }
          R(q) ? C[r] = h : q[1] = h;
          B = [q, C, r];
        }
      });) {
      }
    }
  }
  b = b || {};
  var k = -1 !== ["normal", !0, "aggressive"].indexOf(b.trimWhitespaces), f = "aggressive" === b.trimWhitespaces, e = !!b.removeNewlineBetweenFullWidthChars, n = !1 !== b.keepCDATASections, w = !1 !== b.keepComments, p = !0 === b.keepEmptyConditionalComment, y = b.instructionAttrPrefix || ":", A;
  P(a, function(d, x, u) {
    var m = d[0], t = d[1], B = 1;
    switch(V(d)) {
      case 9:
        k && (d[1] = t.split("\n").join(" ").split("  ").join(" ").split("?> <!").join("?>\n<!"));
        break;
      case 3:
        O(d) || (t = d);
        if (N(t)) {
          if (A || (t = M(t), k && (t = c(t, f, e))), "" !== t) {
            x[u] = t;
          } else {
            return x.splice(u, 1), -1;
          }
        }
        break;
      case 4:
        if (!n) {
          return x.splice(u, 1), -1;
        }
        break;
      case 8:
        if (!w) {
          return x.splice(u, 1), -1;
        }
        break;
      case 15:
        var z = x[u - 1];
        if (!p && z && 14 === z[0]) {
          return x.splice(u - 1, 2), -2;
        }
        break;
      case 1:
      case 17:
        m === +m && (m = t, B = 2);
        m = xa(m)[0];
        var I = d[B];
        if (!O(I) && I && "object" === typeof I) {
          x = B - 1;
          u = 0;
          t = xa(d[x]);
          var q = t[1], C = t[2];
          t = t[0];
          for (r in I) {
            if (I = 0 === r.indexOf(y)) {
              var r = r.substr(y.length);
              "className" === r && (r = "class");
            }
            ++u;
          }
          d[x] = ya(t, q, C);
          0 === u && d.splice(B, 1);
        }
        if (wa[m]) {
          g(d, f), A = d;
        } else if (va[m]) {
          d = A = d;
          m = ua(d);
          B = d.length;
          for (var h, E, l; m < B; ++m) {
            r = d[m], 3 === V(r) && (z = z || m, h = h || r, E = m, l = r);
          }
          z && (O(h) && (h = h[1]), O(l) && (l = l[1]), z === E ? N(h) && (h = M(h), h = Y(W(h, "\n"), "\n"), d[z] = U(h)) : (N(h) && (h = M(h), h = W(h, "\n"), d[z] = U(h)), N(l) && (l = M(l), l = Y(l, "\n"), d[E] = U(l))));
        }
    }
  }, function(d, x, u) {
    if (!p) {
      switch(V(d)) {
        case 13:
        case 16:
          if (2 === d.length) {
            return x.splice(u, 1), -1;
          }
      }
    }
    A === d && (A = null);
  }) && Ba(a);
}
function Ba(a) {
  function b() {
    k.splice(f, 0, U(c));
    c = "";
  }
  var c = "", g, k, f;
  P(a, function(e, n, w, p) {
    if (c && g !== p) {
      return b(), 1;
    }
    if (3 === V(e)) {
      return c = R(e) ? c + e : c + e[1], n.splice(w, 1), g = p, k = n, f = w, -1;
    }
    if (c) {
      return b(), 1;
    }
  });
  c && b();
}
;function Z(a, b, c, g) {
  g = g || {};
  const k = g.argumentBrackets || "()";
  a = Ca(a, g.instructionAttrPrefix || ":", k.substr(0, k.length / 2), k.substr(k.length / 2), !!b, c);
  null == g.trimWhitespaces && (g.trimWhitespaces = !0);
  null == g.keepCDATASections && (g.keepCDATASections = !1);
  null == g.keepComments && (g.keepComments = !1);
  null == g.keepEmptyConditionalComment && (g.keepEmptyConditionalComment = !1);
  Aa(a, g);
  return a;
}
function Da(a, b, c, g) {
  var k = a.indexOf(b);
  c = a.lastIndexOf(c);
  var f = Y(W(-1 === k ? a : a.substr(0, k), " "), " ");
  if (-1 !== k) {
    try {
      var e = JSON.parse("[" + a.substring(k + b.length, c) + "]");
    } catch (n) {
      g && g(n);
    }
  }
  return e && e.length ? [f, e] : [f];
}
function Ca(a, b, c, g, k, f) {
  b = new Ea(b, c, g, k, f);
  la(a, b, a.length);
  return b.ba;
}
function Ea(a, b, c, g, k) {
  this.ga = a;
  this.ea = b;
  this.da = c;
  this.ja = g;
  this.aa = k;
  this.$ = this.ba = [11];
  this.fa = [this.ba];
  this.ha = !1;
}
Ea.prototype.ka = function(a) {
  this.aa && this.aa(a);
};
function ta(a, b) {
  a.ia && (b = "<?" + a.ia + "?>\n" + b, a.ia = "");
  a.ba.splice(0, 1, 9, b);
}
function qa(a, b) {
  if (1 !== a.ba.length || b.indexOf("xml ")) {
    b = Da(b, a.ea, a.da, a.aa);
    var c = [7, b[0]];
    b[1] && c.push.apply(c, b[1]);
    a.$.push(c);
  } else {
    a.ia = b;
  }
}
function pa(a, b, c, g) {
  var k = 0, f;
  if (c) {
    for (f in c) {
      var e = ea[f] ? 1 : c[f];
      if ("id" === f) {
        var n = e;
        delete c[f];
      } else if ("class" === f) {
        var w = e;
        delete c[f];
      } else {
        if ("style" === f) {
          e = za(e);
          if (!e) {
            delete c[f];
            continue;
          }
          var p = void 0;
          var y = e, A = [], d = -1;
          for (p in y) {
            e = y[p];
            "0px" === e && (e = 0);
            for (var x = ++d, u, m = [], t = p.split(""), B = t.length; B;) {
              u = t[--B], "A" <= u && "Z" >= u && (u = "-" + u.toLowerCase()), m[B] = u;
            }
            u = m.join("");
            A[x] = u + ":" + e;
          }
          e = A.join(";");
        } else {
          f.startsWith(a.ga) && (p = Da(e, a.ea, a.da, a.aa), p[1] ? (e = [p[0]], e.push.apply(e, p[1])) : e = p[0]);
        }
        c[f] = U(e);
        ++k;
      }
    }
  }
  b = [ya(b, n, w)];
  k && (b[1] = c);
  a.$.push(b);
  g || (b.unshift(17), a.$ = b, a.fa.push(b));
}
function oa(a, b, c, g) {
  g ? a.ja && a.$.push([18, b]) : c && a.ja || (b === xa(a.$[1])[0] ? (a.$.shift(), a.fa.pop(), a.$ = a.fa[a.fa.length - 1]) : a.aa && a.aa("End tag error! " + b));
}
function ra(a, b) {
  function c(k, f, e, n) {
    f = k.indexOf(f) + f.length;
    e = n ? k.lastIndexOf(e) : k.indexOf(e, f);
    return k.substring(f, e);
  }
  if (b.startsWith("[if") && 0 < b.indexOf("<![endif]")) {
    var g = Ca(c(b, ">", "<![endif]", !0), a.ga, a.ea, a.da, !0, a.aa);
    g.splice(0, 1, 13, c(b, "[", "]", !1));
  } else {
    b.startsWith("{") && 2 < b.indexOf("};") ? (g = Ca(b.substring(b.indexOf("};") + 2), a.ga, a.ea, a.da, !0, a.aa), g.splice(0, 1, 16, c(b, "{", "};", !1))) : b.startsWith("[if") && 0 < b.indexOf("><!") ? (g = [14, c(b, "[", "]", !1)], a.ha = !0) : "<![endif]" === b && a.ha ? (g = [15], a.ha = !1) : g = [8, U(M(b))];
  }
  a.$.push(g);
}
function sa(a, b) {
  a.$.push([4, U(M(b))]);
}
;module.exports = Z;
Z.DOCUMENT_NODE = 9;
Z.DOCUMENT_FRAGMENT_NODE = 11;
Z.ELEMENT_NODE = 1;
Z.TEXT_NODE = 3;
Z.CDATA_SECTION = 4;
Z.PROCESSING_INSTRUCTION = 7;
Z.COMMENT_NODE = 8;
Z.COND_CMT_HIDE_LOWER = 13;
Z.COND_CMT_SHOW_LOWER_START = 14;
Z.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Z.ELEMENT_START_TAG = 17;
Z.ELEMENT_END_TAG = 18;
Z.gulp = function(a, b) {
  const c = require("plugin-error"), g = require("through2"), k = b || {}, f = k.prettify;
  let e = 0, n = 0, w = 0;
  return g.obj(function(p, y, A) {
    if (p.isNull()) {
      return A();
    }
    if (p.isStream()) {
      return this.emit("error", new c("html2json", "Streaming not supported")), A();
    }
    if (".html" === p.extname || ".htm" === p.extname || ".xhtml" === p.extname || ".php" === p.extname) {
      try {
        const d = p.contents.toString(y), x = performance.now(), u = Z(d, !1, a, k);
        ++e;
        n += d.length;
        w += performance.now() - x;
        p.contents = Buffer.from(JSON.stringify(u, null, f ? "    " : ""));
        p.stem += p.extname;
        p.extname = ".json";
      } catch (d) {
        return this.emit("error", new c("html2json", d)), A();
      }
    }
    A(null, p);
  }, function(p) {
    console.log("[html2json] done!");
    console.log("  Number of files: " + e);
    console.log("  Total file size: " + (n / 100 | 0) / 10 + "KB");
    console.log("  Total Time     : " + (w | 0) + "ms");
    console.log("  Time per file  : " + (w / e * 100 | 0) / 100 + "ms");
    console.log("  Time per size  : " + (w / n * 1E5 | 0) + "ms/100KB");
    p();
  });
};

