var ba = {xml:!0, svg:!0, math:!0}, ca = {async:!0, autofocus:!0, checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, draggable:!0, hidden:!0, ismap:!0, loop:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, novalidate:!0, nowrap:!0, readonly:!0, required:!0, reversed:!0, scoped:!0, selected:!0}, da = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, 
WBR:!0, area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, ea = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, LISTING:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0, listing:!0}, fa = {TEXTAREA:!0, TITLE:!0, textarea:!0, title:!0}, F = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, 
H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, 
SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, 
I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, 
A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, 
SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, 
SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
F.LI = F.TD = F.DD;
F.TH = F.DT;
F.RB = F.RP = F.RT = F.P;
F.TFOOT = F.THEAD = F.TBODY;
F.RTC = F.RBC;
var G = {a:2, b:2, c:2, d:2, e:2, f:2, g:2, h:2, i:2, j:2, k:2, l:2, m:2, n:2, o:2, p:2, q:2, r:2, s:2, t:2, u:2, v:2, w:2, x:2, y:2, z:2, A:1, B:1, C:1, D:1, E:1, F:1, G:1, H:1, I:1, J:1, K:1, L:1, M:1, N:1, O:1, P:1, Q:1, R:1, S:1, T:1, U:1, V:1, W:1, X:1, Y:1, Z:1, "\t":4, "\n":4, "\f":4, "\r":4, " ":4};
function H(a) {
  return a.split("&lt;").join("<").split("&gt;").join(">").split("&amp;lt;").join("&lt;").split("&amp;gt;").join("&gt;");
}
function ha(a) {
  return H(a).split('\\"').join('"').split("\\'").join("'");
}
function ia(a, b, c) {
  function g() {
    r = a.indexOf("<", r + 1);
    -1 === r && (r = a.length, h());
  }
  function h() {
    if (r) {
      var k = a.substr(0, r);
      (k = B && !fa[d] ? k : H(k)) && b.$.push([3, J(k)]);
      a = a.substr(r);
      r = 0;
    }
  }
  function e(k) {
    b.ja && b.ja(k);
  }
  function f(k, v, x) {
    for (var w = 0, t = x.length, u = 3, l, m; u < t && 2 !== w;) {
      m = x.charAt(u);
      switch(w) {
        case 0:
          G[m] & 4 ? w = 1 : ">" === m && (w = 2);
          w && (l = x.substring(2, u));
          break;
        case 1:
          ">" === m && (w = 2);
      }
      ++u;
    }
    return 2 === w ? (da[l] || q(k, v, c || D ? l : l.toUpperCase(), !1), u) : 0;
  }
  function q(k, v, x, w) {
    var t = 0, u = k.length;
    if (x) {
      for (t = u; 0 <= t && k[--t] !== x;) {
      }
    }
    if (0 <= t) {
      for (; t < u;) {
        ka(v, k[--u], w && !F[k[u]], !1), c && ba[k[u]] && (c = !!v.ka);
      }
      k.length = t;
      if (D) {
        for (D = !1, u = t; u;) {
          if (0 < k[--u].indexOf(":")) {
            D = !0;
            break;
          }
        }
      }
    } else {
      ka(v, x, !1, !0);
    }
  }
  function y(k, v, x, w) {
    function t(Z, aa) {
      E[Z] = !0 === aa ? !0 : ca[Z.toLowerCase()] ? c ? ha(aa || Z) : !0 : ha(aa || "");
      ++N;
    }
    function u() {
      (O = "/>" === w.substr(z, 2)) && ++z;
      return O;
    }
    for (var l = 1, m = w.length, z = 2, E = {}, N = 0, O = !1, C, P, I, R, ja, X; z < m && 9 > l;) {
      C = w.charAt(z);
      switch(l) {
        case 1:
          if (G[C] & 4) {
            l = 2, P = w.substring(1, z);
          } else if (">" === C || u()) {
            l = 9, P = w.substring(1, z);
          }
          break;
        case 2:
          ">" === C || u() ? l = 9 : G[C] & 4 || (l = 3, I = z);
          break;
        case 3:
          if ("=" === C) {
            l = 5, R = w.substring(I, z);
          } else if (G[C] & 4) {
            l = 4, R = w.substring(I, z);
          } else if (">" === C || u()) {
            l = 9, t(w.substring(I, z), !0);
          }
          break;
        case 4:
          "=" === C ? l = 5 : ">" === C || u() ? (l = 9, t(R, !0)) : G[C] & 4 || (l = 3, t(R, !0), I = z);
          break;
        case 5:
          '"' === C || "'" === C ? (l = 6, ja = C, I = z + 1) : G[C] & 4 || (l = 7, I = z);
          X = !1;
          break;
        case 6:
          X || C !== ja || (l = 2, t(R, w.substring(I, z)));
          X = "\\" === C && !X;
          break;
        case 7:
          G[C] & 4 ? l = 2 : ">" === C && (l = 9), 7 !== l && t(R, w.substring(I, z));
      }
      ++z;
    }
    if (9 === l) {
      l = P.toUpperCase();
      c ||= !!ba[P];
      D ||= 0 < P.indexOf(":");
      m = c || D;
      if (!m) {
        for (; v;) {
          if (F[v] && !F[v][l]) {
            q(k, x, v, !1), v = k[k.length - 1];
          } else {
            break;
          }
        }
      }
      (O = O || !!da[l]) || (k[k.length] = m ? P : l);
      la(x, m ? P : l, N ? E : null, O);
      return z;
    }
    return 0;
  }
  for (var p = [], r = 0, D = !1, d, B, n, A; a;) {
    if (d = p[p.length - 1], B = ea[d], a.indexOf("<?") === r) {
      if (h(), n = a.indexOf("?>"), -1 !== n) {
        ma(b, H(a.substring(2, n))), a = a.substr(n + 2);
      } else {
        e(a);
        return;
      }
    } else if (a.indexOf("</", r) === r && G[a.charAt(r + 2)] & 3) {
      if (B && ("PLAINTEXT" === d || "plaintext" === d ? A = !0 : a.indexOf(d.toLowerCase(), r) !== r + 2 && a.indexOf(d.toUpperCase(), r) !== r + 2 && (A = !0)), A) {
        g(), A = !1;
      } else {
        if (h(), n = f(p, b, a)) {
          a = a.substr(n);
        } else {
          e(a);
          return;
        }
      }
    } else if (B) {
      g();
    } else if ("<" === a.charAt(r) && G[a.charAt(r + 1)] & 3) {
      if (h(), n = y(p, d, b, a)) {
        a = a.substr(n);
      } else {
        e(a);
        return;
      }
    } else if (a.indexOf("\x3c!--") === r) {
      if (h(), n = a.indexOf("--\x3e"), -1 !== n) {
        na(b, H(a.substring(4, n))), a = a.substr(n + 3);
      } else {
        e(a);
        return;
      }
    } else if (a.indexOf("<![CDATA[") === r) {
      if (h(), n = a.indexOf("]]\x3e"), -1 !== n) {
        oa(b, H(a.substring(9, n))), a = a.substr(n + 3);
      } else {
        e(a);
        return;
      }
    } else if (a.indexOf("<!DOCTYPE ") === r) {
      if (h(), n = a.indexOf(">"), -1 !== n) {
        b.ba.splice(0, 1, 9, a.substring(r, n + 1)), a = a.substr(n + 1);
      } else {
        e(a);
        return;
      }
    } else {
      g();
    }
  }
  q(p, b, "", !0);
}
;function K(a) {
  return a === "" + a;
}
function L(a) {
  return !!a && a.constructor === Array;
}
;function M(a, b, c) {
  var g = a, h = Q(g), e = 0, f = b(a, null, -1, e / 3), q = [-1, a, h], y = !1;
  if (Infinity === f || -Infinity === f) {
    return !1;
  }
  if (0 < g.length - h) {
    do {
      var p = ++q[e];
      var r = g[p + h];
      if (null != r) {
        f = b(r, g, p + h, e / 3 + 1);
        if (Infinity === f) {
          return y;
        }
        if (-Infinity !== f) {
          if (-1 >= f) {
            q[e] += f, y = !0;
          } else {
            if (1 <= f && (q[e] += f, y = !0), Q(r) < r.length) {
              e += 3, q[e] = -1, q[e + 1] = g = r, q[e + 2] = h = Q(r);
            } else if (c && g) {
              f = c(r, g, p + h, e / 3 + 1);
              if (Infinity === f) {
                return y;
              }
              -Infinity !== f && (-1 >= f || 1 <= f) && (q[e] += f, y = !0);
            }
          }
        }
      } else {
        if (q.length = e, e -= 3, g = q[e + 1], h = q[e + 2], c && g) {
          p = q[e] + h;
          f = c(g[p], g, p, e / 3 + 1);
          if (Infinity === f) {
            return y;
          }
          -Infinity !== f && (-1 >= f || 1 <= f) && (q[e] += f, y = !0);
        }
      }
    } while (0 <= e);
  }
  c && c(a, null, -1, 0);
  return y;
}
;var pa = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, script:!0, style:!0, textarea:!0}, qa = {PRE:!0, LISTING:!0, pre:!0, listing:!0};
function S(a) {
  return K(a) || a === +a;
}
function T(a) {
  var b;
  if (b = a === "" + +a) {
    b = +a, b = b === +b && b !== b + 1;
  }
  return b ? +a : a;
}
function U(a) {
  if (S(a)) {
    a = 3;
  } else {
    if (L(a)) {
      if (K(a[0])) {
        a = 1;
      } else {
        var b = a[0];
        a = b === +b ? a[0] : -1;
      }
    } else {
      a = -1;
    }
  }
  return a;
}
function Q(a) {
  var b = a[0], c = U(a);
  return 1 === c || 17 === c ? (b = b === +b ? 2 : 1, a = a[b], !L(a) && a && "object" === typeof a ? b + 1 : b) : 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
}
function J(a) {
  return a.split("\r\n").join("\n").split("\r").join("\n");
}
function V(a, b) {
  for (; a.charAt(0) === b;) {
    a = a.substr(1);
  }
  return a;
}
function W(a, b) {
  for (; a.charAt(a.length - 1) === b;) {
    a = a.substr(0, a.length - 1);
  }
  return a;
}
function ra(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), g = "", h = "";
  b < c ? (g = a.split(".")[1], a = a.split(".")[0], 0 < b && (h = a.split("#")[1], a = a.split("#")[0])) : c < b && (h = a.split("#")[1], a = a.split("#")[0], 0 < c && (g = a.split(".")[1], a = a.split(".")[0]));
  return [a, h, g];
}
function sa(a, b, c) {
  b && (a += "#" + b);
  c && (a += "." + c);
  return a;
}
function ta(a) {
  function b(D, d) {
    e[W(D, " ")] = "0px" === d ? 0 : T(W(d, " "));
    ++f;
  }
  for (var c = 0, g = a.length, h = 0, e = {}, f = 0, q, y, p = "", r; h < g; ++h) {
    q = a.charAt(h);
    switch(c) {
      case 0:
        if (G[q] & 4) {
          break;
        }
        y = h;
        c = 1;
      case 1:
        ":" === q && (r = a.substring(y, h), c = 2);
        break;
      case 2:
        if (G[q] & 4) {
          break;
        }
        y = h;
        c = 3;
      case 3:
        '"' === q || "'" === q ? (p = q, c = 4) : ";" === q && (b(r, a.substring(y, h)), c = 0);
        break;
      case 4:
        p === q && (p = "", c = 3);
    }
    3 <= c && b(r, a.substring(y));
  }
  return f ? e : null;
}
;function ua(a, b) {
  function c(d, B, n) {
    function A(v, x) {
      for (; 0 <= d.indexOf(v);) {
        d = d.split(v).join(x);
      }
    }
    n && (d = d.replace(/([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])\s([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g, "$1$2"));
    d = d.split("\t").join(" ");
    A("\n\n", "\n");
    A("  ", " ");
    if (B && ("\n " === d.substr(d.length - 2) && (d = W(d, " ")), "\n" === d.charAt(d.length - 1))) {
      var k = "\n" === d.charAt(0);
    }
    d = W(d, "\n");
    d = d.split("\n").join(" ");
    A("  ", " ");
    k && (d = W(V(d, " "), " "));
    d = d.split("\\u0020").join(" ").split("&#x20;").join(" ").split("&#32;").join(" ");
    return T(d);
  }
  function g(d, B) {
    function n(t) {
      return t.split("\n").join("").split(" ").join("").split("\t").join("");
    }
    function A(t) {
      var u;
      M(t, function(l, m, z) {
        3 === U(l) && (u = [l, m, z]);
      });
      return u;
    }
    var k, v;
    for (M(d, function(t, u, l) {
      if (3 === U(t)) {
        t = "" + (S(t) ? t : t[1]);
        if (n(t)) {
          return u.splice(l, 1, V(t, "\n")), Infinity;
        }
        u.splice(l, 1);
        return -1;
      }
    }); k = A(d);) {
      var x = k[0];
      var w = k[1];
      k = k[2];
      x = "" + (S(x) ? x : x[1]);
      if (n(x)) {
        w.splice(k, 1, W(x, "\n"));
        break;
      } else {
        w.splice(k, 1);
      }
    }
    if (B) {
      for (; M(d, function(t, u, l) {
        if (3 === U(t)) {
          var m = A(d);
          var z = m ? u === m[1] && l === m[2] : !1;
          m = "" + (S(t) ? t : t[1]);
          for (var E = m.split("\n"), N = 0, O = E.length, C; N < O - (z ? 0 : 1); ++N) {
            for (m = E[N];;) {
              if (C = m.charAt(m.length - 1), "\t" === C || " " === C) {
                m = m.substr(0, m.length - 1);
              } else {
                break;
              }
            }
            E[N] = m;
          }
          m = E.join("\n");
          if ("\n" === m && v) {
            return t = v[0], z = v[1], E = v[2], S(t) ? z[E] += m : t[1] += m, u.splice(l, 1), -1;
          }
          S(t) ? u[l] = m : t[1] = m;
          v = [t, u, l];
        }
      });) {
      }
    }
  }
  b = b || {};
  var h = -1 !== ["normal", !0, "aggressive"].indexOf(b.trimWhitespaces), e = "aggressive" === b.trimWhitespaces, f = !!b.removeNewlineBetweenFullWidthChars, q = !1 !== b.keepCDATASections, y = !1 !== b.keepComments, p = !0 === b.keepEmptyConditionalComment, r = b.instructionAttrPrefix || ":", D;
  M(a, function(d, B, n) {
    var A = d[0], k = d[1], v = 1;
    switch(U(d)) {
      case 9:
        h && (d[1] = k.split("\n").join(" ").split("  ").join(" "));
        break;
      case 3:
        L(d) || (k = d);
        if (K(k)) {
          if (D || (k = J(k), h && (k = c(k, e, f))), "" !== k) {
            B[n] = k;
          } else {
            return B.splice(n, 1), -1;
          }
        }
        break;
      case 4:
        if (!q) {
          return B.splice(n, 1), -1;
        }
        break;
      case 8:
        if (!y) {
          return B.splice(n, 1), -1;
        }
        break;
      case 15:
        var x = B[n - 1];
        if (!p && x && 14 === x[0]) {
          return B.splice(n - 1, 2), -2;
        }
        break;
      case 1:
      case 17:
        A === +A && (A = k, v = 2);
        A = ra(A)[0];
        var w = d[v];
        if (!L(w) && w && "object" === typeof w) {
          B = v - 1;
          n = 0;
          k = ra(d[B]);
          var t = k[1], u = k[2];
          k = k[0];
          for (l in w) {
            if (w = 0 === l.indexOf(r)) {
              var l = l.substr(r.length);
              "className" === l && (l = "class");
            }
            ++n;
          }
          d[B] = sa(k, t, u);
          0 === n && d.splice(v, 1);
        }
        if (qa[A]) {
          g(d, e), D = d;
        } else if (pa[A]) {
          d = D = d;
          A = Q(d);
          v = d.length;
          for (var m, z, E; A < v; ++A) {
            l = d[A], 3 === U(l) && (x = x || A, m = m || l, z = A, E = l);
          }
          x && (L(m) && (m = m[1]), L(E) && (E = E[1]), x === z ? K(m) && (m = J(m), m = W(V(m, "\n"), "\n"), d[x] = T(m)) : (K(m) && (m = J(m), m = V(m, "\n"), d[x] = T(m)), K(E) && (E = J(E), E = W(E, "\n"), d[z] = T(E))));
        }
    }
  }, function(d, B, n) {
    if (!p) {
      switch(U(d)) {
        case 13:
        case 16:
          if (2 === d.length) {
            return B.splice(n, 1), -1;
          }
      }
    }
    D === d && (D = null);
  }) && va(a);
}
function va(a) {
  function b() {
    h.splice(e, 0, T(c));
    c = "";
  }
  var c = "", g, h, e;
  M(a, function(f, q, y, p) {
    if (c && g !== p) {
      return b(), 1;
    }
    if (3 === U(f)) {
      return c = S(f) ? c + f : c + f[1], q.splice(y, 1), g = p, h = q, e = y, -1;
    }
    if (c) {
      return b(), 1;
    }
  });
  c && b();
}
;function Y(a, b, c, g) {
  g = g || {};
  const h = g.argumentBrackets || "()";
  a = wa(a, g.instructionAttrPrefix || ":", h.substr(0, h.length / 2), h.substr(h.length / 2), !!b, c);
  null == g.trimWhitespaces && (g.trimWhitespaces = !0);
  null == g.keepCDATASections && (g.keepCDATASections = !1);
  null == g.keepComments && (g.keepComments = !1);
  null == g.keepEmptyConditionalComment && (g.keepEmptyConditionalComment = !1);
  ua(a, g);
  return a;
}
function xa(a, b, c, g) {
  var h = a.indexOf(b);
  c = a.lastIndexOf(c);
  var e = W(V(-1 === h ? a : a.substr(0, h), " "), " ");
  if (-1 !== h) {
    try {
      var f = JSON.parse("[" + a.substring(h + b.length, c) + "]");
    } catch (q) {
      g && g(q);
    }
  }
  return f && f.length ? [e, f] : [e];
}
function wa(a, b, c, g, h, e) {
  b = new ya(b, c, g, h, e);
  ia(a, b, !!b.ka);
  return b.ba;
}
function ya(a, b, c, g, h) {
  this.ga = a;
  this.ea = b;
  this.da = c;
  this.ia = g;
  this.aa = h;
  this.$ = this.ba = [11];
  this.fa = [this.ba];
  this.ha = !1;
}
ya.prototype.ja = function(a) {
  this.aa && this.aa(a);
};
function la(a, b, c, g) {
  var h = 0, e;
  if (c) {
    for (e in c) {
      var f = ca[e] ? 1 : c[e];
      if ("id" === e) {
        var q = f;
        delete c[e];
      } else if ("class" === e) {
        var y = f;
        delete c[e];
      } else {
        if ("style" === e) {
          f = ta(f);
          if (!f) {
            delete c[e];
            continue;
          }
          var p = void 0;
          var r = f, D = [], d = -1;
          for (p in r) {
            f = r[p];
            "0px" === f && (f = 0);
            for (var B = ++d, n, A = [], k = p.split(""), v = k.length; v;) {
              n = k[--v], "A" <= n && "Z" >= n && (n = "-" + n.toLowerCase()), A[v] = n;
            }
            n = A.join("");
            D[B] = n + ":" + f;
          }
          f = D.join(";");
        } else {
          e.startsWith(a.ga) && (p = xa(f, a.ea, a.da, a.aa), p[1] ? (f = [p[0]], f.push.apply(f, p[1])) : f = p[0]);
        }
        c[e] = T(f);
        ++h;
      }
    }
  }
  b = [sa(b, q, y)];
  h && (b[1] = c);
  a.$.push(b);
  g || (b.unshift(17), a.$ = b, a.fa.push(b));
}
function ka(a, b, c, g) {
  g ? a.ia && a.$.push([18, b]) : c && a.ia || (b === ra(a.$[1])[0] ? (a.$.shift(), a.fa.pop(), a.$ = a.fa[a.fa.length - 1]) : a.aa && a.aa("End tag error! " + b));
}
function na(a, b) {
  function c(h, e, f, q) {
    e = h.indexOf(e) + e.length;
    f = q ? h.lastIndexOf(f) : h.indexOf(f, e);
    return h.substring(e, f);
  }
  if (b.startsWith("[if") && 0 < b.indexOf("<![endif]")) {
    var g = wa(c(b, ">", "<![endif]", !0), a.ga, a.ea, a.da, !0, a.aa);
    g.splice(0, 1, 13, c(b, "[", "]", !1));
  } else {
    b.startsWith("{") && 2 < b.indexOf("};") ? (g = wa(b.substring(b.indexOf("};") + 2), a.ga, a.ea, a.da, !0, a.aa), g.splice(0, 1, 16, c(b, "{", "};", !1))) : b.startsWith("[if") && 0 < b.indexOf("><!") ? (g = [14, c(b, "[", "]", !1)], a.ha = !0) : "<![endif]" === b && a.ha ? (g = [15], a.ha = !1) : g = [8, T(J(b))];
  }
  a.$.push(g);
}
function oa(a, b) {
  a.$.push([4, T(J(b))]);
}
function ma(a, b) {
  b = xa(b, a.ea, a.da, a.aa);
  var c = [7, b[0]];
  b[1] && c.push.apply(c, b[1]);
  a.$.push(c);
}
;module.exports = Y;
Y.DOCUMENT_NODE = 9;
Y.DOCUMENT_FRAGMENT_NODE = 11;
Y.ELEMENT_NODE = 1;
Y.TEXT_NODE = 3;
Y.CDATA_SECTION = 4;
Y.PROCESSING_INSTRUCTION = 7;
Y.COMMENT_NODE = 8;
Y.COND_CMT_HIDE_LOWER = 13;
Y.COND_CMT_SHOW_LOWER_START = 14;
Y.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Y.ELEMENT_START_TAG = 17;
Y.ELEMENT_END_TAG = 18;
Y.gulp = function(a, b) {
  const c = require("plugin-error"), g = require("through2"), h = b || {}, e = h.prettify;
  let f = 0, q = 0, y = 0;
  return g.obj(function(p, r, D) {
    if (p.isNull()) {
      return D();
    }
    if (p.isStream()) {
      return this.emit("error", new c("html2json", "Streaming not supported")), D();
    }
    if (".html" === p.extname || ".htm" === p.extname || ".xhtml" === p.extname || ".php" === p.extname) {
      try {
        const d = p.contents.toString(r), B = performance.now(), n = Y(d, !1, a, h);
        ++f;
        q += d.length;
        y += performance.now() - B;
        p.contents = Buffer.from(JSON.stringify(n, null, e ? "    " : ""));
        p.stem += p.extname;
        p.extname = ".json";
      } catch (d) {
        return this.emit("error", new c("html2json", d)), D();
      }
    }
    D(null, p);
  }, function(p) {
    console.log("[html2json] done!");
    console.log("  Number of files: " + f);
    console.log("  Total file size: " + (q / 100 | 0) / 10 + "KB");
    console.log("  Total Time     : " + (y | 0) + "ms");
    console.log("  Time per file  : " + (y / f * 100 | 0) / 100 + "ms");
    console.log("  Time per size  : " + (y / q * 1E5 | 0) + "ms/100KB");
    p();
  });
};

